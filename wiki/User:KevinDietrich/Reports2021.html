<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User:KevinDietrich/Reports2021 - Blender Developer Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:KevinDietrich/Reports2021","wgTitle":"KevinDietrich/Reports2021","wgCurRevisionId":28262,"wgRevisionId":28262,"wgArticleId":5579,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"User:KevinDietrich/Reports2021","wgRelevantArticleId":5579,"wgRequestId":"18394ffdc8c46260f05b8b9d","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRelevantUserName":"KevinDietrich","wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.bootstrap":"ready"});mw.loader.implement("user.tokens@1lo3932",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.bootstrap.js"]);});</script>
<link rel="stylesheet" href="../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|skins.bootstrap&amp;only=styles&amp;skin=bootstrap.css"/>
<script async="" src="../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=bootstrap"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=bootstrap.css"/>
<meta name="generator" content="MediaWiki 1.31.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
<link rel="shortcut icon" href="../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.blender.org/w/opensearch_desc.php" title="Blender Developer Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.blender.org/w/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Blender Developer Wiki Atom feed" href="https://wiki.blender.org/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<script defer data-domain="wiki.blender.org" src="https://analytics.blender.org/js/script.js"></script>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=bootstrap&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-User_KevinDietrich_Reports2021 rootpage-User_KevinDietrich skin-bootstrap action-view"><style>
   @font-face {
      font-family: "Heebo";
      src: url("https://www.blender.org/wp-content/themes/bthree/assets_shared/font/Heebo/Heebo-VariableFont_wght.ttf") format("truetype-variations");
      font-weight: normal;
      font-variation-settings: "wght" var(--font-weight);
      font-style: normal
    }
</style>

<style>
  /* This style block is copied across all sites using the developer navbar.
   * For custom styling on this website, add a <style> block after this one. */

  /* Variables. */
  .nav-global {
    -webkit-font-smoothing: antialiased;

    --nav-global-color-bg: hsl(213, 10%, 14%);
    --nav-global-color-text: hsl(213, 5%, 64%);
    --nav-global-color-text-secondary: hsl(213, 5%, 44%);
    --nav-global-color-text-highlight: hsl(213, 5%, 84%);
    --nav-global-color-text-hover: white;
    --nav-global-color-text-active: white;

    --nav-global-color-primary: hsl(204, 98%, 54%);
    --nav-global-color-primary-bg: hsla(204, 100%, 46%, .1);

    --nav-global-color-button-bg-hover: hsl(213, 10%, 24%);
    --nav-global-color-button-text: var(--nav-global-color-text);

    --nav-global-color-menu-bg: var(--nav-global-color-bg);
    --nav-global-color-menu-border: hsl(213, 10%, 18%);

    --nav-global-color-menu-zindex: 1040;

    --nav-global-box-shadow-menu: 0px 5px 15px -2px rgba(0, 0, 0, 0.33), 0px 5px 15px -5px rgba(0, 0, 0, 0.33);
    --nav-global-box-shadow-menu-item: 0px 1px 4px 0px rgba(0, 0, 0, 0.05), 0px 15px 20px -1px rgba(0, 0, 0, 0.025);

    --nav-global-navbar-height: var(--navbar-primary-height, 56px);

    --nav-global-spacer: 15px;
    --nav-global-spacer-sm: 10px;
    --nav-global-spacer-xs: 5px;

    --nav-global-border-radius: 6px;
    --nav-global-border-radius-lg: 10px;

    --nav-global-button-height: 35px;
    --nav-global-link-padding-x: var(--nav-global-spacer);
    --nav-global-link-padding-y: var(--nav-global-spacer-sm);

    --nav-global-font-size: 14px;
    --nav-global-transition-speed: 150ms;
  }

  /* Reset. */
  @namespace svg "http://www.w3.org/2000/svg";

  .nav-global :not(svg|*),
  .nav-global *::before,
  .nav-global *::after {
    -webkit-box-sizing: border-box;

    all: unset;
    display: revert;
    box-sizing: border-box;
  }

  .nav-global [default-styles] {
    all: revert;
  }

  .nav-global * {
    -webkit-text-size-adjust: 100%;

    font-family: 'Heebo', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-variation-settings: 'wght' 400;
    font-weight: normal;
  }

  .nav-global {
    background-color: var(--nav-global-color-bg);
    color: var(--nav-global-color-text);
    display: flex;
    position: relative;
    z-index: var(--zindex-fixed);
  }

  .nav-global h3,
  .nav-global h4,
  .nav-global strong {
    font-variation-settings: 'wght' 500;
  }

  .nav-global figure,
  .nav-global section {
    display: block;
  }

  .nav-global svg:not(:root) {
    overflow: hidden;
    vertical-align: middle;
  }

  .nav-global .nav-global-container {
    flex: 1;
    margin: 0 auto;
  }

  /* Navigation. */
  .nav-global nav {
    align-items: center;
    display: flex;
    line-height: var(--nav-global-font-size);
    font-size: var(--nav-global-font-size);
    height: var(--nav-global-navbar-height);
    margin: 0 auto;
    padding: 0 var(--nav-global-spacer);
    position: relative;
  }

  /* Links. */
  .nav-global a:not(.dropdown-item) {
    color: inherit;
    cursor: pointer;
    text-decoration: none;
    transition: background-color var(--nav-global-transition-speed) ease-out, color var(--nav-global-transition-speed) ease-out;
  }

  .nav-global a:not(.dropdown-item):hover {
    color: var(--nav-global-color-text-hover);
  }

  /* Navigation items. */
  .nav-global nav > ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .nav-global nav > ul,
  .nav-global nav > ul > li,
  .nav-global nav > ul > li > a,
  .nav-global-apps-dropdown-container {
    align-items: center;
    display: inline-flex;
    height: 100%;
  }

  .nav-global-apps-dropdown-container {
    position: relative;
  }

  .nav-global nav > ul > li > a {
    padding: var(--nav-global-link-padding-y) var(--nav-global-link-padding-x);
  }

  .nav-global nav > a.is-active,
  .nav-global nav > a.is-active svg,
  .nav-global nav > ul > li > a.is-active,
  .nav-global .nav-global-link-active,
  .nav-global .nav-global-link-active svg {
    color: var(--nav-global-color-text-active) !important;
    fill: var(--nav-global-color-text-active);
    font-variation-settings: 'wght' 500;
  }

  .nav-global .nav-global-links-right {
    margin-left: auto;
  }

  /* Logo. */
  .nav-global a.nav-global-logo {
    margin-right: var(--nav-global-spacer);
    position: relative;
    top: 2px;
  }

  .nav-global a.nav-global-logo strong {
    margin-inline: var(--nav-global-spacer-sm);
    font-size: 18px;
  }

  .nav-global .nav-global-logo svg {
    height: 21px;
  }

  .nav-global a.nav-global-logo svg {
    position: relative;
    top: -4px;
  }

  .nav-global svg {
    fill: var(--nav-global-color-text);
    transition: fill var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-logo:hover svg {
    fill: white;
  }

  /* Apps button. */
  .nav-global button,
  .nav-global .nav-global-btn {
    -webkit-appearance: button;

    align-items: center;
    background-color: transparent;
    border-radius: var(--nav-global-border-radius);
    border: 0;
    color: var(--nav-global-color-button-text);
    cursor: pointer;
    display: inline-flex;
    font: inherit;
    height: var(--nav-global-button-height);
    margin: 0;
    outline: 0;
    overflow: visible;
    padding: var(--nav-global-spacer-xs) var(--nav-global-spacer);
    text-transform: none;
    transition: background-color var(--nav-global-transition-speed) ease-out, color var(--nav-global-transition-speed) ease-out, transform var(--nav-global-transition-speed) ease-out;
    white-space: nowrap;
  }

  .nav-global button span,
  .nav-global .nav-global-btn span {
    white-space: nowrap;
  }

  .nav-global button:hover,
  .nav-global .nav-global-btn:hover {
    background-color: var(--nav-global-color-button-bg-hover);
    color: var(--nav-global-color-text-hover);
    cursor: pointer;
  }

  .nav-global button.nav-global-btn-active,
  .nav-global .nav-global-btn.nav-global-btn-active {
    background-color: var(--nav-global-color-primary-bg);
    color: var(--nav-global-color-primary);
  }

  .nav-global button.nav-global-btn-active svg,
  .nav-global .nav-global-btn.nav-global-btn-active svg {
    fill: var(--nav-global-color-primary);
  }

  .nav-global .nav-global-icon {
    height: 20px;
    pointer-events: none;
    width: 20px;
  }

  .nav-global-icon-dropdown-toggle {
    margin-left: var(--nav-global-spacer-xs);
  }

  .nav-global button:hover svg,
  .nav-global .nav-global-btn:hover svg {
    fill: white;
  }

  /* Apps dropdown menu. */
  .nav-global .nav-global-apps-menu {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: var(--nav-global-border-radius-lg);
    border: thin solid var(--nav-global-color-menu-border);
    box-shadow: var(--nav-global-box-shadow-menu);
    display: none;
    padding: var(--nav-global-spacer-sm);
    position: absolute;
    right: 0;
    top: calc(100% + 15px);
    visibility: hidden;
    width: 640px;
    z-index: var(--nav-global-color-menu-zindex);
  }

  .nav-global .nav-global-dropdown.is-visible {
    display: block;
    visibility: visible;
  }

  /* Tiny triangle in the corner. */
  .nav-global .nav-global-apps-menu::before {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: 3px;
    border: 2px var(--nav-global-color-menu-bg) solid;
    content: '';
    display: block;
    height: .85rem;
    position: absolute;
    right: .85rem;
    top: -0.25rem;
    transform: rotate(45deg);
    width: 1rem;
    z-index: -1;
  }

  .nav-global .nav-global-apps-menu ul {
    border-bottom: 2px solid rgba(255, 255, 255, .05);
    display: grid;
    gap: var(--nav-global-spacer-sm);
    grid-template-columns: repeat(2, 1fr);
    list-style: none;
    margin: 0 0 var(--nav-global-spacer-xs) 0;
    padding: var(--nav-global-spacer-xs) 0 var(--nav-global-spacer-sm) 0;
  }

  .nav-global .nav-global-apps-menu ul>li>a {
    border-radius: var(--nav-global-border-radius-lg);
    display: flex;
    flex: 1;
    height: 100%;
  }

  .nav-global .nav-global-apps-menu ul>li>a:hover {
    background-color: rgba(255, 255, 255, .05);
    color: var(--nav-global-color-text-active);
    box-shadow: var(--nav-global-box-shadow-menu-item);
  }

  .nav-global .nav-global-apps-menu ul>li>a:hover h4,
  .nav-global .nav-global-apps-menu ul>li>a:hover svg {
    color: var(--nav-global-color-primary);
    fill: var(--nav-global-color-primary);
  }

  .nav-global .nav-global-apps-menu h3 {
    color: white;
    display: inline-block;
    font-size: 13px;
    line-height: 18px;
    margin: 0;
    opacity: .3;
    padding-left: var(--nav-global-spacer);
  }

  .nav-global .nav-global-apps-menu h4 {
    color: var(--nav-global-color-text-highlight);
    font-size: 17px;
    line-height: 18px;
    margin: var(--nav-global-spacer-xs) 0 0;
    padding: var(--nav-global-spacer-sm) var(--nav-global-spacer) 0;
    transition: color var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-apps-menu p {
    font-size: 15px;
    line-height: 20px;
    margin: 0;
    opacity: .8;
    padding: var(--nav-global-spacer-xs) var(--nav-global-spacer) var(--nav-global-spacer-sm);
  }

  .nav-global .nav-global-apps-menu figure {
    margin: var(--nav-global-spacer) 0 0 var(--nav-global-spacer);
  }

  .nav-global .nav-global-apps-menu ul>li>a svg {
    position: relative;
    top: -2px;
  }

  /* Donate section of the menu. */
  .nav-global .nav-global-apps-menu-section-donate ul {
    border: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }

  .nav-global .nav-global-apps-menu-section-donate a svg {
    fill: hsl(352, 90%, 62%) !important;
    transition: transform var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a {
    background-color: hsla(352deg, 90%, 42%, .2);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover {
    background-color: hsla(352deg, 90%, 42%, .5);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover svg {
    fill: hsl(352, 90%, 72%) !important;
    transform: scale(1.2);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover h4 {
    color: white;
  }

/* Mobile. */
.nav-global button.nav-global-logo {
  display: none;
  visibility: hidden;
}

@media (max-width: 767px) {

  .nav-global-apps-dropdown-container,
  .nav-global a.nav-global-logo {
    display: none;
  }

  .nav-global button.nav-global-logo {
    display: block;
    visibility: visible;
  }

  .nav-global .nav-global-nav-links {
    align-items: flex-start;
    background-color: var(--nav-global-color-menu-bg);
    border-radius: var(--nav-global-border-radius-lg);
    display: none;
    flex-direction: column;
    left: 1rem;
    padding: 0 var(--nav-global-spacer-sm);
    position: absolute;
    top: calc(100% + .5rem);
    visibility: visible;
    width: 10rem;
    z-index: var(--nav-global-color-menu-zindex);
  }

  .nav-global .nav-global-nav-links.is-visible {
    display: flex;
  }

  .nav-global .nav-global-nav-links::before {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: 3px;
    border: 2px var(--nav-global-color-menu-bg) solid;
    content: '';
    display: block;
    height: 0.8rem;
    position: absolute;
    left: 1.5rem;
    top: -0.133rem;
    transform: rotate(45deg);
    width: 1rem;
    z-index: -1;
  }

  .nav-global nav>ul {
    height: initial;
  }

  .nav-global .nav-global-nav-links>li {
    border-bottom: 2px solid rgba(255, 255, 255, .05);
    width: 100%;
  }

  .nav-global .nav-global-nav-links>li:last-child {
    border: none;
  }

  .nav-global .nav-global-nav-links>li>a {
    padding-inline: 0;
    width: 100%;
  }
}
</style>

<style>
  /* Custom styling for code.blender.org */
  /* Make sure to start every line with ".nav-global"
   * so changes affect the developer navbar only. */

  /* Limit navbar width on large screens. */
  @media (min-width: 1200px) {
    .nav-global .nav-global-container {
      max-width: 1170px;
    }
  }
</style>

<div class="nav-global">
  <div class="nav-global-container">
    <nav>
      <a href="https://developer.blender.org/" class="nav-global-logo">
        <svg fill-rule="nonzero" viewBox="0 0 200 162.05">
          <path
            d="M61.1 104.56c.05 2.6.88 7.66 2.12 11.61a61.27 61.27 0 0 0 13.24 22.92 68.39 68.39 0 0 0 23.17 16.64 74.46 74.46 0 0 0 30.42 6.32 74.52 74.52 0 0 0 30.4-6.42 68.87 68.87 0 0 0 23.15-16.7 61.79 61.79 0 0 0 13.23-22.97 58.06 58.06 0 0 0 2.07-25.55 59.18 59.18 0 0 0-8.44-23.1 64.45 64.45 0 0 0-15.4-16.98h.02L112.76 2.46l-.16-.12c-4.09-3.14-10.96-3.13-15.46.02-4.55 3.18-5.07 8.44-1.02 11.75l-.02.02 26 21.14-79.23.08h-.1c-6.55.01-12.85 4.3-14.1 9.74-1.27 5.53 3.17 10.11 9.98 10.14v.02l40.15-.07-71.66 55-.27.2c-6.76 5.18-8.94 13.78-4.69 19.23 4.32 5.54 13.51 5.55 20.34.03l39.1-32s-.56 4.32-.52 6.91zm100.49 14.47c-8.06 8.2-19.34 12.86-31.54 12.89-12.23.02-23.5-4.6-31.57-12.79-3.93-4-6.83-8.59-8.61-13.48a35.57 35.57 0 0 1 2.34-29.25 39.1 39.1 0 0 1 9.58-11.4 44.68 44.68 0 0 1 28.24-9.85 44.59 44.59 0 0 1 28.24 9.77 38.94 38.94 0 0 1 9.58 11.36 35.58 35.58 0 0 1 4.33 14.18 35.1 35.1 0 0 1-1.98 15.05 37.7 37.7 0 0 1-8.61 13.52zm-57.6-27.91a23.55 23.55 0 0 1 8.55-16.68 28.45 28.45 0 0 1 18.39-6.57 28.5 28.5 0 0 1 18.38 6.57 23.57 23.57 0 0 1 8.55 16.67c.37 6.83-2.37 13.19-7.2 17.9a28.18 28.18 0 0 1-19.73 7.79c-7.83 0-14.84-3-19.75-7.8a23.13 23.13 0 0 1-7.19-17.88z" />
          <strong>Developer</strong>
        </svg>
      </a>

      <button class="nav-global-logo js-dropdown-toggle" data-toggle-menu-id="nav-global-nav-links">
        <svg fill-rule="nonzero" viewBox="0 0 850.2 162.05">
          <path d="M61.1 104.56c.05 2.6.88 7.66 2.12 11.61a61.27 61.27 0 0 0 13.24 22.92 68.39 68.39 0 0 0 23.17 16.64 74.46 74.46 0 0 0 30.42 6.32 74.52 74.52 0 0 0 30.4-6.42 68.87 68.87 0 0 0 23.15-16.7 61.79 61.79 0 0 0 13.23-22.97 58.06 58.06 0 0 0 2.07-25.55 59.18 59.18 0 0 0-8.44-23.1 64.45 64.45 0 0 0-15.4-16.98h.02L112.76 2.46l-.16-.12c-4.09-3.14-10.96-3.13-15.46.02-4.55 3.18-5.07 8.44-1.02 11.75l-.02.02 26 21.14-79.23.08h-.1c-6.55.01-12.85 4.3-14.1 9.74-1.27 5.53 3.17 10.11 9.98 10.14v.02l40.15-.07-71.66 55-.27.2c-6.76 5.18-8.94 13.78-4.69 19.23 4.32 5.54 13.51 5.55 20.34.03l39.1-32s-.56 4.32-.52 6.91zm100.49 14.47c-8.06 8.2-19.34 12.86-31.54 12.89-12.23.02-23.5-4.6-31.57-12.79-3.93-4-6.83-8.59-8.61-13.48a35.57 35.57 0 0 1 2.34-29.25 39.1 39.1 0 0 1 9.58-11.4 44.68 44.68 0 0 1 28.24-9.85 44.59 44.59 0 0 1 28.24 9.77 38.94 38.94 0 0 1 9.58 11.36 35.58 35.58 0 0 1 4.33 14.18 35.1 35.1 0 0 1-1.98 15.05 37.7 37.7 0 0 1-8.61 13.52zm-57.6-27.91a23.55 23.55 0 0 1 8.55-16.68 28.45 28.45 0 0 1 18.39-6.57 28.5 28.5 0 0 1 18.38 6.57 23.57 23.57 0 0 1 8.55 16.67c.37 6.83-2.37 13.19-7.2 17.9a28.18 28.18 0 0 1-19.73 7.79c-7.83 0-14.84-3-19.75-7.8a23.13 23.13 0 0 1-7.19-17.88z" />
          <path d="M829.17 133.76h-15.9V64.39h15.13l.77 13.59zM850.07 79q-1.47-.25-3.14-.38-1.6-.13-3.2-.13-5.26 0-8.8 1.92-3.45 1.86-5.25 5.39-1.8 3.46-2.11 8.2l-3.66.07q0-8.78 2.31-15.77 2.3-6.99 6.92-11.1 4.62-4.1 11.54-4.1 1.35 0 3.02.26 1.66.26 2.5.58zm-76.55 56.04q-10.32 0-17.82-4.42-7.5-4.5-11.55-12.06-4.03-7.63-4.03-17.05v-2.63q0-10.84 4.1-18.85 4.1-8.08 11.22-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.6 4.3 9.88 12 3.27 7.62 3.27 17.69V104h-53.67V92.53h37.96v-1.22q-.13-4.04-1.54-7.56-1.4-3.53-4.49-5.7-3.01-2.19-8.07-2.19-5.07 0-8.53 2.89-3.46 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.19 10.58 2.18 4.68 6.34 7.43 4.17 2.7 9.94 2.7 5.58 0 9.87-2.18 4.36-2.18 7.5-6.29l8.34 8.34q-3.27 4.93-9.87 8.97-6.54 3.98-16.8 3.98zm-88.67 25.39h-15.9V64.39h14.68l1.22 13.33zm45-60.72q0 10.13-3.13 18.15-3.08 7.95-9.1 12.56-5.97 4.62-14.63 4.62-8.72 0-14.49-4.23-5.7-4.3-8.9-11.8-3.21-7.5-4.43-17.12v-4.55q1.22-10.26 4.42-17.89 3.2-7.7 8.91-11.99 5.71-4.36 14.3-4.36 8.79 0 14.81 4.43 6.03 4.42 9.1 12.37 3.15 7.95 3.15 18.47zm-15.9-1.34q0-6.22-1.6-11.29-1.53-5.06-5-8.01-3.4-2.95-8.9-2.95-3.98 0-6.87 1.35-2.88 1.28-4.87 3.65-1.92 2.37-3.01 5.64-1.1 3.2-1.54 7.05v11.6q.77 4.62 2.56 8.47 1.8 3.85 5.13 6.16 3.4 2.24 8.72 2.24 5.51 0 8.91-3.08 3.4-3.14 4.94-8.2 1.54-5.13 1.54-11.29zm-122.51.06q0-10.13 3.84-18.08 3.85-7.95 11.03-12.57 7.25-4.68 17.38-4.68 10.25 0 17.5 4.68 7.24 4.62 11.03 12.57 3.84 7.95 3.84 18.08v1.35q0 10.06-3.84 18.08-3.79 7.95-11.03 12.56-7.18 4.62-17.38 4.62-10.19 0-17.43-4.62-7.25-4.61-11.1-12.56-3.84-8.02-3.84-18.08zm15.9 1.35q0 6.15 1.73 11.28 1.73 5.07 5.32 8.14 3.65 3.08 9.42 3.08 5.71 0 9.3-3.08 3.65-3.07 5.32-8.14 1.73-5.13 1.73-11.28v-1.35q0-6.09-1.73-11.22-1.67-5.13-5.32-8.2-3.65-3.15-9.42-3.15-5.71 0-9.36 3.14-3.6 3.08-5.33 8.21-1.66 5.13-1.66 11.22zm-29.69 33.98h-15.9V35.28h15.9zm-56.67 1.28q-10.33 0-17.83-4.42-7.5-4.5-11.54-12.06-4.04-7.63-4.04-17.05v-2.63q0-10.84 4.1-18.85 4.11-8.08 11.23-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.6 4.3 9.88 12 3.27 7.62 3.27 17.69V104H495.2V92.53h37.96v-1.22q-.13-4.04-1.54-7.56-1.41-3.53-4.49-5.7-3.01-2.19-8.08-2.19-5.06 0-8.52 2.89-3.47 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.18 10.58t6.35 7.43q4.17 2.7 9.94 2.7 5.58 0 9.87-2.18 4.36-2.18 7.5-6.29l8.34 8.34q-3.27 4.93-9.88 8.97-6.54 3.98-16.8 3.98zM464.3 64.39h16.48l-23.98 69.37h-10.26l1.03-12.57zm-12.25 57 .77 12.37h-10.19l-24.17-69.37H435zm-65.88 13.65q-10.32 0-17.82-4.42-7.5-4.5-11.54-12.06-4.04-7.63-4.04-17.05v-2.63q0-10.84 4.1-18.85 4.1-8.08 11.22-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.61 4.3 9.88 12 3.27 7.62 3.27 17.69V104H360.4V92.53h37.95v-1.22q-.12-4.04-1.53-7.56-1.42-3.53-4.5-5.7-3-2.19-8.07-2.19t-8.53 2.89q-3.46 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.19 10.58 2.18 4.68 6.35 7.43 4.16 2.7 9.93 2.7 5.58 0 9.88-2.18 4.36-2.18 7.5-6.29l8.33 8.34q-3.27 4.93-9.87 8.97-6.54 3.98-16.8 3.98zm-107.64-1.28.12-13.27h19.75q8.6 0 14.36-3.72 5.77-3.72 8.72-10.65 2.95-6.98 2.95-16.67v-4.87q0-9.94-2.95-16.8-2.88-6.86-8.59-10.45-5.7-3.59-13.91-3.59h-20.84V40.41h20.84q12.5 0 21.93 5.51 9.48 5.52 14.8 15.45 5.33 9.94 5.33 23.34v4.74q0 13.47-5.32 23.4-5.33 9.94-14.94 15.46-9.56 5.45-22.38 5.45zm9.23 0h-16.54V40.4h16.54z" />
        </svg>
        <svg class="nav-global-icon nav-global-icon-dropdown-toggle" height="100px" width="100px" viewBox="0 0 1000 1000">
          <path d="m 206.53824,376.41174 a 42,42 0 0 1 71,-29 l 221,220 220,-220 a 42,42 0 1 1 59,59 l -250,250 a 42,42 0 0 1 -59,0 l -250,-250 a 42,42 0 0 1 -12,-30 z"/>
        </svg>
      </button>

      <ul class="nav-global-nav-links nav-global-dropdown js-dropdown-menu" id="nav-global-nav-links">
        <li>
          <a href="https://projects.blender.org">Projects</a>
        </li>
        <li>
          <a href="https://wiki.blender.org" class="nav-global-link-active">Docs</a>
        </li>
        <li>
          <a href="https://code.blender.org">Blog</a>
        </li>
        <li>
          <a href="https://devtalk.blender.org">Forum</a>
        </li>
        <li>
          <a href="https://builder.blender.org">Builds</a>
        </li>
      </ul>

      <ul class="nav-global-links-right">
        <li>
          <div class="nav-global-apps-dropdown-container">
            <button class="js-dropdown-toggle" data-toggle-menu-id="nav-global-apps-menu">
              <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                <path
                  d="m 150.5,899 a 50,50 0 0 1 -49,-50 V 749 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 749 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 749 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m -598,-299 a 50,50 0 0 1 -49,-50 V 450 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 450 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 450 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m -598,-299 a 50,50 0 0 1 -49,-50 V 151 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 151 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 151 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z"/>
              </svg>
            </button>

            <div class="nav-global-apps-menu nav-global-dropdown js-dropdown-menu" id="nav-global-apps-menu">
              <h3>BLENDER.ORG</h3>
              <ul>
                <li>
                  <a href="https://www.blender.org/download/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 49.15424,599.52895 a 50.360431,50.360431 0 0 0 -49.16137168,50.36043 v 200.24266 c 0,81.53594 68.34629768,149.88226 149.88223168,149.88226 h 700.2498 c 81.53593,0 149.8822,-68.34632 149.8822,-149.88226 V 649.88938 a 50.360431,50.360431 0 1 0 -100.72083,0 v 200.24266 c 0,27.57834 -21.58304,49.16138 -49.16137,49.16138 H 149.8751 c -27.57833,0 -49.16137,-21.58304 -49.16137,-49.16138 V 649.88938 A 50.360431,50.360431 0 0 0 49.15424,599.52895 Z M 249.3969,350.12491 a 50.360431,50.360431 0 0 0 -34.77267,85.13311 l 250.60309,249.40404 a 50.360431,50.360431 0 0 0 70.74442,0 L 785.37577,435.25802 A 50.360431,50.360431 0 1 0 714.63136,364.51361 L 500,579.14497 285.36864,364.51361 A 50.360431,50.360431 0 0 0 249.3969,350.12491 Z M 498.80094,0 A 50.360431,50.360431 0 0 0 449.63957,50.360432 V 649.88938 a 50.360431,50.360431 0 1 0 100.72086,0 V 50.360432 A 50.360431,50.360431 0 0 0 498.80094,0 Z"
                          style="stroke-width:1.19906" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Download</h4>
                      <p>Get the latest Blender, older versions, or experimental builds.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://www.blender.org/download/releases/" target="_blank">
                    <div>
                      <h4>What's New</h4>
                      <p>Stay up-to-date with the new features in the latest Blender releases.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <h3>RESOURCES</h3>
              <ul>
                <li>
                  <a href="https://studio.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 146.70939,1.6802353 c -78.362959,0 -143.678322,64.2057377 -143.6783209,143.6570547 -7.2533835,268.45385 0,463.93349 0,709.63356 0,79.45132 65.3153619,143.65705 143.6783209,143.65705 266.17757,0.51388 460.32009,0 709.61228,0 79.45134,0 143.67832,-64.20573 143.67832,-143.65705 0.37471,-118.45983 0,-235.03162 0,-353.72203 0.017,-0.72264 0.017,-1.4456 0,-2.16825 0.43351,-118.60776 0,-235.80643 0,-353.74328 0,-79.451317 -64.22698,-143.6570547 -143.67832,-143.6570547 -241.21275,-1.18614431 -498.91438,-0.041532 -709.61228,0 z m 0,90.3436617 h 82.71228 V 228.07083 H 93.374735 v -82.73354 c 0,-30.47448 22.860165,-53.313393 53.334655,-53.313393 z m 173.05594,0 h 363.5004 c -5.81542,127.740813 0,236.658243 0,362.416273 h -363.5004 c 0.39671,-121.62159 0,-241.06277 0,-362.416273 z m 453.84406,0 h 82.71228 c 30.4745,0 53.33466,22.838913 53.33466,53.313393 v 82.73354 H 773.60939 Z M 93.374735,318.39324 H 229.42167 V 454.44017 H 93.374735 Z m 680.234655,0 H 909.65633 V 454.44017 H 773.60939 Z M 93.374735,545.86796 H 229.42167 V 681.91489 H 93.374735 Z m 226.390595,0 h 363.5004 c -5.81534,127.74773 0,236.67164 0,362.43753 h -363.5004 c 0.3967,-121.62867 0,-241.07685 0,-362.43753 z m 453.84406,0 H 909.65633 V 681.91489 H 773.60939 Z M 93.374735,772.25856 H 229.42167 v 136.04693 h -82.71228 c -30.47449,0 -53.334655,-22.86016 -53.334655,-53.33464 z m 680.234655,0 h 136.04694 v 82.71229 c 0,30.47448 -22.86016,53.33464 -53.33466,53.33464 h -82.71228 z"
                          style="stroke-width:1.08838" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Blender Studio</h4>
                      <p>Access production assets and knowledge from the open movies.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://docs.blender.org/manual/en/latest/" target="_blank">
                    <div>
                      <h4>Manual</h4>
                      <p>Documentation on the usage and features in Blender.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <h3>DEVELOPMENT</h3>
              <ul>
                <li>
                  <a href="https://code.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 683.36434,818.19976 a 45.841084,45.841084 0 0 1 -33.83509,-13.09745 45.841084,45.841084 0 0 1 0,-64.39581 L 890.74067,499.49508 649.52925,259.37512 a 45.841084,45.841084 0 0 1 0,-64.39582 45.841084,45.841084 0 0 1 64.39581,0 l 272.8636,272.8636 a 45.841084,45.841084 0 0 1 0,64.39581 l -272.8636,272.8636 a 45.841084,45.841084 0 0 1 -30.56072,13.09745 z m -363.45431,0 A 45.841084,45.841084 0 0 1 286.07494,805.10231 L 13.211339,532.23871 a 45.841084,45.841084 0 0 1 0,-64.39581 L 286.07494,194.9793 a 45.841084,45.841084 0 0 1 64.39581,0 45.841084,45.841084 0 0 1 0,64.39582 L 109.25933,499.49508 350.47075,740.7065 a 45.841084,45.841084 0 0 1 0,64.39581 45.841084,45.841084 0 0 1 -30.56072,13.09745 z"
                          style="stroke-width:1.09145" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Developers Blog</h4>
                      <p>Latest development updates, by Blender developers.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://wiki.blender.org/" target="_blank">
                    <div>
                      <h4>Documentation</h4>
                      <p>Guidelines, release notes and development docs.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <ul>
                <li>
                  <a href="https://opendata.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="M 499.99424,0 A 55.30474,55.30474 0 0 0 444.6895,55.30474 V 944.69526 A 55.30474,55.30474 0 0 0 499.99424,1000 55.30474,55.30474 0 0 0 555.29898,944.69526 V 55.30474 A 55.30474,55.30474 0 0 0 499.99424,0 Z m 332.95711,332.95711 a 55.30474,55.30474 0 0 0 -55.30474,56.43341 V 944.69526 A 55.30474,55.30474 0 0 0 832.95135,1000 55.30474,55.30474 0 0 0 888.25609,944.69526 V 389.39052 A 55.30474,55.30474 0 0 0 832.95135,332.95711 Z M 167.03713,555.30474 a 55.30474,55.30474 0 0 0 -55.30474,55.30474 V 944.69526 A 55.30474,55.30474 0 0 0 167.03713,1000 55.30474,55.30474 0 0 0 222.34187,944.69526 V 610.60948 a 55.30474,55.30474 0 0 0 -55.30474,-55.30474 z"
                          style="stroke-width:1.12867" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Benchmark</h4>
                      <p>A platform to collect and share results of the Blender Benchmark.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://conference.blender.org/" target="_blank">
                    <div>
                      <h4>Blender Conference</h4>
                      <p>The yearly event that brings the community together.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <div class="nav-global-apps-menu-section-donate">
                <h3>DONATE</h3>
                <ul>
                  <li>
                    <a href="https://fund.blender.org/" target="_blank">
                      <figure>
                        <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                          <path
                            d="M 273.67169,58.416076 C 201.59785,62.59427 135.79129,94.975269 86.697523,145.11359 37.603742,194.20736 4.1781939,260.01391 0,332.08775 -4.1781926,403.11704 22.980065,480.41362 86.697523,545.17562 l 45.960127,45.96013 339.47823,338.43367 a 43.871033,43.871033 0 0 0 61.62835,0 L 872.1979,591.13575 918.15804,545.17562 c 109.67766,-110.72213 109.67766,-290.38445 0,-400.06203 -110.72213,-110.722127 -290.38445,-110.722127 -400.06204,0 l -15.66822,14.62368 -15.66822,-14.62368 C 423.04211,80.351592 345.74553,53.193334 273.67169,58.416076 Z m 5.22274,86.697514 c 48.04922,-3.13365 98.18754,12.53458 146.23677,60.5838 l 47.00468,47.00468 a 43.871033,43.871033 0 0 0 61.62835,0 l 45.96013,-47.00468 c 76.25204,-76.25203 199.50874,-76.25203 276.80532,0 77.29658,77.29658 77.29658,200.5533 0,277.84988 L 810.56956,529.50739 502.42778,837.64917 194.286,529.50739 148.32588,483.54727 C 100.27665,434.45349 84.608431,384.31516 86.697523,336.26594 c 3.133646,-47.00467 26.113717,-95.0539 61.628357,-130.56855 35.51464,-35.51464 82.51932,-58.49471 130.56855,-60.5838 z"
                            style="stroke-width:1.04455" />
                        </svg>
                      </figure>
                      <div>
                        <h4>Development Fund</h4>
                        <p>Support core development with a monthly contribution.</p>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="https://www.blender.org/about/donations/" target="_blank">
                      <div>
                        <h4>One-time Donations</h4>
                        <p>Perform a single donation with more payment options available.</p>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</div>

<script>
  const dropdownToggles = document.getElementsByClassName("js-dropdown-toggle");
  const btnActiveClass = 'nav-global-btn-active';
  const isVisibleClass = 'is-visible';

  /* Hide all dropdowns. */
  function dropdownHideAll() {
    const dropdownMenus = document.getElementsByClassName("js-dropdown-menu");

    if (dropdownMenus) {
      for (let i = 0; i < dropdownMenus.length; i++) {
        dropdownMenus[i].classList.remove(isVisibleClass);
      }
    }

    /* Remove styling from all dropdown toggles. */
    for (let i = 0; i < dropdownToggles.length; i++) {
      dropdownToggles[i].classList.remove(btnActiveClass);
    }
  }

  for (let i = 0; i < dropdownToggles.length; i++) {
    dropdownToggles[i].addEventListener("click", function (e) {
      e.stopPropagation();

      const dropdownId = this.getAttribute('data-toggle-menu-id');
      const el = document.getElementById(dropdownId);

      if (el) {
        /* If the button is already active, remove styling. */
        if (el.classList.contains(isVisibleClass)) {
          dropdownHideAll();
        } else {
          /* Style button as active and show menu. */
          this.classList.add(btnActiveClass);
          el.classList.add(isVisibleClass);
        }
      }
    });
  }

  /* Hide all dropdowns when clicking anywhere except menus. */
  document.body.addEventListener("click", function (e) {
    if (!e.target.classList.contains("js-dropdown-menu")) {
      dropdownHideAll();
    }
  });

  /* Hide all dropdowns when pressing Esc. */
  window.addEventListener('keydown', function (event) {
    if (event.key === 'Escape') {
      dropdownHideAll();
    }
  });
</script>

		<nav class="navbar navbar-expand flex-column flex-md-row bd-navbar">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link" href="https://wiki.blender.org/">Developer Documentation</a></li>
				</ul>
				<div>
<ul class="navbar-nav"><li id="ca-view" class="nav-item"><a href="Reports2021.html" redundant="1" class="nav-link">View</a></li><li id="ca-viewsource" class="nav-item"><a href="https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e" class="nav-link">View source</a></li><li id="ca-history" class="nav-item"><a href="https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;action=history" title="Past revisions of this page [h]" accesskey="h" class="nav-link">History</a></li><li class="nav-item"><li class="nav-item dropdown" id="p-personal"><a class="nav-link dropdown-toggle" role="button" data-toggle="dropdown">Personal tools</a><div class="dropdown-menu dropdown-menu-right"><span id="pt-login"><a href="https://wiki.blender.org/w/index.php?title=Special:UserLogin&amp;returnto=User%3AKevinDietrich%2FReports2021" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o" class="dropdown-item">Log in</a></span></div></li></li></ul>				</div>
			</div>
		</nav>



		<div id="mw-wrapper" class="container-fluid">
			<div class="row flex-xl-nowrap">
				<div class="col-12 col-md-3 col-xl-2 bd-sidebar">
					<form action="https://wiki.blender.org/w/index.php" role="search" class="bd-search d-flex align-items-center" id="p-search"><input type="hidden" value="Special:Search" name="title"/><input type="search" name="search" placeholder="Search..." title="Search Blender Developer Wiki [f]" accesskey="f" id="searchInput" class="form-control ds-input" autocomplete="off"/></form>										<div id="p-Building_Blender">
						<h5>Building Blender</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Windows"><a href="../Building_Blender/Windows.html">Windows</a></li><li id="n-macOS"><a href="../Building_Blender/Mac.html">macOS</a></li><li id="n-Linux"><a href="../Building_Blender/Linux.html">Linux</a></li>						</ul>
										</div>
										<div id="p-Develop">
						<h5>Develop</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Getting-Started"><a href="../Developer_Intro.html">Getting Started</a></li><li id="n-Code-Documentation"><a href="../Source.html">Code Documentation</a></li><li id="n-Style-Guide"><a href="../Style_Guide.html">Style Guide</a></li><li id="n-Release-Notes"><a href="../Reference/Release_Notes.html">Release Notes</a></li>						</ul>
										</div>
										<div id="p-Process">
						<h5>Process</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Communication"><a href="../Contact.html">Communication</a></li><li id="n-Modules"><a href="../Modules.html">Modules</a></li><li id="n-Bug-Tracker"><a href="../Process/Bug_Reports.html">Bug Tracker</a></li><li id="n-Code-Review"><a href="../Process/Contributing_Code.html">Code Review</a></li>						</ul>
										</div>
										<div id="p-More">
						<h5>More</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Google-Summer-of-Code"><a href="../GSoC.html">Google Summer of Code</a></li><li id="n-Python"><a href="../Special:RandomRootpage.html">Python</a></li><li id="n-FAQ"><a href="../FAQ.html">FAQ</a></li>						</ul>
										</div>
									</div>

								<div class="d-none d-xl-block col-xl-2 bd-toc">
					<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Reports2021.html#Weekly_Reports_2021"><span class="tocnumber">1</span> <span class="toctext">Weekly Reports 2021</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="Reports2021.html#Week_1-2_4_-_15_January_2021"><span class="tocnumber">1.1</span> <span class="toctext">Week 1-2 4 - 15 January 2021</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="Reports2021.html#Week_3_18_-_22_January_2021"><span class="tocnumber">1.2</span> <span class="toctext">Week 3 18 - 22 January 2021</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Reports2021.html#Week_4_25_-_29_January_2021"><span class="tocnumber">1.3</span> <span class="toctext">Week 4 25 - 29 January 2021</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="Reports2021.html#Week_5_1_-_5_February_2021"><span class="tocnumber">1.4</span> <span class="toctext">Week 5 1 - 5 February 2021</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="Reports2021.html#Week_5_8_-_12_February_2021"><span class="tocnumber">1.5</span> <span class="toctext">Week 5 8 - 12 February 2021</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="Reports2021.html#Week_6_15_-_19_February_2021"><span class="tocnumber">1.6</span> <span class="toctext">Week 6 15 - 19 February 2021</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="Reports2021.html#Week_7_22_-_25_February_2021"><span class="tocnumber">1.7</span> <span class="toctext">Week 7 22 - 25 February 2021</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="Reports2021.html#Week_8_1_-_5_March_2021"><span class="tocnumber">1.8</span> <span class="toctext">Week 8 1 - 5 March 2021</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="Reports2021.html#Week_9_8_-_12_March_2021"><span class="tocnumber">1.9</span> <span class="toctext">Week 9 8 - 12 March 2021</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="Reports2021.html#Week_10_15_-_19_March_2021"><span class="tocnumber">1.10</span> <span class="toctext">Week 10 15 - 19 March 2021</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="Reports2021.html#Week_11_22_-_26_March_2021"><span class="tocnumber">1.11</span> <span class="toctext">Week 11 22 - 26 March 2021</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="Reports2021.html#Week_12_29_March_-_2_April_2021"><span class="tocnumber">1.12</span> <span class="toctext">Week 12 29 March - 2 April 2021</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="Reports2021.html#Week_13_5_-_9_April_2021"><span class="tocnumber">1.13</span> <span class="toctext">Week 13 5 - 9 April 2021</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="Reports2021.html#Week_14_12_-_16_April_2021"><span class="tocnumber">1.14</span> <span class="toctext">Week 14 12 - 16 April 2021</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="Reports2021.html#Week_15_.26_16_19_-_30_April_2021"><span class="tocnumber">1.15</span> <span class="toctext">Week 15 &amp; 16 19 - 30 April 2021</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="Reports2021.html#Week_17.2C_18_.26_19_-_3_-_22_may_2021"><span class="tocnumber">1.16</span> <span class="toctext">Week 17, 18 &amp; 19 - 3 - 22 may 2021</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="Reports2021.html#Week_20_.26_21_-_26_may_-_4_June_2021"><span class="tocnumber">1.17</span> <span class="toctext">Week 20 &amp; 21 - 26 may - 4 June 2021</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="Reports2021.html#Week_22_-_7_-_11_June_2021"><span class="tocnumber">1.18</span> <span class="toctext">Week 22 - 7 - 11 June 2021</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="Reports2021.html#Week_23_-_14_-_18_June_2021"><span class="tocnumber">1.19</span> <span class="toctext">Week 23 - 14 - 18 June 2021</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="Reports2021.html#Week_24_-_21_-_25_June_2021"><span class="tocnumber">1.20</span> <span class="toctext">Week 24 - 21 - 25 June 2021</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="Reports2021.html#Week_25_-_26.2C_28_June_-_9_July_2021"><span class="tocnumber">1.21</span> <span class="toctext">Week 25 - 26, 28 June - 9 July 2021</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="Reports2021.html#Week_27_-_28.2C_12_-_23_July_2021"><span class="tocnumber">1.22</span> <span class="toctext">Week 27 - 28, 12 - 23 July 2021</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="Reports2021.html#Week_29-33.2C_26_July_-_27_August_2021"><span class="tocnumber">1.23</span> <span class="toctext">Week 29-33, 26 July - 27 August 2021</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="Reports2021.html#Week_34-36.2C_31_August_-_17_September_2021"><span class="tocnumber">1.24</span> <span class="toctext">Week 34-36, 31 August - 17 September 2021</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="Reports2021.html#Week_37.2C_20_-_24_September_2021"><span class="tocnumber">1.25</span> <span class="toctext">Week 37, 20 - 24 September 2021</span></a></li>
<li class="toclevel-2 tocsection-27"><a href="Reports2021.html#Week_38-41.2C_27_September_-_22_October_2021"><span class="tocnumber">1.26</span> <span class="toctext">Week 38-41, 27 September - 22 October 2021</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="Reports2021.html#Week_42-46.2C_25_October_-_26_November_2021"><span class="tocnumber">1.27</span> <span class="toctext">Week 42-46, 25 October - 26 November 2021</span></a></li>
</ul>
</li>
</ul>
</div>				</div>
				
								<div class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
					<div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading">User:KevinDietrich/Reports2021</h1>
					<div class="mw-body-content">
						<div id="contentSub"><p><span class="subpages">&lt; <a href="../User:KevinDietrich.html" title="User:KevinDietrich">User:KevinDietrich</a></span></p><p></p></div><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">

<h1><span class="mw-headline" id="Weekly_Reports_2021">Weekly Reports 2021</span></h1>
<h2><span class="mw-headline" id="Week_1-2_4_-_15_January_2021">Week 1-2 4 - 15 January 2021</span></h2>
<ul><li>Fixed remaining known issues in optimization patch (<a rel="nofollow" class="external text" href="http://developer.blender.org/D9555">D9555</a>), to be landed in master</li>
<li>Started working on improvements to OpenSubDiv in Blender and Cycles, based on features present in Alembic
<ul><li>face holes (faces that are deleted after the subdivision was made, not sure how useful, will need user feedback)</li>
<li>vertex creasing</li>
<li>studied how rendering subdivision could be done</li></ul></li>
<li>Reviewed <a rel="nofollow" class="external text" href="http://developer.blender.org/D9961">D9961</a>, to be landed</li>
<li>Started working on generating more complicated files (with higher resolution objects) for testing the optimization work, and perhaps do a second round of optimization.</li></ul>
<h2><span class="mw-headline" id="Week_3_18_-_22_January_2021">Week 3 18 - 22 January 2021</span></h2>
<p>Kept working on making tests files for the optimization work with more complicated scenes and higher polygon count objects, and continued working on improving subdivision tools and rendering.
</p>
<ul><li>Commits
<ul><li>Cycles: optimize device updates (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/bbe6d4492823">bbe6d44928</a>)</li></ul></li></ul>
<ul><li>Patches
<ul><li>Subdivision: add support for vertex creasing (<a rel="nofollow" class="external text" href="http://developer.blender.org/D10145">D10145</a>) (rework based on quick review in progress, but might need a redesign of how subdivision is handled in Blender to properly support such a feature)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_4_25_-_29_January_2021">Week 4 25 - 29 January 2021</span></h2>
<ul><li>General
<ul><li>Continued profiling and trying to optimize Cycles updates and the Alembic procedural, defined some areas to look at next week.</li>
<li>Continued work on subdivision a little bit.</li>
<li>Worked on proxies for the Alembic procedural (<a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>, patch to be updated)</li></ul></li></ul>
<ul><li>Code Review&#160;:
<ul><li>Accepted and committed <a rel="nofollow" class="external text" href="http://developer.blender.org/D9961">D9961</a>: Fix cycles standalone build. (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/532d3a103a87">532d3a103a</a>, <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/76ab0381d1e5">76ab0381d1</a>)</li></ul></li></ul>
<ul><li>Bug fixes&#160;:
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T85144">#85144</a>: Cycles crashes when editing render properties in viewport (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/d0f59d38429d">d0f59d3842</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T85010">#85010</a>: Cycles viewport not showing certain material changes when using GPU (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/7a0281914ec9">7a0281914e</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_5_1_-_5_February_2021">Week 5 1 - 5 February 2021</span></h2>
<ul><li>General
<ul><li>Cycles: investigated ways to reduce memory usage for socket and attribute data (reference counting, constant value optimization), but this made ccl::array complex and slower, might retry in a different way</li>
<li>Alembic procedural: added support for instancing</li>
<li>Alembic procedural: started working on a cache policy</li>
<li>Worked on documentation for the Cycles Node API, and the Cycles Scene in general</li></ul></li></ul>
<ul><li>Bug fixes&#160;:
<ul><li>(unreported) Alembic procedural: fix crash when cancelling a render during synchronization (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/55c88e558200">55c88e5582</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_5_8_-_12_February_2021">Week 5 8 - 12 February 2021</span></h2>
<ul><li>General
<ul><li>Cycles: investigated ways to reduce data transfer to the GPU</li>
<li>Alembic Procedural: continued work and testing for the cache policy</li></ul></li></ul>
<ul><li>Patches
<ul><li>Finalized <a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering</li></ul></li></ul>
<ul><li>Bug fixes&#160;:
<ul><li>(unreported) Cycles: fix wrong flags used to tag device data as dirty (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/5213b18eb2d57">5213b18eb2</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T85462">#85462</a>: crash in render mode while removing instances (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/349c17cf5436d">349c17cf54</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_6_15_-_19_February_2021">Week 6 15 - 19 February 2021</span></h2>
<p>This week I continued working on memory usage and data transfers optimizations. Patches are mostly ready to be extracted for code reviews.
</p><p>Patches will be for:
</p>
<ul><li>partial updates of the devices arrays to only retransfer to the GPU(s) parts of the buffer that have been modified (in my files data transfers were cut by 60% at best, more can be achieved depending on the file).</li>
<li>delta compression of the vertices and curve keys, this computes the difference in positions from the last update, stores this in 16-bits (instead of 32-bits) and sends that to the GPU where it is applied to the original memory (thus saving 50% of data transfer for those data)</li>
<li>octahedron compression of the normals, this projects the normals onto a unit octahedron, stores the results on 8-bits achieving a 75% memory saving. The normals are decompressed as needed in the kernel (this is a lossy compression, so slight (unnoticeable to the eye) render differences may be had, one test is failing so I am going to try a different approach).</li>
<li>lazy array allocation, this only allocates memory for arrays if we store more than one value in them. Arrays are used throughout the code base, however, the following arrays are allocated on the heap even when they may hold a single constant value:
<ul><li>Hair.radius (stores a float for every curve key)</li>
<li>Hair.curve_shader (stores an integer for every curve)</li>
<li>Hair.used_shaders (stores the list of shaders used by the object, useless heap allocation if only one shader is used)</li>
<li>Mesh.shader (stores an integer per triangle, redondant if all triangles use the same shader)</li>
<li>Mesh.smooth (stores a bool per triangle, redondant if all triangles are smooth)</li>
<li>Mesh.used_shaders (stores the list of shaders used by the object, useless heap allocation if only one shader is used)</li>
<li>Mesh.subd_shader (stores an integer per polygon, redondant if all polygons are using the same shader)</li>
<li>Mesh.subd_smooth (stores a bool per polygon, redondant if all polygons are smooth)</li>
<li>ImageHandle.tile_slots (stores the UDIM tiles used by the Image, allocating on the heap is a bit much if only using a single tile)</li></ul></li></ul>
<p>In spring.blend, this saves about 140 Mb of memory (I forgot to note down the total amount of memory, so I cannot give a percentage).
</p>
<h2><span class="mw-headline" id="Week_7_22_-_25_February_2021">Week 7 22 - 25 February 2021</span></h2>
<p>This week I mainly revised some of the patches I worked on last week before sending them to code review (although I haven't set any reviewers yet, so I can tackle some remaining todos).
</p><p>The patch for normals compression I talked about in my last report was not revised nor sent to code review yet.
</p><p>I decided to stop working on lazy allocation for the time being, as there are too many edge cases, especially when compiling shaders, using lazy allocation there makes shader execution fail as we miss some data since it will only allocate if the value added to the array does not change from the first one.
</p><p>I also did some profiling and tried to optimize Blender a bit, as opening/loading large files takes a while. Some of the hotspot cannot be optimized easily or at all (like computing bézier curves, or tesselation), but inlining more maths functions does help.
</p>
<ul><li>General:
<ul><li>Alembic procedural: cleanup, and speed and memory usage improvements (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/3d5e290ee0fd">3d5e290ee0</a>, <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/87ef03745971">87ef037459</a>, <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/82605093e9bf">82605093e9</a>)</li></ul></li></ul>
<ul><li>Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10515">D10515</a> Cycles: partial array copy for reducing CPU/GPU data transfers</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10516">D10516</a> Cycles: delta compression for reducing CPU/GPU data transfers</li></ul></li></ul>
<ul><li>Bug Fixes:
<ul><li>(unreported) Alembic procedural: fix crash when accessing data out of frame bounds (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/d9abcee47eb5">d9abcee47e</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T85926">#85926</a>: Cycles missing viewport updates when making materials single user (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/72370b92be0d">72370b92be</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_8_1_-_5_March_2021">Week 8 1 - 5 March 2021</span></h2>
<ul><li>General
<ul><li>Improvements to the Alembic procedural (fixed missing updates <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/00f218602d52">00f218602d</a>, and infinite update loop <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/ac4d45dbf156">ac4d45dbf1</a>)</li>
<li>Finished first implementation of cache prefetching for the Alembic procedural, this uses a secondary cache to preload data for the next N frames, to avoid stalls when playing back animations in the viewport</li>
<li>Cycles: made delta compression more robust and handle potential overflows gracefully, however it seems to slow down device update will need to investigate</li>
<li>Also did bug some triaging, no fixes though.</li></ul></li></ul>
<ul><li>Code review:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10196">D10196</a> replied to request and fixed a bug</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a> updated patch based on review</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_9_8_-_12_March_2021">Week 9 8 - 12 March 2021</span></h2>
<p>This week was spent mostly making the Alembic procedural work for objects with dynamic topologies (e.g. fluid simulations), this included handling a change in data size and reducing memory usage as the procedural in this case will load redundant data: if the topology is static between frame 1 and 25 with a sudden change at frame 26, we will load 25 times the same data which is not nice.
</p><p>Other work included starting to refactor the delta compression support: the initial implementation was simplistic and optimized, it worked but it did not handle potential integer overflows in the compressed representation. After making it more robust to those overflows, it would slow down the device update (we want to be faster); the culprit being the computation of the deltas. Sending deltas to the GPU and unpacking there is still faster than sending uncompressed data. So now the idea is to put the deltas in an attribute, cache that in the Alembic procedural, and simply copying and unpacking them to the device during the updates. That should remove the cost of computing the deltas, and speed up device updates again.
</p>
<h2><span class="mw-headline" id="Week_10_15_-_19_March_2021">Week 10 15 - 19 March 2021</span></h2>
<p>Somewhat slow week which was mostly spent refactoring the delta compression support based on the stakeholder's concerns and desires. Also did a lot of benchmarks to check if it is indeed faster which it is if we exclude the unconditional host memory update that I was doing. Generalized the compression formula so ranges outside of [-1.0, 1.0] are also supported.
</p><p>Pre-computing the deltas is done in the procedural and stored in an attribute, however this has drawbacks: we lose the ability to have deltas and displacement or subdivision at the same time, but also we need to take care that the deltas are not applied on transformed data. Cycles will pre-apply the transformations in some cases, so we might need to also transform the deltas, or avoid applying the transformation if deltas can be done.
</p><p>As an aside, I also did some profiling and exploratory work to speedup edit mode, seems like the bottleneck is in the data transfers to the GPU, where we upload more data than necessary. The Blender modeling might need to become smarter so the render engine may know exactly what was modified. This would be similar to what I did in Cycles. The modeling team is quite busy so I might pick this up, as it is tied to rendering and the community is desperately asking for improvements in this area.
</p>
<h2><span class="mw-headline" id="Week_11_22_-_26_March_2021">Week 11 22 - 26 March 2021</span></h2>
<p>This week was primarily spent fixing and improving the Alembic procedural caching logic based on the stakeholder's feedback and code review. The cache prefetching mechanism did not handle a lot of edge cases, essentially it was assuming that the data access was linear in time, that no jumps in frame greater than the amount of cached frames could occur. This would make us access data at out of bound indices, or produce empty geometries making Cycles crash. Some setting to disable cacheing was also added.
</p><p>Some more work on delta compression to include min/max motion ranges into account, allowing objects with motion changes &gt; 1.0 to also have deltas.
</p>
<ul><li>General:
<ul><li>Alembic procedural: deduplicate cached data accross frames (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/781f41f633fc">781f41f633</a>)</li></ul></li></ul>
<ul><li>Procedural branch:
<ul><li>Fix missing shader update when adding shaders to Alembic objects</li>
<li>Add a way to ignore subdivision data from Alembic, those will be loaded as regular polygon meshes</li>
<li>Make deltas an attribute, although I think they should be a standard socket as we also have sockets for min/max deltas</li></ul></li></ul>
<ul><li>Bug fixes:
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T86939">#86939</a>: Cycles objects bounds not updated when transforming objects. (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/ea12df51b8da">ea12df51b8</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T86601">#86601</a>: Cycles accumulates displacement when transforming an Object  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/42198e9eb03b">42198e9eb0</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T86567">#86567</a>: Cycles crashes when playing back animated volumes (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/96e60cc22ca2">96e60cc22c</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_12_29_March_-_2_April_2021">Week 12 29 March - 2 April 2021</span></h2>
<p>This week was mostly spent maintaining the Alembic procedural, fixing some bugs and design issues reported by the stakeholder, as well as looking into some more device optimizations for Cycles.
</p><p>I started refactoring the cache system to be more robust, however after some discussion, it was decided to remove for the time being cache prefetching as it is a bit complicated to make work reliably and instead focus on making the current procedural nice and robust. The cache controls are now a simple boolean to enable caching, and a parameter to set the maximum cache size in megabytes, if the procedural cannot fit the entire file in memory within the limit, render is aborted.
</p><p>I started refactoring the data reading routines to be more generic and handle edge cases, this has revealed a number of flaws in the system: shader assignments were ignoring changes in topology, subdivision objects were not reading UVs and were using more memory than necessary. This work is almost done, and will also allow to load custom attributes in a nice and generic manner.
</p><p>We also had a discussion to make time handling more robust. Alembic is time based, which means that data has to be looked up using the time in seconds, instead of the frame time. This requires to know the correct frame rate (frame per second) used to create the file. This knowledge is not present in the Alembic archives, and so for now both the Blender importer and the Cycles procedural require an explicit FPS to be specified. Usually, this comes from the Scene settings.
</p><p>However, it is possible to use different archives with different frame rates in the same scene, so using a single setting for all of them is wrong. We could have a setting on the Cache File in Blender to set this, but this requires to know in advance which FPS was used, however given that productions may reuse old files, this knowledge may have been lost. It should be possible though to detect this from the archive.
</p><p>Outside of the procedural, I am also starting to refactor the attribute system in Cycles to be more generic, and allow for more granular device updates. Currently when adding or removing an attribute of some type (e.g. float2 for UVs) on a Geometry we also update other attribute types (e.g. the float3 attributes for generated coordinates). Another quirk is that the attributes' device data is also updated event when the attribute is not stored there (which is for now only the case for normals).
</p><p>Next week, I shall continue working on those refactors, and improving the Blender Alembic importer to better support reloading a Cache File, and to change the Cache File to a different version (with a different file path).
</p>
<ul><li>Bug fixes:
<ul><li>(unreported) Alembic procedural: fix missing update when editing shaders  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/94bfb1ab620a">94bfb1ab62</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T87007">#87007</a>: Cycles Background not updated if strength is initially null  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/88d94d89fadd">88d94d89fa</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_13_5_-_9_April_2021">Week 13 5 - 9 April 2021</span></h2>
<p>This week I continued the Alembic procedural refactor mentioned in last week's report, it is almost ready although it needs proper testing. There is already some better support for UV and vertex colors attributes for subdivision meshes, and custom attributes should be somewhat supported for regular and subdivided meshes.
</p><p>I also spent some time debugging some issues reported by the project's main stakeholder. Mainly those were about race conditions in the multi device code, so we decided to remove some of my work until those race conditions are fixed.
</p><p>One exploratory work I did to refocus on the API is to create a fuzzer for Cycles. Simply put the fuzzer will generate random scenes and ask for the render. For now, I only got it to execute a device update from the Scene, so actual renders are not performed. It is designed to be some sort of client application which uses Cycles, so it should not have access to or knowledge about Cycles' internals, which makes it a good candidate I think to study the API, and its quirks. This is not high priority for me, so I don't know when I am going to resume working on this, as it is more of a distraction from the project, but it did, for the few hours I spent on it, make me focus on the API and the documentation, and helped me find some corner cases. One issue I found is that shaders only used by procedurals defined by external applications are not compiled as the ShaderManager compiles shaders before the procedurals can generate their data. I already have a fix for that.
</p><p>On another front, I added an operator on the MeshSequenceCache modifier to update the Scene frame range based on information found in the archive. This is useful to update the Scene frame range when reloading an Alembic cache which has a different animation timing.
</p>
<h2><span class="mw-headline" id="Week_14_12_-_16_April_2021">Week 14 12 - 16 April 2021</span></h2>
<p>This week I finished refactoring the data reading for the Alembic procedural. Will be committed once the patch is cleaned up a little, and all my tests file pass. So far so good, attribute reading is now nice and mostly generic, although it still needs a nice solution to handle index mapping between Alembic and Cycles data structures for Curves/Hair, but that needs example files.
</p><p>For the Alembic procedural, some more data is precomputed and cached (mostly normals) as requested by the project's stakeholder in order to avoid computing this data in the device update and speed updates up a little bit.
</p><p>I also improved the fix for shader detection for external Procedurals mentioned in last week's report and sent it to code review.
</p><p>For subdivision rendering in the viewport, I investigated how to possibly render this in a compute pass as discussed in the module meeting, nothing came out of this yet due to time constraint, will start actually coding things next week.
</p>
<ul><li>Patches
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10965">D10965</a> Cycles: use reference counting to detect used shaders.</li></ul></li></ul>
<h2><span id="Week_15_&amp;_16_19_-_30_April_2021"></span><span class="mw-headline" id="Week_15_.26_16_19_-_30_April_2021">Week 15 &amp; 16 19 - 30 April 2021</span></h2>
<p>The last two weeks were spent working on OpenSubdiv for the viewport, doing some tests in Cycles, and bringing the current state of the cycles_procedural_api branch to master by updating current patches or starting to extract patches for code review.
</p><p>For OpenSubdiv, it appears to be a bit tricky to use the proper indices for the vertex buffer (which should be computed by the library) so I guess I would need to separate subdivision data into a dedicated GPUBatch; I am currently overwriting the regular surface batch. Normals also would have to be computed somehow in the geometry or vertex shader, as well as keeping the polygon/shader associations.
</p>
<ul><li>Commits
<ul><li>Cycles: add reference counting to nodes <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/5a964664d6cf">5a964664d6</a></li>
<li>Cycles: use reference counting to detect used shaders <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/3bc44233c08d">3bc44233c0</a></li></ul></li></ul>
<ul><li>Code Reviews
<ul><li>Requested Changes <a rel="nofollow" class="external text" href="http://developer.blender.org/D11127">D11127</a>: Fix T87929: Cycles 'Indirect Only' collection property missing update.</li></ul></li></ul>
<ul><li>Patches
<ul><li>Updated <a rel="nofollow" class="external text" href="http://developer.blender.org/D10196">D10196</a>: Alembic: add settings to control radius of imported curves and points.</li>
<li>Updated <a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering.</li></ul></li></ul>
<h2><span id="Week_17,_18_&amp;_19_-_3_-_22_may_2021"></span><span class="mw-headline" id="Week_17.2C_18_.26_19_-_3_-_22_may_2021">Week 17, 18 &amp; 19 - 3 - 22 may 2021</span></h2>
<p>The past 3 weeks were mostly spent wrapping up and updating patches for the first installment of the Alembic procedural and associated Cycles optimizations.
I also did some work on the Node API documentation, although it is in French and I would need to translate it. I am not much of an English writer, so I prefer to write such specs in French, before translating it. Hopefully translation from my native language will make a better read.
No real progress were made for viewport subdivision. My current try to implement it is not working, I am still not sure where the issue is, or issues, most likely because it is too "shallow", it might need a deeper integration into the drawing code with a dedicated surface batch.
</p><p>Since I forgot to do some weekly reports, I may have forgotten quite a few details.
</p>
<ul><li>General&#160;:
<ul><li>Cycles: use reference count to detect used shaders (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/3bc44233c08d">rB3bc44233</a>)</li>
<li>Alembic Procedural: precompute vertex normals (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/9f1e20e74f0f">rB9f1e20e7</a>)</li>
<li>Alembic Procedural: refactor data reading  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/e2c671e34cd7">rBe2c671e3</a>)</li></ul></li></ul>
<ul><li>Bug Fixes&#160;:
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T87929">#87929</a>: Cycles, missing update when visibility is modified (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/fce795415ade">rBfce79541</a>)</li>
<li>(Unreported) Alembic procedural: fix crash accessing invalid ICompoundProperties  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/38fe8d8b38d9">rB38fe8d8b</a>, <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/8057b985727d">rB8057b985</a>)</li></ul></li></ul>
<ul><li>Patches&#160;:
<ul><li>Updated  <a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11154">D11154</a>: Cycles: allow Optix BVH refit for background rendering.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11156">D11156</a>: Alembic: operator to set the Scene frame range from the Archive time information.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11162">D11162</a>: Alembic Procedural: setting to ignore subdivision.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11163">D11163</a>: Alembic Procedural: basic cache control settings.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11373">D11373</a>: Cycles: optimize attributes device updates.</li></ul></li></ul>
<ul><li>Code review&#160;:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11127">D11127</a>: Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T87929">#87929</a>: Cycles 'Indirect Only' collection property missing update.</li></ul></li></ul>
<h2><span id="Week_20_&amp;_21_-_26_may_-_4_June_2021"></span><span class="mw-headline" id="Week_20_.26_21_-_26_may_-_4_June_2021">Week 20 &amp; 21 - 26 may - 4 June 2021</span></h2>
<p>The past two weeks were spent revising some patches in code review and bringing the GPU implementation of OpenSubDiv to fruition.
</p><p>For OpenSubDiv, I initially tried to rewrite the implementation using a custom batch cache for subdivision data as connectivity is not preserved in the current Mesh batch cache, however, a much simpler solution was found: adding an extra VBO to the current GPUBatches. This also made subdivision in edit mode a lot simpler to handle, as the cage (that which artists modify) can simply be created and drawn using the current code.
</p><p>Until now I was using a geometry shader to create triangles from the subdivision data, this was removed and is currently being replaced by a compute shader since this is the direction that we want to go to (as geometry shaders complicate the shading code). Normals will have to be computed somehow in this compute shader and I am not sure how this would be done yet (maybe using a couple of passes for smooth normals). For now, I am using a CPU based triangulation and normal computation which requires copying the data from the GPU, processing it before reuploading it, which is degrading performance compared to the geometry shader.
</p><p>Overall the implementation will need to be reviewed, until now I prefered implementing my own version of the subdivision routines, disregarding the currently available Blender OpenSubDiv API to make sure that any bug is my own, and to fully understand what is needed or not. Reusing the Blender OSD API, and extending with a GPUEvaluator is not so complicated and should be quick now that the code works as expected.
</p>
<ul><li>Updated Patches&#160;:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10145">D10145</a>: Subdivision: add support for vertex creasing.</li></ul></li></ul>
<ul><li>Plans for next week&#160;:
<ul><li>finish the compute shader</li>
<li>make use of the Blender OSD API and extend it</li>
<li>implement the logic to generate triangles from an adaptive patch</li>
<li>make UVs and vertex colors work</li>
<li>fix missing subdivision updates and data corruption in edit mode</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_22_-_7_-_11_June_2021">Week 22 - 7 - 11 June 2021</span></h2>
<p>Last week was mostly spent revising patches, and working on new Alembic features/improvments. For viewport subdivision, caching appears to be tricky, it needs a safe place to be stored, however storing it in the Mesh runtime data does not appear to work as it gets cleared with every single update. Maybe there is a way I don't know about yet to keep it around as long as the topology or subdivision settings stay the same.
</p>
<ul><li>Revised Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10196">D10196</a>: Alembic: add settings to control radius of imported curves and points.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11154">D11154</a>: Cycles: allow Optix BVH refit for background rendering.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10145">D10145</a>: Subdivision: add support for vertex creasing.</li></ul></li></ul>
<ul><li>New Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11592">D11592</a>: Alembic: use geometry sets to import data [WIP].</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11591">D11591</a>: Alembic: import arbitrary attributes [WIP].</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11584">D11584</a>: Alembic: support reading per-vertex UV sets.</li></ul></li></ul>
<ul><li>Bug Fixes:
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T88515">#88515</a>: Cycles does not update light transform from linked collections (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/b313525c1bd0">b313525c1b</a>)</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_23_-_14_-_18_June_2021">Week 23 - 14 - 18 June 2021</span></h2>
<p>The week was mostly spent revising the OpenSubdiv GPU acceleration work. After some issues with face varying data, most likely due to mixing up face corner indices resulting in face varying patches being scramble over the faces, I decided to align the implementation to what the CPU side doing: we generate uniform patch coordinates over the coarse faces and evaluate the subdivided patches to find the limit value. Since this can go in master pretty quickly, contrary to subdivision settings in the mesh datablock, the subdivision is now again performed on the GPU if there is a subdivision surface modifier at the end of the modifier list. Builds were shared with the community, and after some testing there are bugs to fix.
</p>
<ul><li>Features:
<ul><li>Alembic: support reading per-vertex UV sets (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/3385c04598f2">3385c04598</a>)</li></ul></li></ul>
<ul><li>Revised Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering.</li></ul></li></ul>
<h2><span class="mw-headline" id="Week_24_-_21_-_25_June_2021">Week 24 - 21 - 25 June 2021</span></h2>
<p>This week was spent partly on furthering the OpenSubdiv GPU acceleration work, and doing some bug fixes.
</p>
<ul><li>Subdivision:
<ul><li>Added support for multiple UV maps</li>
<li>Started implementing the various edit mode visualization options (wireframes, show on cage, etc.)</li>
<li>Support per-face smooth flags</li></ul></li></ul>
<ul><li>Bug Fixes:
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T88756">#88756</a>: crash when baking with autosmooth  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/5f9677fe0c53">5f9677fe0c</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T89331">#89331</a>: Cycles lights flicker when transformed (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/befb9d99f880">befb9d99f8</a>)</li></ul></li></ul>
<ul><li>Features:
<ul><li>OptiX: select BVH build options from Scene params (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/cd39e3dec1fd">cd39e3dec1</a>)</li></ul></li></ul>
<ul><li>Revised Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D10145">D10145</a>: Subdivision: add support for vertex creasing.</li></ul></li></ul>
<h2><span id="Week_25_-_26,_28_June_-_9_July_2021"></span><span class="mw-headline" id="Week_25_-_26.2C_28_June_-_9_July_2021">Week 25 - 26, 28 June - 9 July 2021</span></h2>
<p>The past two weeks were mostly spent improving the GPU OpenSubDiv project. I fixed multiple drawing issues when in edit mode, as well as finalized implementation of show_on_cage for the subsurf modifier. Some memory usage improvements were achieved, although there is still room for more. I also implemented a GPU version for the PatchMap, which allows to reduce memory usage by looking up the final patch coordinates on the GPU based on the patch coordinate description built on the CPU side.
</p>
<ul><li>Patches
<ul><li>(updated) <a rel="nofollow" class="external text" href="http://developer.blender.org/D10145">D10145</a>: Subdivision: add support for vertex creasing.</li>
<li>(updated) <a rel="nofollow" class="external text" href="http://developer.blender.org/D10197">D10197</a>: Cycles: experimental integration of Alembic procedural in viewport rendering.</li>
<li>(updated) <a rel="nofollow" class="external text" href="http://developer.blender.org/D10196">D10196</a>: Alembic: add settings to control radius of imported curves and points.</li></ul></li></ul>
<ul><li>Bug Fixes
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T70615">#70615</a>: Cycles ignores normal inputs when fed by nodes without inputs from other nodes <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/e7fc15e2ef22">e7fc15e2ef</a></li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T87194">#87194</a>: Attribute Node not working with Cycles Volume as Resolved by committing <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/a5ed07511003">a5ed075110</a></li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T89455">#89455</a>: Crash when using Cycles preview or render - custom data layer / auto smooth as Resolved by committing <a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/2dbb492268c1">2dbb492268</a></li></ul></li></ul>
<h2><span id="Week_27_-_28,_12_-_23_July_2021"></span><span class="mw-headline" id="Week_27_-_28.2C_12_-_23_July_2021">Week 27 - 28, 12 - 23 July 2021</span></h2>
<p>The last three weeks were spent improving performance of the OpenSubdiv GPU implementation to better match user expectations. Improvements and benchmarks were made against files provided by users, as well as files available from the Blender Cloud.
</p><p>Another area of work was feature completeness and bug fixing of the already implemented features, this include support for displaying loose vertices and edges which frequently appear during modeling,x-ray mode, multiple UV maps, selection in edit mode, per face material assignments, and better optimal display.
</p><p>Vertex normals have to be manually computed when adaptive patches (limit surfaces) are not used, as artefacts appeared at patches boundaries. 
</p><p>The patch evaluation kernel was moved to the Blender side, instead of using OpenSubdiv's black box evaluator. This is so that we can better control its behaviour, but also reduce memory usage. Prior to this change, we would use temporary arrays to store evaluated vertices and derivatives, this would use 12 bytes per subdivided vertex. This was because it was not possible to directly fill the various draw buffers directly from the evaluation shader, we had to use a level of indirection. Now, the buffers (for positions, normals, uvs, and edit mode face center display) are filled as we evaluate patches.
</p>
<h2><span id="Week_29-33,_26_July_-_27_August_2021"></span><span class="mw-headline" id="Week_29-33.2C_26_July_-_27_August_2021">Week 29-33, 26 July - 27 August 2021</span></h2>
<p>As I forgot to do a few weekly reports, I also forgot most of the details of what was done. I also got quite ill in the past couple of weeks which put me behind in my work, however, I can still do some overtime to make up for it.
</p><p>Most of the remaining Cycles Alembic Procedural patches for the UI and cache controls were at last committed. A draft for the article on the Facebook collaboration on Cycles optimizations was made, it will sent for review after translating it (I am not that good of an English writer, so I made the draft in French).
</p><p>The OpenSubDiv GPU acceleration project is nearing the end. The last tricky thing to do is to get the dependency graph part right, which would let other objects in the scene use the subdivision result on the CPU side while still doing using the GPU for acceleration. An implementation of it was made, with good result. For example, it was possible to use a subdivided mesh as an operand in the boolean modifier with correct result while transforming the base mesh (i.e. the mesh on which the boolean modifier is applied). However, this implementation was not quite correct, and lead to some crashes. A new version is in the work and should be ready this week, then the patch will be sent to code review.
</p><p>Other work done include bug fixes, code review, and gathering some ideas for improving support for the volume object in Blender.
</p>
<ul><li>Commits:
<ul><li>Cycles: avoid copying vertex normals attribute twice to the devices (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/b8ecdbcd964a">b8ecdbcd96</a>)</li>
<li>Cycles: use object coordinates when generated coordinates are missing (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/6b041ad3d025">6b041ad3d0</a>)</li>
<li>Alembic import: option to always add a cache reader (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/5b97c00e9fc4">5b97c00e9f</a>)</li>
<li>Cycles: experimental integration of Alembic procedural in viewport rendering (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/51862c8445c8">51862c8445</a>)</li>
<li>Alembic Procedural: only subdivide if subsurf modifier is present  (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/f8637cd8af45">f8637cd8af</a>)</li>
<li>Alembic Procedural: basic cache control settings (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/9bfc47c9334b">9bfc47c933</a>)</li></ul></li></ul>
<ul><li>Bug Fixes:
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T82336">#82336</a>: Cycles standard attributes missing in displacement shaders (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/60d6333b8047">60d6333b80</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T77307">#77307</a>: Particle Info Node Does Not Consider Time Remapping (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/23132fcdc136">23132fcdc1</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T90776">#90776</a>: Cycles normal map node produces artifacts (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/c0dd6f1164e0">c0dd6f1164</a>)</li>
<li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T90854">#90854</a>: Cycles, normal map fails with applied transformations. (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/bffa1681577e">bffa168157</a>)</li></ul></li></ul>
<ul><li>Code review:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12305">D12305</a>: Modifiers: export motion blur velocity through attribute. (Requesting changes, I still need to look into the cause of the issues)</li></ul></li></ul>
<h2><span id="Week_34-36,_31_August_-_17_September_2021"></span><span class="mw-headline" id="Week_34-36.2C_31_August_-_17_September_2021">Week 34-36, 31 August - 17 September 2021</span></h2>
<p>The past few weeks were mostly spent revising the OpenSubDiv patch from code review comments. There are some divergent point of view between reviewers for some architectural decision I made for this feature regarding how to pass GPU buffers between the OpenSubDiv API and Blender, but I think we reached a common ground. There is still some review work to do, so I am not sure if it can make in Blender 3.0. I also spent some time debugging and improving the patch and its functionalities based on user tests.
</p><p>Some other time was spent rewriting some Alembic patches, some of them were drafts already shared with interested users and developers (<a rel="nofollow" class="external text" href="http://developer.blender.org/D11592">D11592</a>, <a rel="nofollow" class="external text" href="http://developer.blender.org/D11591">D11591</a>) but put aside while working on OpenSubDiv. One of them is for supporting custom attribute import. I had to restart the implementation I was not happy with some hardcoded decisions, and based on user suggestion, I parameterized them. For example, some software export vector data as flat arrays of floats, instead of a more common structure: an array of 3d vectors might be written as an array of floats 3 times the size of the intended domain (vertex, face, etc.). Instead of trying to detect this cases manually, which is rather tricky, I added some UI to add mapping from source data to destination data. This also will make it a bit easier to handle and convert vertex colors and UVs to Blender.
</p><p>Related, I added some way to specify which attributes to load, so we do not load every single attribute from the files, which might be time consuming and memory heavy.
</p><p>Other patches for Alembic include outputing geometry sets, and file layers. The latter allows for non-destructive workflows were data from one layer overrides data from layers below it. A layer is basically an Alembic archive. The only real change in Blender for supporting this feature is to modify CacheFile so that it stores a list of file paths instead of a single one.
</p><p>Finally, I also gathered some ideas for work on the Volume object, especially for data processing, which include attribute transfers between meshes and volumes, simulation retiming (via temporal volumes, which can also be useful for motion blur rendering). It would also be nice to have OpenVDB AX at some point to let artists build their own volume processing tools.
</p>
<ul><li>Code reviews:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12305">D12305</a>: Modifiers: export motion blur velocity through attribute.</li></ul></li></ul>
<ul><li>Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12406">D12406</a>: OpenSubDiv: add support for an OpenGL evaluator.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12411">D12411</a>: Cleanup: move ABC sequence length computation to Cachefile.</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D11156">D11156</a>: Alembic: operator to set the Scene frame range from the Archive time information.</li>
<li>(to be updated) <a rel="nofollow" class="external text" href="http://developer.blender.org/D11592">D11592</a>: use geometry sets to import data [WIP].</li>
<li>(to be updated) <a rel="nofollow" class="external text" href="http://developer.blender.org/D11591">D11591</a>: import arbitrary attributes [WIP]</li></ul></li></ul>
<h2><span id="Week_37,_20_-_24_September_2021"></span><span class="mw-headline" id="Week_37.2C_20_-_24_September_2021">Week 37, 20 - 24 September 2021</span></h2>
<p>Worked on finalizing the Alembic patches. For the arbitraty attribute import patch, remapping was a bit tricky to get right, although it is still mostly untested. For now only float and double attribute types can be remapped. This patch needs a bit more work to clean up and document the implementation, especially to remove the old code in favor in favor of the new one.
For the other patches (layers, and geometry sets) I intend to merge them in a branch next week and get some user testing before sending them to code review. All those features are supposed
to work together to improve workflow and better intergrate Blender in a multi software package.
</p><p>Worked on exporting to Alembic some files for the benchmarks for the Cycles Alembic procedural for the Facebook collaboration article. I noticed some Alembic export bugs (some collections/objects appear to be missing), so those need to be fixed first.
</p><p>For the OpenSubdiv patch, I am in the process of making the changes requested by Campbell during last review. The current dependency graph update should be removed in favor of a more lazy subdivision request approach using the Mesh wrapper API. All other changes were already tackled, so this one should take less than a day to finalize. Although, one issue I can't fix, but I can try to help fixing it, it would appear that the code is failing on AMD cards, but I do not own any.
</p>
<ul><li>Fixes:
<ul><li>(Unreported) Broken Alembic points cloud streaming (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/43394e41a8e0a866631bc7fdf07ac50e9d7094e4">rB43394e41</a>)</li></ul></li></ul>
<ul><li>Patches:
<ul><li>(Updated) <a rel="nofollow" class="external text" href="http://developer.blender.org/D11591">D11591</a>: Alembic: import arbitrary attributes [WIP].</li></ul></li></ul>
<h2><span id="Week_38-41,_27_September_-_22_October_2021"></span><span class="mw-headline" id="Week_38-41.2C_27_September_-_22_October_2021">Week 38-41, 27 September - 22 October 2021</span></h2>
<p>Since I have not done my duty and made weekly reports for a month, this one is going to be detailed.
</p>
<ul><li>OpenSubDiv</li></ul>
<p>Not much happened there, if I remember at all. Last check, I was asking for feedback on a potentially large change, which I never got. The large change may not be needed if what I am doing is wrong, but I need the feedback to know that. Depending on whether attribute rendering in EEVEE is added before, the patch would need to be updated to also support generic attributes.
</p>
<ul><li>Alembic work</li></ul>
<p>The attribute import support is lacking some data types that are possible to use in Alembic. Some users requested to have them (e.g. it is possible to use int8 in Alembic to reduce memory usage). Furthermore, there is a regression: it is possible for a mesh to have the same number of vertices and face corners (e.g. a torus). In the case of attribute reading, in some cases we cannot determine where the attribute is just from the scope in the Alembic file. This is because a common scope is "Varying Scope" which can mean anything (varying over the vertices or varying over the faces, etc.). To properly decide we should check the size of the data. But given that multiple domains may have the same size, this will make the attribute importer ignore the attribute ("I don't know where that should go"). The regression is that up until now, only vertex colors and UVs were really read. In those cases if there was an ambiguity, we would just pretend that it is supposed to be on the face corners. This is wrong, and could lead to some bugs. So the system will have to reworked a bit to let the users tell us where the data should go in those cases (this can use the attribute remapping facility that is already part of the patch).
</p><p>The file layers system is done, and could go to code review, it is very simple.
</p><p>I am also trying quickly to add instancing support for import. For the Facebook collaboration article, I tried to export to Alembic and import back Spring so that it can be used by people to check on the speed improvements (most of the benchmarks there were made using private files that cannot really be shared). However, the Spring file is using 1000s of particles which although might be exported as instances in Alembic, they are imported as individual objects. I never had the patience to let the importer go through with as it was too slow, and maybe I would not have the RAM budget anyway. So this is a good motivation to find a solution here.
</p><p>There also were some UI changes to better organize the modifier as this adds quite a few buttons.
</p><p>Finally on this subject, the geometry set support for the Alembic importer is also done, but it breaks the modifier for the USD files, so the USD importer should also be updated... This is because if a modifier supports geometry sets, it takes precedence over the default mesh modification callback. It is easier, and more future proof, to just also modify the USD importer. Since they are similar, the modifications to the Alembic importer could be simply ported to the USD one.
</p>
<ul><li>EEVEE attribute rendering</li></ul>
<p>The patch was accepted without much hurdle. However, on the one hand, some concerns exist about implicit type conversions, and a bug was detected at the last minute.
</p><p>For type conversions, all attributes are declared as vec4 in OpenGL, this is for simplicity. When we use a scalar (float, int, bool, etc.) attribute it gets converted to the value vec4(v, 0, 0, 1). However, given how shader and geometry nodes work, we would expect that the output be <code>vec4(v, v, v, 1)</code>. Since this a bit tricky to handle, it was decided to wait until the EEVEE rewrite to be complete for properly handling type conversions as this requires proper type information to be sent to the shader. This is not a showstopper and the patch could committed as is.
</p><p>For the bug, the behavior of the attribute node is to output the average value of the XYZ components of the current value for the scalar (float) socket named "Fac". For scalar values, this would output a value that is 1/3 of the expected value, as the XYZ components will be (v, 0, 0) in this case. I propose to add an extra socket to fix this.
</p>
<ul><li>Fixes:
<ul><li>(Unreported) Crash when logging GLSL errors from empty shaders (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/010e675b1b43">rB010e675b</a>)</li>
<li>(Unreported) Fix crash when reading non standard Alembic velocity attribute type (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/c148eba16fbe">rBc148eba1</a>)</li>
<li>(Unreported) Fix Alembic point cloud streaming (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/43394e41a8e0">rB43394e41</a>)</li></ul></li></ul>
<ul><li>Reviews:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12902">D12902</a>: Cycles: Corner Normals</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12781">D12781</a>: Fix T90666: Toggling motion blur while persistent data is enabled results in artifacts.</li></ul></li></ul>
<ul><li>Patches:
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12969">D12969</a>: Eevee: support accessing custom mesh attributes</li></ul></li></ul>
<h2><span id="Week_42-46,_25_October_-_26_November_2021"></span><span class="mw-headline" id="Week_42-46.2C_25_October_-_26_November_2021">Week 42-46, 25 October - 26 November 2021</span></h2>
<p>I dropped the ball again and forgot to do a lot reports. Main work for the last month was the OpenSubDiv patch refactor.
</p>
<ul><li>OpenSubDiv.</li></ul>
<p>Refactor based on reviewers feedback is now complete. I am in the process of making sure is compiles properly as one change increased significantly the size of the patch. In order to ensure that a mesh is available on the CPU side as well, the modifier should be executed which requires a depsgraph. This changes a lot of areas of the code, and we should ensure that they only require a lazy subdivision evaluation if needed. I may have overdone it, but better be safe than sorry I guess. This is using the mesh wrapper API.
</p>
<ul><li>Attribute Rendering.</li></ul>
<p>I worked on custom attribute rendering support, which was already mentioned in last report. Implementation and code review went really smooth. Although some issue remains with regards to memory usage, as noted in the previous report. Fixing the memory issue should be done during or after the EEVEE rewrite, as it would be simpler to handle with the new code base. For OpenSubdiv, custom attribute rendering support was made easier thanks to some good decision in the base patch.
</p>
<ul><li>Alembic.</li></ul>
<p>Overall, I would need to split everything into small patches so that code review can be fast. There were a lot of small bugs and regressions, I am glad these got caught before a potential review and merge.
</p>
<ul><li>Notable Commits
<ul><li>Eevee: support accessing custom mesh attributes (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/03013d19d167">03013d19d1</a>)</li></ul></li></ul>
<ul><li>Bug Fixes.
<ul><li>Fix <a rel="nofollow" class="external text" href="http://developer.blender.org/T92750">#92750</a>: sculpt vertex colors missing in object mode (<a rel="nofollow" class="external text" href="https://projects.blender.org/blender/blender/commit/622e6f05f1b5">622e6f05f1</a>)</li>
<li><a rel="nofollow" class="external text" href="http://developer.blender.org/D13306">D13306</a>: Fix T92561: unstable particle distribution with Alembic files</li></ul></li></ul>
<ul><li>Code reviews.
<ul><li><a rel="nofollow" class="external text" href="http://developer.blender.org/D12849">D12849</a>: Enable Operator Presets For Alembic Exports.</li></ul></li></ul>

<!-- 
NewPP limit report
Cached time: 20240112121623
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.303 seconds
Real time usage: 0.303 seconds
Preprocessor visited node count: 4627/1000000
Preprocessor generated node count: 4179/1000000
Post‐expand include size: 22907/2097152 bytes
Template argument size: 7438/2097152 bytes
Highest expansion depth: 12/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  220.634      1 -total
 84.86%  187.229     53 Template:GitCommit
 43.58%   96.148     63 Template:GitCommit/PhabricatorParse
 12.78%   28.195     43 Template:GitCommit/PhabricatorParseDeprecated
  4.62%   10.198     50 Template:PhabDiff
  2.05%    4.517     21 Template:BugReport
-->
</div>
<!-- Saved in parser cache with key mw_wiki-mediawiki_:pcache:idhash:5579-0!canonical and timestamp 20240112121623 and revision id 28262
 -->
</div><div class="clearfix"></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;oldid=28262">https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;oldid=28262</a>"</div>					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="footer pt-4">

			<!-- Footer Links -->
			<div class="container-fluid text-md-left">

				<!-- Grid row -->
				<div class="row">
					<div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">info</h5><p id="footer-info-lastmod"> This page was last edited on 29 November 2021, at 13:46.</p><p id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</p></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">places</h5><ul id="footer-places" role="contentinfo"><li id="footer-places-privacy"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:Privacy_policy" title="Blender Developer Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:About" title="Blender Developer Wiki:About">About Blender Developer Wiki</a></li><li id="footer-places-disclaimer"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:General_disclaimer" title="Blender Developer Wiki:General disclaimer">Disclaimers</a></li></ul></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">Utilities</h5><ul id="p-tb"><li id="t-whatlinkshere"><a href="../Special:WhatLinksHere/User:KevinDietrich/Reports2021.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.blender.org/wiki/Special:RecentChangesLinked/User:KevinDietrich/Reports2021" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-contributions"><a href="../Special:Contributions/KevinDietrich.html" title="A list of contributions by this user">User contributions</a></li><li id="t-log"><a href="../Special:Log/KevinDietrich.html">Logs</a></li><li id="t-userrights"><a href="../Special:UserRights/KevinDietrich.html">View user groups</a></li><li id="t-specialpages"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;oldid=28262" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.blender.org/w/index.php?title=User:KevinDietrich/Reports2021&amp;action=info" title="More information about this page">Page information</a></li></ul></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">Navigation</h5><ul id="p-navigation"><li id="n-mainpage-description"><a href="../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li></ul></div>
				</div>
				<!-- Grid row -->

				<!-- Grid row -->
				<div class="row pt-4 pb-4">
					<div class="col">
						<!-- Copyright -->
						<div class="text-center">Creative freedom starts with Blender – The Free and Open Source 3D Creation Suite
						</div>
						<!-- Copyright -->
					</div>
				</div>
				<!-- Grid row -->

			</div>
			<!-- Footer Links -->
		</footer>
		<!-- Footer -->


		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.303","walltime":"0.303","ppvisitednodes":{"value":4627,"limit":1000000},"ppgeneratednodes":{"value":4179,"limit":1000000},"postexpandincludesize":{"value":22907,"limit":2097152},"templateargumentsize":{"value":7438,"limit":2097152},"expansiondepth":{"value":12,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%  220.634      1 -total"," 84.86%  187.229     53 Template:GitCommit"," 43.58%   96.148     63 Template:GitCommit/PhabricatorParse"," 12.78%   28.195     43 Template:GitCommit/PhabricatorParseDeprecated","  4.62%   10.198     50 Template:PhabDiff","  2.05%    4.517     21 Template:BugReport"]},"cachereport":{"timestamp":"20240112121623","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":351});});</script>		<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v84a3a4012de94ce1a686ba8c167c359c1696973893317" integrity="sha512-euoFGowhlaLqXsPWQ48qSkBSCFs3DPRyiwVu3FjR96cMPx+Fr+gpWRhIafcHwqwCqWS42RZhIudOvEI+Ckf6MA==" data-cf-beacon='{"rayId":"84455492af3db8f1","b":1,"version":"2023.10.0","token":"d5f49e4e21684977a6be2ac49670f7b1"}' crossorigin="anonymous"></script>
</body>
		</html>

		