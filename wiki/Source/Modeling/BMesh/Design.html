<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Source/Modeling/BMesh/Design - Blender Developer Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Source/Modeling/BMesh/Design","wgTitle":"Source/Modeling/BMesh/Design","wgCurRevisionId":36268,"wgRevisionId":36268,"wgArticleId":4857,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Development","Meshes","Script"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Source/Modeling/BMesh/Design","wgRelevantArticleId":4857,"wgRequestId":"8a2e7be56ed2ff577dde5375","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","ext.pygments":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.bootstrap":"ready"});mw.loader.implement("user.tokens@1lo3932",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.bootstrap.js"]);});</script>
<link rel="stylesheet" href="../../../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=ext.pygments|mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|skins.bootstrap&amp;only=styles&amp;skin=bootstrap.css"/>
<script async="" src="../../../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=bootstrap"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="../../../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=bootstrap.css"/>
<meta name="generator" content="MediaWiki 1.31.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
<link rel="shortcut icon" href="../../../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.blender.org/w/opensearch_desc.php" title="Blender Developer Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.blender.org/w/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Blender Developer Wiki Atom feed" href="https://wiki.blender.org/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<script defer data-domain="wiki.blender.org" src="https://analytics.blender.org/js/script.js"></script>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=bootstrap&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Source_Modeling_BMesh_Design rootpage-Source skin-bootstrap action-view"><style>
   @font-face {
      font-family: "Heebo";
      src: url("https://www.blender.org/wp-content/themes/bthree/assets_shared/font/Heebo/Heebo-VariableFont_wght.ttf") format("truetype-variations");
      font-weight: normal;
      font-variation-settings: "wght" var(--font-weight);
      font-style: normal
    }
</style>

<style>
  /* This style block is copied across all sites using the developer navbar.
   * For custom styling on this website, add a <style> block after this one. */

  /* Variables. */
  .nav-global {
    -webkit-font-smoothing: antialiased;

    --nav-global-color-bg: hsl(213, 10%, 14%);
    --nav-global-color-text: hsl(213, 5%, 64%);
    --nav-global-color-text-secondary: hsl(213, 5%, 44%);
    --nav-global-color-text-highlight: hsl(213, 5%, 84%);
    --nav-global-color-text-hover: white;
    --nav-global-color-text-active: white;

    --nav-global-color-primary: hsl(204, 98%, 54%);
    --nav-global-color-primary-bg: hsla(204, 100%, 46%, .1);

    --nav-global-color-button-bg-hover: hsl(213, 10%, 24%);
    --nav-global-color-button-text: var(--nav-global-color-text);

    --nav-global-color-menu-bg: var(--nav-global-color-bg);
    --nav-global-color-menu-border: hsl(213, 10%, 18%);

    --nav-global-color-menu-zindex: 1040;

    --nav-global-box-shadow-menu: 0px 5px 15px -2px rgba(0, 0, 0, 0.33), 0px 5px 15px -5px rgba(0, 0, 0, 0.33);
    --nav-global-box-shadow-menu-item: 0px 1px 4px 0px rgba(0, 0, 0, 0.05), 0px 15px 20px -1px rgba(0, 0, 0, 0.025);

    --nav-global-navbar-height: var(--navbar-primary-height, 56px);

    --nav-global-spacer: 15px;
    --nav-global-spacer-sm: 10px;
    --nav-global-spacer-xs: 5px;

    --nav-global-border-radius: 6px;
    --nav-global-border-radius-lg: 10px;

    --nav-global-button-height: 35px;
    --nav-global-link-padding-x: var(--nav-global-spacer);
    --nav-global-link-padding-y: var(--nav-global-spacer-sm);

    --nav-global-font-size: 14px;
    --nav-global-transition-speed: 150ms;
  }

  /* Reset. */
  @namespace svg "http://www.w3.org/2000/svg";

  .nav-global :not(svg|*),
  .nav-global *::before,
  .nav-global *::after {
    -webkit-box-sizing: border-box;

    all: unset;
    display: revert;
    box-sizing: border-box;
  }

  .nav-global [default-styles] {
    all: revert;
  }

  .nav-global * {
    -webkit-text-size-adjust: 100%;

    font-family: 'Heebo', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-variation-settings: 'wght' 400;
    font-weight: normal;
  }

  .nav-global {
    background-color: var(--nav-global-color-bg);
    color: var(--nav-global-color-text);
    display: flex;
    position: relative;
    z-index: var(--zindex-fixed);
  }

  .nav-global h3,
  .nav-global h4,
  .nav-global strong {
    font-variation-settings: 'wght' 500;
  }

  .nav-global figure,
  .nav-global section {
    display: block;
  }

  .nav-global svg:not(:root) {
    overflow: hidden;
    vertical-align: middle;
  }

  .nav-global .nav-global-container {
    flex: 1;
    margin: 0 auto;
  }

  /* Navigation. */
  .nav-global nav {
    align-items: center;
    display: flex;
    line-height: var(--nav-global-font-size);
    font-size: var(--nav-global-font-size);
    height: var(--nav-global-navbar-height);
    margin: 0 auto;
    padding: 0 var(--nav-global-spacer);
    position: relative;
  }

  /* Links. */
  .nav-global a:not(.dropdown-item) {
    color: inherit;
    cursor: pointer;
    text-decoration: none;
    transition: background-color var(--nav-global-transition-speed) ease-out, color var(--nav-global-transition-speed) ease-out;
  }

  .nav-global a:not(.dropdown-item):hover {
    color: var(--nav-global-color-text-hover);
  }

  /* Navigation items. */
  .nav-global nav > ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .nav-global nav > ul,
  .nav-global nav > ul > li,
  .nav-global nav > ul > li > a,
  .nav-global-apps-dropdown-container {
    align-items: center;
    display: inline-flex;
    height: 100%;
  }

  .nav-global-apps-dropdown-container {
    position: relative;
  }

  .nav-global nav > ul > li > a {
    padding: var(--nav-global-link-padding-y) var(--nav-global-link-padding-x);
  }

  .nav-global nav > a.is-active,
  .nav-global nav > a.is-active svg,
  .nav-global nav > ul > li > a.is-active,
  .nav-global .nav-global-link-active,
  .nav-global .nav-global-link-active svg {
    color: var(--nav-global-color-text-active) !important;
    fill: var(--nav-global-color-text-active);
    font-variation-settings: 'wght' 500;
  }

  .nav-global .nav-global-links-right {
    margin-left: auto;
  }

  /* Logo. */
  .nav-global a.nav-global-logo {
    margin-right: var(--nav-global-spacer);
    position: relative;
    top: 2px;
  }

  .nav-global a.nav-global-logo strong {
    margin-inline: var(--nav-global-spacer-sm);
    font-size: 18px;
  }

  .nav-global .nav-global-logo svg {
    height: 21px;
  }

  .nav-global a.nav-global-logo svg {
    position: relative;
    top: -4px;
  }

  .nav-global svg {
    fill: var(--nav-global-color-text);
    transition: fill var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-logo:hover svg {
    fill: white;
  }

  /* Apps button. */
  .nav-global button,
  .nav-global .nav-global-btn {
    -webkit-appearance: button;

    align-items: center;
    background-color: transparent;
    border-radius: var(--nav-global-border-radius);
    border: 0;
    color: var(--nav-global-color-button-text);
    cursor: pointer;
    display: inline-flex;
    font: inherit;
    height: var(--nav-global-button-height);
    margin: 0;
    outline: 0;
    overflow: visible;
    padding: var(--nav-global-spacer-xs) var(--nav-global-spacer);
    text-transform: none;
    transition: background-color var(--nav-global-transition-speed) ease-out, color var(--nav-global-transition-speed) ease-out, transform var(--nav-global-transition-speed) ease-out;
    white-space: nowrap;
  }

  .nav-global button span,
  .nav-global .nav-global-btn span {
    white-space: nowrap;
  }

  .nav-global button:hover,
  .nav-global .nav-global-btn:hover {
    background-color: var(--nav-global-color-button-bg-hover);
    color: var(--nav-global-color-text-hover);
    cursor: pointer;
  }

  .nav-global button.nav-global-btn-active,
  .nav-global .nav-global-btn.nav-global-btn-active {
    background-color: var(--nav-global-color-primary-bg);
    color: var(--nav-global-color-primary);
  }

  .nav-global button.nav-global-btn-active svg,
  .nav-global .nav-global-btn.nav-global-btn-active svg {
    fill: var(--nav-global-color-primary);
  }

  .nav-global .nav-global-icon {
    height: 20px;
    pointer-events: none;
    width: 20px;
  }

  .nav-global-icon-dropdown-toggle {
    margin-left: var(--nav-global-spacer-xs);
  }

  .nav-global button:hover svg,
  .nav-global .nav-global-btn:hover svg {
    fill: white;
  }

  /* Apps dropdown menu. */
  .nav-global .nav-global-apps-menu {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: var(--nav-global-border-radius-lg);
    border: thin solid var(--nav-global-color-menu-border);
    box-shadow: var(--nav-global-box-shadow-menu);
    display: none;
    padding: var(--nav-global-spacer-sm);
    position: absolute;
    right: 0;
    top: calc(100% + 15px);
    visibility: hidden;
    width: 640px;
    z-index: var(--nav-global-color-menu-zindex);
  }

  .nav-global .nav-global-dropdown.is-visible {
    display: block;
    visibility: visible;
  }

  /* Tiny triangle in the corner. */
  .nav-global .nav-global-apps-menu::before {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: 3px;
    border: 2px var(--nav-global-color-menu-bg) solid;
    content: '';
    display: block;
    height: .85rem;
    position: absolute;
    right: .85rem;
    top: -0.25rem;
    transform: rotate(45deg);
    width: 1rem;
    z-index: -1;
  }

  .nav-global .nav-global-apps-menu ul {
    border-bottom: 2px solid rgba(255, 255, 255, .05);
    display: grid;
    gap: var(--nav-global-spacer-sm);
    grid-template-columns: repeat(2, 1fr);
    list-style: none;
    margin: 0 0 var(--nav-global-spacer-xs) 0;
    padding: var(--nav-global-spacer-xs) 0 var(--nav-global-spacer-sm) 0;
  }

  .nav-global .nav-global-apps-menu ul>li>a {
    border-radius: var(--nav-global-border-radius-lg);
    display: flex;
    flex: 1;
    height: 100%;
  }

  .nav-global .nav-global-apps-menu ul>li>a:hover {
    background-color: rgba(255, 255, 255, .05);
    color: var(--nav-global-color-text-active);
    box-shadow: var(--nav-global-box-shadow-menu-item);
  }

  .nav-global .nav-global-apps-menu ul>li>a:hover h4,
  .nav-global .nav-global-apps-menu ul>li>a:hover svg {
    color: var(--nav-global-color-primary);
    fill: var(--nav-global-color-primary);
  }

  .nav-global .nav-global-apps-menu h3 {
    color: white;
    display: inline-block;
    font-size: 13px;
    line-height: 18px;
    margin: 0;
    opacity: .3;
    padding-left: var(--nav-global-spacer);
  }

  .nav-global .nav-global-apps-menu h4 {
    color: var(--nav-global-color-text-highlight);
    font-size: 17px;
    line-height: 18px;
    margin: var(--nav-global-spacer-xs) 0 0;
    padding: var(--nav-global-spacer-sm) var(--nav-global-spacer) 0;
    transition: color var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-apps-menu p {
    font-size: 15px;
    line-height: 20px;
    margin: 0;
    opacity: .8;
    padding: var(--nav-global-spacer-xs) var(--nav-global-spacer) var(--nav-global-spacer-sm);
  }

  .nav-global .nav-global-apps-menu figure {
    margin: var(--nav-global-spacer) 0 0 var(--nav-global-spacer);
  }

  .nav-global .nav-global-apps-menu ul>li>a svg {
    position: relative;
    top: -2px;
  }

  /* Donate section of the menu. */
  .nav-global .nav-global-apps-menu-section-donate ul {
    border: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }

  .nav-global .nav-global-apps-menu-section-donate a svg {
    fill: hsl(352, 90%, 62%) !important;
    transition: transform var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a {
    background-color: hsla(352deg, 90%, 42%, .2);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover {
    background-color: hsla(352deg, 90%, 42%, .5);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover svg {
    fill: hsl(352, 90%, 72%) !important;
    transform: scale(1.2);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover h4 {
    color: white;
  }

/* Mobile. */
.nav-global button.nav-global-logo {
  display: none;
  visibility: hidden;
}

@media (max-width: 767px) {

  .nav-global-apps-dropdown-container,
  .nav-global a.nav-global-logo {
    display: none;
  }

  .nav-global button.nav-global-logo {
    display: block;
    visibility: visible;
  }

  .nav-global .nav-global-nav-links {
    align-items: flex-start;
    background-color: var(--nav-global-color-menu-bg);
    border-radius: var(--nav-global-border-radius-lg);
    display: none;
    flex-direction: column;
    left: 1rem;
    padding: 0 var(--nav-global-spacer-sm);
    position: absolute;
    top: calc(100% + .5rem);
    visibility: visible;
    width: 10rem;
    z-index: var(--nav-global-color-menu-zindex);
  }

  .nav-global .nav-global-nav-links.is-visible {
    display: flex;
  }

  .nav-global .nav-global-nav-links::before {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: 3px;
    border: 2px var(--nav-global-color-menu-bg) solid;
    content: '';
    display: block;
    height: 0.8rem;
    position: absolute;
    left: 1.5rem;
    top: -0.133rem;
    transform: rotate(45deg);
    width: 1rem;
    z-index: -1;
  }

  .nav-global nav>ul {
    height: initial;
  }

  .nav-global .nav-global-nav-links>li {
    border-bottom: 2px solid rgba(255, 255, 255, .05);
    width: 100%;
  }

  .nav-global .nav-global-nav-links>li:last-child {
    border: none;
  }

  .nav-global .nav-global-nav-links>li>a {
    padding-inline: 0;
    width: 100%;
  }
}
</style>

<style>
  /* Custom styling for code.blender.org */
  /* Make sure to start every line with ".nav-global"
   * so changes affect the developer navbar only. */

  /* Limit navbar width on large screens. */
  @media (min-width: 1200px) {
    .nav-global .nav-global-container {
      max-width: 1170px;
    }
  }
</style>

<div class="nav-global">
  <div class="nav-global-container">
    <nav>
      <a href="https://developer.blender.org/" class="nav-global-logo">
        <svg fill-rule="nonzero" viewBox="0 0 200 162.05">
          <path
            d="M61.1 104.56c.05 2.6.88 7.66 2.12 11.61a61.27 61.27 0 0 0 13.24 22.92 68.39 68.39 0 0 0 23.17 16.64 74.46 74.46 0 0 0 30.42 6.32 74.52 74.52 0 0 0 30.4-6.42 68.87 68.87 0 0 0 23.15-16.7 61.79 61.79 0 0 0 13.23-22.97 58.06 58.06 0 0 0 2.07-25.55 59.18 59.18 0 0 0-8.44-23.1 64.45 64.45 0 0 0-15.4-16.98h.02L112.76 2.46l-.16-.12c-4.09-3.14-10.96-3.13-15.46.02-4.55 3.18-5.07 8.44-1.02 11.75l-.02.02 26 21.14-79.23.08h-.1c-6.55.01-12.85 4.3-14.1 9.74-1.27 5.53 3.17 10.11 9.98 10.14v.02l40.15-.07-71.66 55-.27.2c-6.76 5.18-8.94 13.78-4.69 19.23 4.32 5.54 13.51 5.55 20.34.03l39.1-32s-.56 4.32-.52 6.91zm100.49 14.47c-8.06 8.2-19.34 12.86-31.54 12.89-12.23.02-23.5-4.6-31.57-12.79-3.93-4-6.83-8.59-8.61-13.48a35.57 35.57 0 0 1 2.34-29.25 39.1 39.1 0 0 1 9.58-11.4 44.68 44.68 0 0 1 28.24-9.85 44.59 44.59 0 0 1 28.24 9.77 38.94 38.94 0 0 1 9.58 11.36 35.58 35.58 0 0 1 4.33 14.18 35.1 35.1 0 0 1-1.98 15.05 37.7 37.7 0 0 1-8.61 13.52zm-57.6-27.91a23.55 23.55 0 0 1 8.55-16.68 28.45 28.45 0 0 1 18.39-6.57 28.5 28.5 0 0 1 18.38 6.57 23.57 23.57 0 0 1 8.55 16.67c.37 6.83-2.37 13.19-7.2 17.9a28.18 28.18 0 0 1-19.73 7.79c-7.83 0-14.84-3-19.75-7.8a23.13 23.13 0 0 1-7.19-17.88z" />
          <strong>Developer</strong>
        </svg>
      </a>

      <button class="nav-global-logo js-dropdown-toggle" data-toggle-menu-id="nav-global-nav-links">
        <svg fill-rule="nonzero" viewBox="0 0 850.2 162.05">
          <path d="M61.1 104.56c.05 2.6.88 7.66 2.12 11.61a61.27 61.27 0 0 0 13.24 22.92 68.39 68.39 0 0 0 23.17 16.64 74.46 74.46 0 0 0 30.42 6.32 74.52 74.52 0 0 0 30.4-6.42 68.87 68.87 0 0 0 23.15-16.7 61.79 61.79 0 0 0 13.23-22.97 58.06 58.06 0 0 0 2.07-25.55 59.18 59.18 0 0 0-8.44-23.1 64.45 64.45 0 0 0-15.4-16.98h.02L112.76 2.46l-.16-.12c-4.09-3.14-10.96-3.13-15.46.02-4.55 3.18-5.07 8.44-1.02 11.75l-.02.02 26 21.14-79.23.08h-.1c-6.55.01-12.85 4.3-14.1 9.74-1.27 5.53 3.17 10.11 9.98 10.14v.02l40.15-.07-71.66 55-.27.2c-6.76 5.18-8.94 13.78-4.69 19.23 4.32 5.54 13.51 5.55 20.34.03l39.1-32s-.56 4.32-.52 6.91zm100.49 14.47c-8.06 8.2-19.34 12.86-31.54 12.89-12.23.02-23.5-4.6-31.57-12.79-3.93-4-6.83-8.59-8.61-13.48a35.57 35.57 0 0 1 2.34-29.25 39.1 39.1 0 0 1 9.58-11.4 44.68 44.68 0 0 1 28.24-9.85 44.59 44.59 0 0 1 28.24 9.77 38.94 38.94 0 0 1 9.58 11.36 35.58 35.58 0 0 1 4.33 14.18 35.1 35.1 0 0 1-1.98 15.05 37.7 37.7 0 0 1-8.61 13.52zm-57.6-27.91a23.55 23.55 0 0 1 8.55-16.68 28.45 28.45 0 0 1 18.39-6.57 28.5 28.5 0 0 1 18.38 6.57 23.57 23.57 0 0 1 8.55 16.67c.37 6.83-2.37 13.19-7.2 17.9a28.18 28.18 0 0 1-19.73 7.79c-7.83 0-14.84-3-19.75-7.8a23.13 23.13 0 0 1-7.19-17.88z" />
          <path d="M829.17 133.76h-15.9V64.39h15.13l.77 13.59zM850.07 79q-1.47-.25-3.14-.38-1.6-.13-3.2-.13-5.26 0-8.8 1.92-3.45 1.86-5.25 5.39-1.8 3.46-2.11 8.2l-3.66.07q0-8.78 2.31-15.77 2.3-6.99 6.92-11.1 4.62-4.1 11.54-4.1 1.35 0 3.02.26 1.66.26 2.5.58zm-76.55 56.04q-10.32 0-17.82-4.42-7.5-4.5-11.55-12.06-4.03-7.63-4.03-17.05v-2.63q0-10.84 4.1-18.85 4.1-8.08 11.22-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.6 4.3 9.88 12 3.27 7.62 3.27 17.69V104h-53.67V92.53h37.96v-1.22q-.13-4.04-1.54-7.56-1.4-3.53-4.49-5.7-3.01-2.19-8.07-2.19-5.07 0-8.53 2.89-3.46 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.19 10.58 2.18 4.68 6.34 7.43 4.17 2.7 9.94 2.7 5.58 0 9.87-2.18 4.36-2.18 7.5-6.29l8.34 8.34q-3.27 4.93-9.87 8.97-6.54 3.98-16.8 3.98zm-88.67 25.39h-15.9V64.39h14.68l1.22 13.33zm45-60.72q0 10.13-3.13 18.15-3.08 7.95-9.1 12.56-5.97 4.62-14.63 4.62-8.72 0-14.49-4.23-5.7-4.3-8.9-11.8-3.21-7.5-4.43-17.12v-4.55q1.22-10.26 4.42-17.89 3.2-7.7 8.91-11.99 5.71-4.36 14.3-4.36 8.79 0 14.81 4.43 6.03 4.42 9.1 12.37 3.15 7.95 3.15 18.47zm-15.9-1.34q0-6.22-1.6-11.29-1.53-5.06-5-8.01-3.4-2.95-8.9-2.95-3.98 0-6.87 1.35-2.88 1.28-4.87 3.65-1.92 2.37-3.01 5.64-1.1 3.2-1.54 7.05v11.6q.77 4.62 2.56 8.47 1.8 3.85 5.13 6.16 3.4 2.24 8.72 2.24 5.51 0 8.91-3.08 3.4-3.14 4.94-8.2 1.54-5.13 1.54-11.29zm-122.51.06q0-10.13 3.84-18.08 3.85-7.95 11.03-12.57 7.25-4.68 17.38-4.68 10.25 0 17.5 4.68 7.24 4.62 11.03 12.57 3.84 7.95 3.84 18.08v1.35q0 10.06-3.84 18.08-3.79 7.95-11.03 12.56-7.18 4.62-17.38 4.62-10.19 0-17.43-4.62-7.25-4.61-11.1-12.56-3.84-8.02-3.84-18.08zm15.9 1.35q0 6.15 1.73 11.28 1.73 5.07 5.32 8.14 3.65 3.08 9.42 3.08 5.71 0 9.3-3.08 3.65-3.07 5.32-8.14 1.73-5.13 1.73-11.28v-1.35q0-6.09-1.73-11.22-1.67-5.13-5.32-8.2-3.65-3.15-9.42-3.15-5.71 0-9.36 3.14-3.6 3.08-5.33 8.21-1.66 5.13-1.66 11.22zm-29.69 33.98h-15.9V35.28h15.9zm-56.67 1.28q-10.33 0-17.83-4.42-7.5-4.5-11.54-12.06-4.04-7.63-4.04-17.05v-2.63q0-10.84 4.1-18.85 4.11-8.08 11.23-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.6 4.3 9.88 12 3.27 7.62 3.27 17.69V104H495.2V92.53h37.96v-1.22q-.13-4.04-1.54-7.56-1.41-3.53-4.49-5.7-3.01-2.19-8.08-2.19-5.06 0-8.52 2.89-3.47 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.18 10.58t6.35 7.43q4.17 2.7 9.94 2.7 5.58 0 9.87-2.18 4.36-2.18 7.5-6.29l8.34 8.34q-3.27 4.93-9.88 8.97-6.54 3.98-16.8 3.98zM464.3 64.39h16.48l-23.98 69.37h-10.26l1.03-12.57zm-12.25 57 .77 12.37h-10.19l-24.17-69.37H435zm-65.88 13.65q-10.32 0-17.82-4.42-7.5-4.5-11.54-12.06-4.04-7.63-4.04-17.05v-2.63q0-10.84 4.1-18.85 4.1-8.08 11.22-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.61 4.3 9.88 12 3.27 7.62 3.27 17.69V104H360.4V92.53h37.95v-1.22q-.12-4.04-1.53-7.56-1.42-3.53-4.5-5.7-3-2.19-8.07-2.19t-8.53 2.89q-3.46 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.19 10.58 2.18 4.68 6.35 7.43 4.16 2.7 9.93 2.7 5.58 0 9.88-2.18 4.36-2.18 7.5-6.29l8.33 8.34q-3.27 4.93-9.87 8.97-6.54 3.98-16.8 3.98zm-107.64-1.28.12-13.27h19.75q8.6 0 14.36-3.72 5.77-3.72 8.72-10.65 2.95-6.98 2.95-16.67v-4.87q0-9.94-2.95-16.8-2.88-6.86-8.59-10.45-5.7-3.59-13.91-3.59h-20.84V40.41h20.84q12.5 0 21.93 5.51 9.48 5.52 14.8 15.45 5.33 9.94 5.33 23.34v4.74q0 13.47-5.32 23.4-5.33 9.94-14.94 15.46-9.56 5.45-22.38 5.45zm9.23 0h-16.54V40.4h16.54z" />
        </svg>
        <svg class="nav-global-icon nav-global-icon-dropdown-toggle" height="100px" width="100px" viewBox="0 0 1000 1000">
          <path d="m 206.53824,376.41174 a 42,42 0 0 1 71,-29 l 221,220 220,-220 a 42,42 0 1 1 59,59 l -250,250 a 42,42 0 0 1 -59,0 l -250,-250 a 42,42 0 0 1 -12,-30 z"/>
        </svg>
      </button>

      <ul class="nav-global-nav-links nav-global-dropdown js-dropdown-menu" id="nav-global-nav-links">
        <li>
          <a href="https://projects.blender.org">Projects</a>
        </li>
        <li>
          <a href="https://wiki.blender.org" class="nav-global-link-active">Docs</a>
        </li>
        <li>
          <a href="https://code.blender.org">Blog</a>
        </li>
        <li>
          <a href="https://devtalk.blender.org">Forum</a>
        </li>
        <li>
          <a href="https://builder.blender.org">Builds</a>
        </li>
      </ul>

      <ul class="nav-global-links-right">
        <li>
          <div class="nav-global-apps-dropdown-container">
            <button class="js-dropdown-toggle" data-toggle-menu-id="nav-global-apps-menu">
              <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                <path
                  d="m 150.5,899 a 50,50 0 0 1 -49,-50 V 749 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 749 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 749 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m -598,-299 a 50,50 0 0 1 -49,-50 V 450 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 450 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 450 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m -598,-299 a 50,50 0 0 1 -49,-50 V 151 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 151 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 151 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z"/>
              </svg>
            </button>

            <div class="nav-global-apps-menu nav-global-dropdown js-dropdown-menu" id="nav-global-apps-menu">
              <h3>BLENDER.ORG</h3>
              <ul>
                <li>
                  <a href="https://www.blender.org/download/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 49.15424,599.52895 a 50.360431,50.360431 0 0 0 -49.16137168,50.36043 v 200.24266 c 0,81.53594 68.34629768,149.88226 149.88223168,149.88226 h 700.2498 c 81.53593,0 149.8822,-68.34632 149.8822,-149.88226 V 649.88938 a 50.360431,50.360431 0 1 0 -100.72083,0 v 200.24266 c 0,27.57834 -21.58304,49.16138 -49.16137,49.16138 H 149.8751 c -27.57833,0 -49.16137,-21.58304 -49.16137,-49.16138 V 649.88938 A 50.360431,50.360431 0 0 0 49.15424,599.52895 Z M 249.3969,350.12491 a 50.360431,50.360431 0 0 0 -34.77267,85.13311 l 250.60309,249.40404 a 50.360431,50.360431 0 0 0 70.74442,0 L 785.37577,435.25802 A 50.360431,50.360431 0 1 0 714.63136,364.51361 L 500,579.14497 285.36864,364.51361 A 50.360431,50.360431 0 0 0 249.3969,350.12491 Z M 498.80094,0 A 50.360431,50.360431 0 0 0 449.63957,50.360432 V 649.88938 a 50.360431,50.360431 0 1 0 100.72086,0 V 50.360432 A 50.360431,50.360431 0 0 0 498.80094,0 Z"
                          style="stroke-width:1.19906" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Download</h4>
                      <p>Get the latest Blender, older versions, or experimental builds.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://www.blender.org/download/releases/" target="_blank">
                    <div>
                      <h4>What's New</h4>
                      <p>Stay up-to-date with the new features in the latest Blender releases.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <h3>RESOURCES</h3>
              <ul>
                <li>
                  <a href="https://studio.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 146.70939,1.6802353 c -78.362959,0 -143.678322,64.2057377 -143.6783209,143.6570547 -7.2533835,268.45385 0,463.93349 0,709.63356 0,79.45132 65.3153619,143.65705 143.6783209,143.65705 266.17757,0.51388 460.32009,0 709.61228,0 79.45134,0 143.67832,-64.20573 143.67832,-143.65705 0.37471,-118.45983 0,-235.03162 0,-353.72203 0.017,-0.72264 0.017,-1.4456 0,-2.16825 0.43351,-118.60776 0,-235.80643 0,-353.74328 0,-79.451317 -64.22698,-143.6570547 -143.67832,-143.6570547 -241.21275,-1.18614431 -498.91438,-0.041532 -709.61228,0 z m 0,90.3436617 h 82.71228 V 228.07083 H 93.374735 v -82.73354 c 0,-30.47448 22.860165,-53.313393 53.334655,-53.313393 z m 173.05594,0 h 363.5004 c -5.81542,127.740813 0,236.658243 0,362.416273 h -363.5004 c 0.39671,-121.62159 0,-241.06277 0,-362.416273 z m 453.84406,0 h 82.71228 c 30.4745,0 53.33466,22.838913 53.33466,53.313393 v 82.73354 H 773.60939 Z M 93.374735,318.39324 H 229.42167 V 454.44017 H 93.374735 Z m 680.234655,0 H 909.65633 V 454.44017 H 773.60939 Z M 93.374735,545.86796 H 229.42167 V 681.91489 H 93.374735 Z m 226.390595,0 h 363.5004 c -5.81534,127.74773 0,236.67164 0,362.43753 h -363.5004 c 0.3967,-121.62867 0,-241.07685 0,-362.43753 z m 453.84406,0 H 909.65633 V 681.91489 H 773.60939 Z M 93.374735,772.25856 H 229.42167 v 136.04693 h -82.71228 c -30.47449,0 -53.334655,-22.86016 -53.334655,-53.33464 z m 680.234655,0 h 136.04694 v 82.71229 c 0,30.47448 -22.86016,53.33464 -53.33466,53.33464 h -82.71228 z"
                          style="stroke-width:1.08838" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Blender Studio</h4>
                      <p>Access production assets and knowledge from the open movies.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://docs.blender.org/manual/en/latest/" target="_blank">
                    <div>
                      <h4>Manual</h4>
                      <p>Documentation on the usage and features in Blender.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <h3>DEVELOPMENT</h3>
              <ul>
                <li>
                  <a href="https://code.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 683.36434,818.19976 a 45.841084,45.841084 0 0 1 -33.83509,-13.09745 45.841084,45.841084 0 0 1 0,-64.39581 L 890.74067,499.49508 649.52925,259.37512 a 45.841084,45.841084 0 0 1 0,-64.39582 45.841084,45.841084 0 0 1 64.39581,0 l 272.8636,272.8636 a 45.841084,45.841084 0 0 1 0,64.39581 l -272.8636,272.8636 a 45.841084,45.841084 0 0 1 -30.56072,13.09745 z m -363.45431,0 A 45.841084,45.841084 0 0 1 286.07494,805.10231 L 13.211339,532.23871 a 45.841084,45.841084 0 0 1 0,-64.39581 L 286.07494,194.9793 a 45.841084,45.841084 0 0 1 64.39581,0 45.841084,45.841084 0 0 1 0,64.39582 L 109.25933,499.49508 350.47075,740.7065 a 45.841084,45.841084 0 0 1 0,64.39581 45.841084,45.841084 0 0 1 -30.56072,13.09745 z"
                          style="stroke-width:1.09145" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Developers Blog</h4>
                      <p>Latest development updates, by Blender developers.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://wiki.blender.org/" target="_blank">
                    <div>
                      <h4>Documentation</h4>
                      <p>Guidelines, release notes and development docs.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <ul>
                <li>
                  <a href="https://opendata.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="M 499.99424,0 A 55.30474,55.30474 0 0 0 444.6895,55.30474 V 944.69526 A 55.30474,55.30474 0 0 0 499.99424,1000 55.30474,55.30474 0 0 0 555.29898,944.69526 V 55.30474 A 55.30474,55.30474 0 0 0 499.99424,0 Z m 332.95711,332.95711 a 55.30474,55.30474 0 0 0 -55.30474,56.43341 V 944.69526 A 55.30474,55.30474 0 0 0 832.95135,1000 55.30474,55.30474 0 0 0 888.25609,944.69526 V 389.39052 A 55.30474,55.30474 0 0 0 832.95135,332.95711 Z M 167.03713,555.30474 a 55.30474,55.30474 0 0 0 -55.30474,55.30474 V 944.69526 A 55.30474,55.30474 0 0 0 167.03713,1000 55.30474,55.30474 0 0 0 222.34187,944.69526 V 610.60948 a 55.30474,55.30474 0 0 0 -55.30474,-55.30474 z"
                          style="stroke-width:1.12867" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Benchmark</h4>
                      <p>A platform to collect and share results of the Blender Benchmark.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://conference.blender.org/" target="_blank">
                    <div>
                      <h4>Blender Conference</h4>
                      <p>The yearly event that brings the community together.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <div class="nav-global-apps-menu-section-donate">
                <h3>DONATE</h3>
                <ul>
                  <li>
                    <a href="https://fund.blender.org/" target="_blank">
                      <figure>
                        <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                          <path
                            d="M 273.67169,58.416076 C 201.59785,62.59427 135.79129,94.975269 86.697523,145.11359 37.603742,194.20736 4.1781939,260.01391 0,332.08775 -4.1781926,403.11704 22.980065,480.41362 86.697523,545.17562 l 45.960127,45.96013 339.47823,338.43367 a 43.871033,43.871033 0 0 0 61.62835,0 L 872.1979,591.13575 918.15804,545.17562 c 109.67766,-110.72213 109.67766,-290.38445 0,-400.06203 -110.72213,-110.722127 -290.38445,-110.722127 -400.06204,0 l -15.66822,14.62368 -15.66822,-14.62368 C 423.04211,80.351592 345.74553,53.193334 273.67169,58.416076 Z m 5.22274,86.697514 c 48.04922,-3.13365 98.18754,12.53458 146.23677,60.5838 l 47.00468,47.00468 a 43.871033,43.871033 0 0 0 61.62835,0 l 45.96013,-47.00468 c 76.25204,-76.25203 199.50874,-76.25203 276.80532,0 77.29658,77.29658 77.29658,200.5533 0,277.84988 L 810.56956,529.50739 502.42778,837.64917 194.286,529.50739 148.32588,483.54727 C 100.27665,434.45349 84.608431,384.31516 86.697523,336.26594 c 3.133646,-47.00467 26.113717,-95.0539 61.628357,-130.56855 35.51464,-35.51464 82.51932,-58.49471 130.56855,-60.5838 z"
                            style="stroke-width:1.04455" />
                        </svg>
                      </figure>
                      <div>
                        <h4>Development Fund</h4>
                        <p>Support core development with a monthly contribution.</p>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="https://www.blender.org/about/donations/" target="_blank">
                      <div>
                        <h4>One-time Donations</h4>
                        <p>Perform a single donation with more payment options available.</p>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</div>

<script>
  const dropdownToggles = document.getElementsByClassName("js-dropdown-toggle");
  const btnActiveClass = 'nav-global-btn-active';
  const isVisibleClass = 'is-visible';

  /* Hide all dropdowns. */
  function dropdownHideAll() {
    const dropdownMenus = document.getElementsByClassName("js-dropdown-menu");

    if (dropdownMenus) {
      for (let i = 0; i < dropdownMenus.length; i++) {
        dropdownMenus[i].classList.remove(isVisibleClass);
      }
    }

    /* Remove styling from all dropdown toggles. */
    for (let i = 0; i < dropdownToggles.length; i++) {
      dropdownToggles[i].classList.remove(btnActiveClass);
    }
  }

  for (let i = 0; i < dropdownToggles.length; i++) {
    dropdownToggles[i].addEventListener("click", function (e) {
      e.stopPropagation();

      const dropdownId = this.getAttribute('data-toggle-menu-id');
      const el = document.getElementById(dropdownId);

      if (el) {
        /* If the button is already active, remove styling. */
        if (el.classList.contains(isVisibleClass)) {
          dropdownHideAll();
        } else {
          /* Style button as active and show menu. */
          this.classList.add(btnActiveClass);
          el.classList.add(isVisibleClass);
        }
      }
    });
  }

  /* Hide all dropdowns when clicking anywhere except menus. */
  document.body.addEventListener("click", function (e) {
    if (!e.target.classList.contains("js-dropdown-menu")) {
      dropdownHideAll();
    }
  });

  /* Hide all dropdowns when pressing Esc. */
  window.addEventListener('keydown', function (event) {
    if (event.key === 'Escape') {
      dropdownHideAll();
    }
  });
</script>

		<nav class="navbar navbar-expand flex-column flex-md-row bd-navbar">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link" href="https://wiki.blender.org/">Developer Documentation</a></li>
				</ul>
				<div>
<ul class="navbar-nav"><li id="ca-view" class="nav-item"><a href="Design.html" redundant="1" class="nav-link">View</a></li><li id="ca-viewsource" class="nav-item"><a href="https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e" class="nav-link">View source</a></li><li id="ca-history" class="nav-item"><a href="https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;action=history" title="Past revisions of this page [h]" accesskey="h" class="nav-link">History</a></li><li class="nav-item"><li class="nav-item dropdown" id="p-personal"><a class="nav-link dropdown-toggle" role="button" data-toggle="dropdown">Personal tools</a><div class="dropdown-menu dropdown-menu-right"><span id="pt-login"><a href="https://wiki.blender.org/w/index.php?title=Special:UserLogin&amp;returnto=Source%2FModeling%2FBMesh%2FDesign" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o" class="dropdown-item">Log in</a></span></div></li></li></ul>				</div>
			</div>
		</nav>



		<div id="mw-wrapper" class="container-fluid">
			<div class="row flex-xl-nowrap">
				<div class="col-12 col-md-3 col-xl-2 bd-sidebar">
					<form action="https://wiki.blender.org/w/index.php" role="search" class="bd-search d-flex align-items-center" id="p-search"><input type="hidden" value="Special:Search" name="title"/><input type="search" name="search" placeholder="Search..." title="Search Blender Developer Wiki [f]" accesskey="f" id="searchInput" class="form-control ds-input" autocomplete="off"/></form>										<div id="p-Building_Blender">
						<h5>Building Blender</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Windows"><a href="../../../Building_Blender/Windows.html">Windows</a></li><li id="n-macOS"><a href="../../../Building_Blender/Mac.html">macOS</a></li><li id="n-Linux"><a href="../../../Building_Blender/Linux.html">Linux</a></li>						</ul>
										</div>
										<div id="p-Develop">
						<h5>Develop</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Getting-Started"><a href="../../../Developer_Intro.html">Getting Started</a></li><li id="n-Code-Documentation"><a href="../../../Source.html">Code Documentation</a></li><li id="n-Style-Guide"><a href="../../../Style_Guide.html">Style Guide</a></li><li id="n-Release-Notes"><a href="../../../Reference/Release_Notes.html">Release Notes</a></li>						</ul>
										</div>
										<div id="p-Process">
						<h5>Process</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Communication"><a href="../../../Contact.html">Communication</a></li><li id="n-Modules"><a href="../../../Modules.html">Modules</a></li><li id="n-Bug-Tracker"><a href="../../../Process/Bug_Reports.html">Bug Tracker</a></li><li id="n-Code-Review"><a href="../../../Process/Contributing_Code.html">Code Review</a></li>						</ul>
										</div>
										<div id="p-More">
						<h5>More</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Google-Summer-of-Code"><a href="../../../GSoC.html">Google Summer of Code</a></li><li id="n-Python"><a href="../../../Special:RandomRootpage.html">Python</a></li><li id="n-FAQ"><a href="../../../FAQ.html">FAQ</a></li>						</ul>
										</div>
									</div>

								<div class="d-none d-xl-block col-xl-2 bd-toc">
					<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Design.html#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Design.html#The_BMesh_Structure"><span class="tocnumber">2</span> <span class="toctext">The BMesh Structure</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Design.html#Entities"><span class="tocnumber">2.1</span> <span class="toctext">Entities</span></a>
<ul>
<li class="toclevel-3 tocsection-4"><a href="Design.html#Vertices"><span class="tocnumber">2.1.1</span> <span class="toctext">Vertices</span></a></li>
<li class="toclevel-3 tocsection-5"><a href="Design.html#Edges"><span class="tocnumber">2.1.2</span> <span class="toctext">Edges</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="Design.html#Loops"><span class="tocnumber">2.1.3</span> <span class="toctext">Loops</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="Design.html#Faces"><span class="tocnumber">2.1.4</span> <span class="toctext">Faces</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="Design.html#Persistent_Flags"><span class="tocnumber">2.1.5</span> <span class="toctext">Persistent Flags</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-9"><a href="Design.html#Connectivity_Cycles"><span class="tocnumber">2.2</span> <span class="toctext">Connectivity Cycles</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="Design.html#The_Disk_Cycle:_A_circle_of_edges_around_a_vertex"><span class="tocnumber">2.2.1</span> <span class="toctext">The Disk Cycle: A circle of edges around a vertex</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="Design.html#The_Loop_Cycle:_A_circle_of_face_edges_around_a_polygon."><span class="tocnumber">2.2.2</span> <span class="toctext">The Loop Cycle: A circle of face edges around a polygon.</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="Design.html#The_Radial_Cycle:_A_circle_of_faces_around_an_edge"><span class="tocnumber">2.2.3</span> <span class="toctext">The Radial Cycle: A circle of faces around an edge</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="Design.html#Order_of_Elements_in_Cycles"><span class="tocnumber">2.2.4</span> <span class="toctext">Order of Elements in Cycles</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="Design.html#All_of_the_Cycles"><span class="tocnumber">2.2.5</span> <span class="toctext">All of the Cycles</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="Design.html#Mesh_Editing_API"><span class="tocnumber">3</span> <span class="toctext">Mesh Editing API</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="Design.html#Low-level_API"><span class="tocnumber">3.1</span> <span class="toctext">Low-level API</span></a>
<ul>
<li class="toclevel-3 tocsection-17"><a href="Design.html#Mesh_Structure_API"><span class="tocnumber">3.1.1</span> <span class="toctext">Mesh Structure API</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="Design.html#Euler_Operators"><span class="tocnumber">3.1.2</span> <span class="toctext">Euler Operators</span></a>
<ul>
<li class="toclevel-4 tocsection-19"><a href="Design.html#Euler_Function_Reference"><span class="tocnumber">3.1.2.1</span> <span class="toctext">Euler Function Reference</span></a></li>
<li class="toclevel-4 tocsection-20"><a href="Design.html#Example:_Splitting_a_Face"><span class="tocnumber">3.1.2.2</span> <span class="toctext">Example: Splitting a Face</span></a></li>
<li class="toclevel-4 tocsection-21"><a href="Design.html#Important_Note_about_Edges_and_Faces"><span class="tocnumber">3.1.2.3</span> <span class="toctext">Important Note about Edges and Faces</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="Design.html#Mid-Level_Mesh_Editing_API"><span class="tocnumber">3.2</span> <span class="toctext">Mid-Level Mesh Editing API</span></a>
<ul>
<li class="toclevel-3 tocsection-23"><a href="Design.html#BMesh_Operators"><span class="tocnumber">3.2.1</span> <span class="toctext">BMesh Operators</span></a>
<ul>
<li class="toclevel-4 tocsection-24"><a href="Design.html#Operator_Restrictions"><span class="tocnumber">3.2.1.1</span> <span class="toctext">Operator Restrictions</span></a></li>
<li class="toclevel-4 tocsection-25"><a href="Design.html#Private_Flag_Layers"><span class="tocnumber">3.2.1.2</span> <span class="toctext">Private Flag Layers</span></a></li>
<li class="toclevel-4 tocsection-26"><a href="Design.html#Slots"><span class="tocnumber">3.2.1.3</span> <span class="toctext">Slots</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-27"><a href="Design.html#Top-Level_Mesh_Editing_API"><span class="tocnumber">3.3</span> <span class="toctext">Top-Level Mesh Editing API</span></a>
<ul>
<li class="toclevel-3 tocsection-28"><a href="Design.html#Mesh_Editing_Tools"><span class="tocnumber">3.3.1</span> <span class="toctext">Mesh Editing Tools</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="Design.html#Future_Work"><span class="tocnumber">4</span> <span class="toctext">Future Work</span></a>
<ul>
<li class="toclevel-2 tocsection-30"><a href="Design.html#Holes_in_Faces"><span class="tocnumber">4.1</span> <span class="toctext">Holes in Faces</span></a></li>
<li class="toclevel-2 tocsection-31"><a href="Design.html#References"><span class="tocnumber">4.2</span> <span class="toctext">References</span></a></li>
</ul>
</li>
</ul>
</div>				</div>
				
								<div class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
					<div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading">Source/Modeling/BMesh/Design</h1>
					<div class="mw-body-content">
						<div id="contentSub"><p><span class="subpages">&lt; <a href="../../../Source.html" title="Source">Source</a></span></p><p></p></div><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">

<h1><span class="mw-headline" id="Introduction">Introduction</span></h1>
<p>BMesh is a non-manifold boundary representation. It was designed to replace the current, limited EditMesh structure, solving many of the design limitations and maintainance issues of EditMesh. It is comparable to the Radial Edge Structure [1].
</p>
<h1><span class="mw-headline" id="The_BMesh_Structure">The BMesh Structure</span></h1>
<h2><span class="mw-headline" id="Entities">Entities</span></h2>
<p>At the most basic level, BMesh stores topology in four main element structures:
</p>
<ul><li>Faces</li>
<li>Loops (stores per-face-vertex data, uvs, vcols, etc)</li>
<li>Edges</li>
<li>Verts</li></ul>
<h3><span class="mw-headline" id="Vertices">Vertices</span></h3>
<p>Vertices store a coordinate and link to an edge in the <i>disk cycle</i> of the vertex (covered below).
</p>
<h3><span class="mw-headline" id="Edges">Edges</span></h3>
<p>Edges represent a connection between two vertices, but also store a link to a loop in the <i>radial cycle</i> of the edge (covered below).
</p>
<h3><span class="mw-headline" id="Loops">Loops</span></h3>
<p>Loops define the boundary loop of a face. Each loop logically corresponds to an edge, though the loop is local to a single face so there will usually be more than one loop per edge (except at boundary edges of the surface).
</p><p>Loops store several handy pointers:
</p>
<ul><li>e - pointer to the loop's edge</li>
<li>v - pointer to the vertex at the start of the edge (where "start" is defined by CCW order)</li>
<li>f - pointer to the face associated with this loop.</li></ul>
<p>Loops store per-face-vertex data (amongst other things outlined later in this document).
</p>
<h3><span class="mw-headline" id="Faces">Faces</span></h3>
<p>Faces link to a loop in the loop cycle, the circular linked list of loops defining the boundary of the face.
</p>
<h3><span class="mw-headline" id="Persistent_Flags">Persistent Flags</span></h3>
<p>Each element (vertex/edge/loop/face) in a mesh has an associated persistent bitfield, these flags store information such as the visibility of the entity, or its selection state.
</p>
<h2><span class="mw-headline" id="Connectivity_Cycles">Connectivity Cycles</span></h2>
<p>BMesh structure has the following features:
</p>
<ul><li>Persistent adjacency information</li>
<li>Locally modifiable topology</li>
<li>Faces of arbitrary length (N-Gons)</li>
<li>Trivially represents any non-manifold condition including wire edges.</li></ul>
<p>The second through fourth features all depend upon the first, and as such the system which provides this facility is the foundation of the bmesh data structure. Persistent adjacency information is stored using a system of double linked circular lists which maintain the relationships among topological entities. These lists are conceptually the same as those found in other boundary representations such as half-edge, radial edge and partial entity and like these other representations  each topological entity is itself a node in the cycles to which it belongs so the memory requirements for storing adjacency information remains minimal.
</p><p>The connections between the elements are defined by loops around topological entities, referred to as <i><b>cycles</b></i>. The <i><b>base</b></i> of each cycle is the entity which the cycle is designed to answer adjacency queries for. For instance a cycle designed to answer the question, what edges share this vertex would have the vertex itself as the base and its edges as the nodes of the cycle. Note that it is not required to explicitly store all possible adjacency relationships and full connectivity information can be quickly derived from using two or more cycles in conjunction.
</p><p>The three cycles stored explicitly within the bmesh structure are the Disk Cycle, the Radial Cycle and the Loop Cycle. Outlined below are the properties of each cycle and a list of functions for dealing with them. It is important to note that functions marked with an asterisk (*) are not part of the Mesh Tools API and only used by the modelling kernel. Furthermore when structure definitions are listed they have had certain members omitted for the sake of clarity.
</p>
<h3><span class="mw-headline" id="The_Disk_Cycle:_A_circle_of_edges_around_a_vertex">The Disk Cycle: A circle of edges around a vertex</span></h3>
<p><i><b>BASE:</b></i> <i>BM_EDGE_DISK_LINK_GET(BMEdge *, BMVert *)</i>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="../../../File:Bmesh-diskcycle.png.html" class="image"><img alt="" src="../../../../w/images/thumb/0/0f/Bmesh-diskcycle.png/300px-Bmesh-diskcycle.png" width="300" height="303" class="thumbimage" srcset="../../../../w/images/thumb/0/0f/Bmesh-diskcycle.png/450px-Bmesh-diskcycle.png 1.5x, ../../../../w/images/thumb/0/0f/Bmesh-diskcycle.png/600px-Bmesh-diskcycle.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh-diskcycle.png.html" class="internal" title="Enlarge"></a></div>The Disk Cycle</div></div></div>
<p>This cycle is the most complicated in terms of its structure. Each <i>BMEdge</i> contains two <i>BMDiskLink</i>
structures for keeping track of that edges membership in the disk cycle of each of its vertices (<i>v1_disk_link</i> for vertex <i>v1</i>, and <i>v2_disk_link2</i> for vertex <i>v2</i>). However for any given vertex it may be represented by the <i>v1</i> pointer in some edges in its disk cycle and the <i>v2</i> pointer for others. The <i>bmesh_disk_</i> family of functions contains some nice utilities for navigating disk cycles and hides this detail from mesh tool authors. Note that unlike half edge, the  disk cycle is completely independent from face data. One advantage of this is that wire edges are fully integrated into the topology database. Another is that the disk cycle has no problems dealing with non-manifold conditions involving faces.
</p><p><i>Functions relating to this cycle:</i>
</p>
<ul><li><i>bmesh_disk_edge_append</i></li>
<li><i>bmesh_disk_edge_remove</i></li>
<li><i>bmesh_disk_edge_next</i></li></ul>
<p><br />
</p>
<h3><span class="mw-headline" id="The_Loop_Cycle:_A_circle_of_face_edges_around_a_polygon.">The Loop Cycle: A circle of face edges around a polygon.</span></h3>
<p><i><b>BASE:</b></i> <i>BM_FACE_FIRST_LOOP(BMFace *)</i>
</p><p>To understand the loop cycle one must understand the way that polygons are stored in the bmesh modeler. Every face is represented by the following two structures:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span><span class="k">typedef</span> <span class="k">struct</span> <span class="n">BMFace</span> <span class="p">{</span>
    <span class="n">BMHeader</span> <span class="n">head</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">BMFlagLayer</span> <span class="o">*</span><span class="n">oflags</span><span class="p">;</span> <span class="cm">/* an array of flags, mostly used by the operator stack */</span>

    <span class="kt">int</span> <span class="n">len</span><span class="p">;</span> <span class="cm">/*includes all boundary loops*/</span>

    <span class="n">BMLoop</span> <span class="o">*</span><span class="n">l_first</span><span class="p">;</span>

    <span class="kt">float</span> <span class="n">no</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
    <span class="kt">short</span> <span class="n">mat_nr</span><span class="p">;</span>
<span class="p">}</span> <span class="n">BMFace</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="n">BMLoop</span> <span class="p">{</span>
    <span class="n">BMHeader</span> <span class="n">head</span><span class="p">;</span>
    <span class="cm">/* notice no flags layer */</span>

    <span class="k">struct</span> <span class="n">BMVert</span> <span class="o">*</span><span class="n">v</span><span class="p">;</span>
    <span class="k">struct</span> <span class="n">BMEdge</span> <span class="o">*</span><span class="n">e</span><span class="p">;</span> <span class="cm">/* edge, using verts (v, next-&gt;v) */</span>
    <span class="k">struct</span> <span class="n">BMFace</span> <span class="o">*</span><span class="n">f</span><span class="p">;</span>
    <span class="cm">/* --- snip --- */</span>
<span class="p">}</span> <span class="n">BMLoop</span><span class="p">;</span>
</pre></div>
<div class="thumb tleft"><div class="thumbinner" style="width:302px;"><a href="../../../File:Bmesh-facestructure.png.html" class="image"><img alt="" src="../../../../w/images/thumb/9/99/Bmesh-facestructure.png/300px-Bmesh-facestructure.png" width="300" height="321" class="thumbimage" srcset="../../../../w/images/thumb/9/99/Bmesh-facestructure.png/450px-Bmesh-facestructure.png 1.5x, ../../../../w/images/thumb/9/99/Bmesh-facestructure.png/600px-Bmesh-facestructure.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh-facestructure.png.html" class="internal" title="Enlarge"></a></div>The Bmesh face structure</div></div></div>
<p>The <i>BMFace</i> structure is part of a <i>ListBase</i> stored in the <i>BMesh</i> structure. It does not store the vertices or edges associated with it explicitly. Instead it simply stores a pointer to the first <i>BMLoop</i> in the faces loop cycle. The following diagram shows the arrangement of <i>BMLoops</i> in a clockwise winding face.
</p><p>As can be seen from the diagram, the <i>BMLoop</i> structure is similar to the half-edge, in that it is directed according to face winding and only stores references to one vertex. Since each loop is also associated with an <i>BMEdge</i>, a property of loops that must hold true is that <i>loop-&gt;v</i> and <i>loop-&gt;next-&gt;v</i> must be both contained within <i>loop-&gt;e</i>.  Regardless of this the vertex pointers of loops are aligned to the face, not edges and the first vertex in a polygon will always be
<i>face-&gt;loopbase-&gt;v</i> while the second one will be <i>face-&gt;loopbase-&gt;next-&gt;v</i> and so on.
</p><p><i>Functions relating to this cycle:</i>
</p>
<ul><li>bmesh_cycle_* family of functions.</li></ul>
<p><br />
</p><p><br />
</p>
<h3><span class="mw-headline" id="The_Radial_Cycle:_A_circle_of_faces_around_an_edge">The Radial Cycle: A circle of faces around an edge</span></h3>
<p><i><b>BASE:</b></i> <i>BMEdge-&gt;loop-&gt;radial</i> structure
</p>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../../File:Bmesh-radialcycle.png.html" class="image"><img alt="" src="../../../../w/images/thumb/6/6d/Bmesh-radialcycle.png/200px-Bmesh-radialcycle.png" width="200" height="270" class="thumbimage" srcset="../../../../w/images/thumb/6/6d/Bmesh-radialcycle.png/300px-Bmesh-radialcycle.png 1.5x, ../../../../w/images/thumb/6/6d/Bmesh-radialcycle.png/400px-Bmesh-radialcycle.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh-radialcycle.png.html" class="internal" title="Enlarge"></a></div>The Bmesh radial cycle</div></div></div>
<p>The radial cycle is similar to the radial cycle in the radial edge data structure. Unlike the radial edge however, the radial cycle in bmesh does not require a large amount of memory to represent non-manifold conditions since bmesh does not keep track of region or shell information.
</p><p>Figure two illustrates the construction of the radial cycle. Although any number of faces, and therefore loops, may be associated with any given edge, each <i>BMEdge</i> stores a pointer to only one of its <i>BMLoops</i>. This <i>BMLoop</i> is considered to be the <i><b>base</b></i> for this <i>BMEdges</i> radial cycle, and by following the <i>next</i> and <i>prev</i> pointers in the radial member of each <i>BMLoop</i> structure we are able to visit every face associated with a particular edge.
</p><p><i>Functions relating to this cycle:</i>
</p>
<ul><li><i>bmesh_radial_append*</i></li>
<li><i>bmesh_radial_loop_remove*</i></li>
<li><i>bmesh_radial_loop_next</i></li>
<li><i>bmesh_radial_face_find</i></li></ul>
<h3><span class="mw-headline" id="Order_of_Elements_in_Cycles">Order of Elements in Cycles</span></h3>
<p>Note that the order of edges in the disk cycles and the order of faces in the radial cycle is undefined. This leads to slightly increased seek time for deriving some adjacency relations. However, the advantage is that no intrinsic properties of the mesh are dependent upon the cycle order and all non-manifold conditions are represented trivially.
</p>
<h3><span class="mw-headline" id="All_of_the_Cycles">All of the Cycles</span></h3>
<p>This picture shows all of the cycles in one picture, summarizing the above sections.
</p><p><a href="../../../File:Dev-BMesh-Structures.png.html" class="image"><img alt="Dev-BMesh-Structures.png" src="../../../../w/images/0/06/Dev-BMesh-Structures.png" width="480" height="470" /></a>
</p>
<h1><span class="mw-headline" id="Mesh_Editing_API">Mesh Editing API</span></h1>
<p>The mesh editing API can be informally broken up into three layers:
</p>
<ul><li>The low-level API for traversing BMesh cycles and making primitive local edits</li>
<li>The mid-level API builds on this, to provide iterators, walkers, and higher-level mesh editing functions</li>
<li>The top-level API builds on these layers, and consists of operators and editing tools</li></ul>
<h2><span class="mw-headline" id="Low-level_API">Low-level API</span></h2>
<h3><span class="mw-headline" id="Mesh_Structure_API">Mesh Structure API</span></h3>
<p>At the lowest level, BMesh provides an API for traversing the disk, loop, and radial cycles, and also a set of Euler operators for making local changes to the mesh.
</p>
<h3><span class="mw-headline" id="Euler_Operators">Euler Operators</span></h3>
<p>The functions listed below represent the primitive or atomic operators that mesh tools use to manipulate the topology of the structure.* The purpose of these functions is to provide a trusted set of operators to manipulate the mesh topology and which can also be combined together like building blocks to create more sophisticated tools.
</p><p>In the BMesh system, low level operations use the prefix <i>bmesh_kernel_</i>, each Euler has a logical inverse.
</p>
<ul><li><i>BM_vert_create/kill: Make Vert and Kill Vert</i></li>
<li><i>BM_edge_create/kill: Make Edge and Kill Edge</i></li>
<li><i>BM_face_create/kill: Make Face and Kill Face</i></li>
<li><i>bmesh_kernel_split_edge_make_vert/join_edge_kill_vert</i></li>
<li><i>bmesh_kernel_split_face_make_edge/join_face_kill_edge: Split Face, Make Edge and Join Face, Kill Edge</i></li>
<li><i>bmesh_loop_reverse: Reverse the loop of a BMFace. Its own inverse</i></li></ul>
<p>The goals is that using a combination of only these Euler Operators, any non-manifold modelling operation can be achieved. Furthermore, each operator exploits the persistent adjacency information stored in the BMesh structure to make modifications to only local topology. This means that the running time of each operator is constrained only by the complexity of local detail and not overall mesh density. Finally every operator ensures that the data structure that it produces as output is fully valid and therefore frees the tool author from having to manipulate and validate the mesh directly.
</p>
<h4><span class="mw-headline" id="Euler_Function_Reference">Euler Function Reference</span></h4>
<table>

<tbody><tr>
<td align="left">
<p><i>BMVert *bmesh_split_edge_make_vert(BMesh *bm, BMVert *tv, BMEdge *e, BMEdge **r_e)</i>
</p>
<hr />
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../../File:Bmesh_semv.png.html" class="image"><img alt="" src="../../../../w/images/thumb/8/8f/Bmesh_semv.png/200px-Bmesh_semv.png" width="200" height="108" class="thumbimage" srcset="../../../../w/images/thumb/8/8f/Bmesh_semv.png/300px-Bmesh_semv.png 1.5x, ../../../../w/images/8/8f/Bmesh_semv.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh_semv.png.html" class="internal" title="Enlarge"></a></div>Split Edge Make Vert</div></div></div>
<p>SPLIT EDGE MAKE VERT:
</p><p>Takes a given edge and splits it into two, creating a new vert. The original edge, OE, is relinked to be between V1 and NV. OE is then moved from V2's disk cycle to NV's. The new edge, NE, is linked to be between NV and V2 and added to both vertices disk cycles. Finally the radial cycle of OE is traversed, splitting faceloop it encounters.
</p><p><i>Returns - Pointer to a new BMVert</i>
</p>
</td></tr>
<tr>
<td align="left">
<p><i>BMEdge *bmesh_kernel_join_edge_kill_vert(BMesh *bm, BMEdge *e_kill, BMVert *v_kill, const bool do_del, const bool check_edge_double, const bool kill_degenerate_faces)</i>
</p>
<hr />
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../../File:Bmesh_jekv.png.html" class="image"><img alt="" src="../../../../w/images/thumb/1/14/Bmesh_jekv.png/200px-Bmesh_jekv.png" width="200" height="103" class="thumbimage" srcset="../../../../w/images/thumb/1/14/Bmesh_jekv.png/300px-Bmesh_jekv.png 1.5x, ../../../../w/images/1/14/Bmesh_jekv.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh_jekv.png.html" class="internal" title="Enlarge"></a></div>Join Edge Kill Vert</div></div></div>
<p>JOIN EDGE KILL VERT:
</p><p>Takes a pointer to an edge (ke) and pointer to one of its vertices (kv) and collapses the edge on that vertex. First ke is removed from the disk cycle of both kv and tv. Then the edge oe is relinked to run between ov and tv and is added to the disk cycle of ov. Finally the radial cycle of oe is traversed and all of its face loops are updated. Note that in order for this euler to work, kv must have exactly only two edges coincident upon it (valance of 2). A more generalized edge collapse function can be built using a combination of <i>bmesh_kernel_split_face_make_edge, </i>bmesh_kernel_join_face_kill_edge and <i>bmesh_kernel_join_edge_kill_vert</i>.
</p><p><i>Returns - 1 for success, 0 for failure</i>
</p>
</td></tr>
<tr>
<td align="left">
<p><i>BMFace *bmesh_kernel_split_face_make_edge(BMesh *bm, BMFace *f, BMLoop *l_v1, BMLoop *l_v2, BMLoop **r_l, BMEdge *e_example, const bool no_double)</i>
</p>
<hr />
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../../File:Bmesh_sfme.png.html" class="image"><img alt="" src="../../../../w/images/thumb/a/aa/Bmesh_sfme.png/200px-Bmesh_sfme.png" width="200" height="103" class="thumbimage" srcset="../../../../w/images/thumb/a/aa/Bmesh_sfme.png/300px-Bmesh_sfme.png 1.5x, ../../../../w/images/a/aa/Bmesh_sfme.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh_sfme.png.html" class="internal" title="Enlarge"></a></div>Split Face Make Edge</div></div></div>
<p>SPLIT FACE MAKE EDGE:
</p><p>Takes as input two vertices in a single face. An edge is created which divides the original face into two distinct regions. One of the regions is assigned to the original face and it is closed off.
The second region has a new face assigned to it.  Note that if the input vertices share an edge this will create a face with only two edges.
</p><p><i>Returns - Pointer to a new BMFace</i>
</p>
</td></tr>
<tr>
<td align="left">
<p><i>BMFace *bmesh_kernel_join_face_kill_edge(BMesh *bm, BMFace *f1, BMFace *f2, BMEdge *e)</i>
</p>
<hr />
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="../../../File:Bmesh_jfke.png.html" class="image"><img alt="" src="../../../../w/images/thumb/a/a6/Bmesh_jfke.png/200px-Bmesh_jfke.png" width="200" height="199" class="thumbimage" srcset="../../../../w/images/thumb/a/a6/Bmesh_jfke.png/300px-Bmesh_jfke.png 1.5x, ../../../../w/images/a/a6/Bmesh_jfke.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh_jfke.png.html" class="internal" title="Enlarge"></a></div>Join Face Kill Edge</div></div></div>
<p>JOIN FACE KILL EDGE:
</p><p>Takes two faces joined by a single 2-manifold edge and fuses them together. The edge shared by the faces must not be connected to any other edges which have Both faces in its radial cycle.
</p><p>An illustration of this appears in the figure on the right. In this diagram, situation A is the only one in which join_face_kill_edge will return with a value indicating success. If the tool author wants to join two seperate faces which have multiple edges joining them as in  situation B they should run JEKV on the excess edge(s) first. In the case of situation none of the edges joining the two faces can be safely removed because it would cause a face that loops back on itself.
</p><p>Also note that the order of arguments decides whether or not certain per-face attributes are present in the resultant face. For instance vertex winding, material index, smooth flags, ect are inherited from f1, not f2.
</p><p><i>Returns - 1 for success, 0 for failure</i>
</p>
</td></tr></tbody></table>
<h4><span class="mw-headline" id="Example:_Splitting_a_Face">Example: Splitting a Face</span></h4>
<div class="thumb tnone"><div class="thumbinner" style="width:602px;"><a href="../../../File:Bmesh-facesplit.png.html" class="image"><img alt="" src="../../../../w/images/thumb/d/d8/Bmesh-facesplit.png/600px-Bmesh-facesplit.png" width="600" height="210" class="thumbimage" srcset="../../../../w/images/d/d8/Bmesh-facesplit.png 1.5x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="../../../File:Bmesh-facesplit.png.html" class="internal" title="Enlarge"></a></div>Splitting a face using Eulers</div></div></div>
<p>In the figure above we are shown how euler operators can be combined together simply to create more sophisticated effects. We start with a 4 sided quadrilateral labelled F1. By running the Euler split_edge_make_vert first on edges E1 then E2 we turn F1 into a polygon with six sides. Finally we run split_face_make_edge to connect the two new vertices and split the face down the middle. Here is the source code for accomplishing this:
</p>
<div class="mw-highlight mw-content-ltr" dir="ltr"><pre><span></span>	<span class="n">BMVert</span> <span class="o">*</span><span class="n">v1</span><span class="p">,</span> <span class="o">*</span><span class="n">v2</span><span class="p">;</span>
	<span class="n">BMFace</span> <span class="o">*</span><span class="n">f2</span><span class="p">;</span>

	<span class="n">v1</span> <span class="o">=</span> <span class="n">bmesh_kernel_split_edge_make_vert</span><span class="p">(</span><span class="n">e1</span><span class="p">);</span>
	<span class="n">v2</span> <span class="o">=</span> <span class="n">bmesh_kernel_split_edge_make_vert</span><span class="p">(</span><span class="n">e2</span><span class="p">);</span>
	<span class="n">f2</span> <span class="o">=</span> <span class="n">bmesh_kernel_split_face_make_edge</span><span class="p">(</span><span class="n">f1</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">);</span>
</pre></div>
<p>The remarkable thing about this is that with just three lines of code the tools writer can now accomplish what would have taken dozens if not a hundred or more lines to accomplish using the old EditMesh system.  Furthermore the tool writer is not modifying the mesh directly and the complexity of maintaining a consistent data structure is cleanly handled by the Eulers internal code.
</p>
<h4><span class="mw-headline" id="Important_Note_about_Edges_and_Faces">Important Note about Edges and Faces</span></h4>
<p>Tool authors should be made aware that the Bmesh data structures can behave in unexpected ways with regards to edges and faces. For instance, a face with only two edges is perfectly valid. From this it logically follows that between any two vertices an arbitrary number of edges can exist.
</p><p>While these unique properties can be exploited to create advanced modelling functions, tool authors should be very careful to clean up both faces with 2 edges and vertex pairs with multiple edges by the time their tool finishes execution. Although failure to do this won't be harmful at all to the stability of the modelling system, it is not considered a good thing to leave the structure in a state that is not intuitively understandable by the average end user.
</p><p>&lt;NOTE: I am considering removing 2 edged faces from the modelling system altogether&gt;
</p>
<h2><span class="mw-headline" id="Mid-Level_Mesh_Editing_API">Mid-Level Mesh Editing API</span></h2>
<h3><span class="mw-headline" id="BMesh_Operators">BMesh Operators</span></h3>
<p>BMesh Operators ("bmops") are an integral part of BMesh. They build on the foundations of the low-level API, usually performing certain fundamental kinds of mesh edits on areas of the mesh specified by input parameters (though a few operators just return outputs without affecting the mesh), thus providing building blocks for the editing tools.
</p><p>Examples of mesh operators include (see bmesh_opdefines.cc for a full listing):
</p>
<ul><li>mirror</li>
<li>bevel</li>
<li>similarfaces</li></ul>
<p>Most editing tools will compose one or more operators to get a job done. Unlike normal blender operators, BMesh operators can be nested (i.e. call other operators), so an operator will also often compose one or more other operators to get a job done.
</p>
<h4><span class="mw-headline" id="Operator_Restrictions">Operator Restrictions</span></h4>
<p>Operators are used for editing the mesh, but should <i>never</i> touch header flags (visibility, selection, etc). This privelege is afforded only to the high-level mesh editing tools.
</p>
<h4><span class="mw-headline" id="Private_Flag_Layers">Private Flag Layers</span></h4>
<p>The BMesh API provides a set of flags for faces, edges and vertices, which are private to an operator. These flags may be used by the client operator code as needed (a common example is flagging elements for use in another operator).  Each call to an operator allocates a new flag layer and pushes it on to the layer stack, and when the operator finishes, its flag layer is then popped off the stack. This avoids flag conflicts between operators executed sequentially and nested operator executions as well.
</p>
<h4><span class="mw-headline" id="Slots">Slots</span></h4>
<p>Operators receive input and return output through the use of "operators slots". These slots are essentially named, typed parameters. Slots also make parameters optional: simply don't fill a slot if you don't have a meaningful value for it (though the operator may fail if a slot that should contain necessary input is left empty).
</p><p>The following slot types are available:
</p>
<ul><li>Integer</li>
<li>Float</li>
<li>Pointer - do not store arrays corresponding to elements with this</li>
<li>Element Buffer - a list of verts/edges/faces</li>
<li>Map - simple hash map</li></ul>
<p>The slot API allows for easy copying from one operator's output to another operator's input, allowing for chaining the flow of data during the execution of sequential or nested operators.
</p>
<h2><span class="mw-headline" id="Top-Level_Mesh_Editing_API">Top-Level Mesh Editing API</span></h2>
<h3><span class="mw-headline" id="Mesh_Editing_Tools">Mesh Editing Tools</span></h3>
<p>Tools connect the mesh editor with the Blender interface, and can be directly run by users or called by scripts. Examples include extrude, loopcut, edgering select, etc.
</p><p>Tools are the only part of the API that can touch the header flags, allowing tools to affect selection, seams or other user-visible properties of the mesh.
</p>
<h1><span class="mw-headline" id="Future_Work">Future Work</span></h1>
<h2><span class="mw-headline" id="Holes_in_Faces">Holes in Faces</span></h2>
<p>As part of the original design, BMesh would be capable of handling multiple boundaries for a single face, which would allow for holes in faces. This has become a non-goal of the first BMesh feature merge, as we have chosen instead to stabilize the existing BMesh feature set to prepare for the first BMesh merge.
</p>
<h2><span class="mw-headline" id="References">References</span></h2>
<p>1. Weiler, K.J.&#160;: <i>The Radial Edge Structure: A Topological Representation for Non-Manifold Geometric Modeling.</i> in Geometric Modeling for CAD Applications, Springer Verlag, May 1986.
</p>
<!-- 
NewPP limit report
Cached time: 20240111203234
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.084 seconds
Real time usage: 0.086 seconds
Preprocessor visited node count: 143/1000000
Preprocessor generated node count: 186/1000000
Postexpand include size: 29/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip postexpand size: 3045/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.939      1 Template:Css/prettytable
100.00%    0.939      1 -total
-->
</div>
<!-- Saved in parser cache with key mw_wiki-mediawiki_:pcache:idhash:4857-0!canonical and timestamp 20240111203234 and revision id 36268
 -->
</div><div class="clearfix"></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;oldid=36268">https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;oldid=36268</a>"</div>					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="footer pt-4">

			<!-- Footer Links -->
			<div class="container-fluid text-md-left">

				<!-- Grid row -->
				<div class="row">
					<div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">info</h5><p id="footer-info-lastmod"> This page was last edited on 7 August 2023, at 22:56.</p><p id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</p></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">places</h5><ul id="footer-places" role="contentinfo"><li id="footer-places-privacy"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:Privacy_policy" title="Blender Developer Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:About" title="Blender Developer Wiki:About">About Blender Developer Wiki</a></li><li id="footer-places-disclaimer"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:General_disclaimer" title="Blender Developer Wiki:General disclaimer">Disclaimers</a></li></ul></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">Utilities</h5><ul id="p-tb"><li id="t-whatlinkshere"><a href="../../../Special:WhatLinksHere/Source/Modeling/BMesh/Design.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.blender.org/wiki/Special:RecentChangesLinked/Source/Modeling/BMesh/Design" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages"><a href="../../../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;oldid=36268" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.blender.org/w/index.php?title=Source/Modeling/BMesh/Design&amp;action=info" title="More information about this page">Page information</a></li></ul></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">Navigation</h5><ul id="p-navigation"><li id="n-mainpage-description"><a href="../../../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../../../Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../../../Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li></ul></div>
				</div>
				<!-- Grid row -->

				<!-- Grid row -->
				<div class="row pt-4 pb-4">
					<div class="col">
						<!-- Copyright -->
						<div class="text-center">Creative freedom starts with Blender  The Free and Open Source 3D Creation Suite
						</div>
						<!-- Copyright -->
					</div>
				</div>
				<!-- Grid row -->

			</div>
			<!-- Footer Links -->
		</footer>
		<!-- Footer -->


		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.084","walltime":"0.086","ppvisitednodes":{"value":143,"limit":1000000},"ppgeneratednodes":{"value":186,"limit":1000000},"postexpandincludesize":{"value":29,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":3045,"limit":5000000},"timingprofile":["100.00%    0.939      1 Template:Css/prettytable","100.00%    0.939      1 -total"]},"cachereport":{"timestamp":"20240111203234","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":44});});</script>		<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v84a3a4012de94ce1a686ba8c167c359c1696973893317" integrity="sha512-euoFGowhlaLqXsPWQ48qSkBSCFs3DPRyiwVu3FjR96cMPx+Fr+gpWRhIafcHwqwCqWS42RZhIudOvEI+Ckf6MA==" data-cf-beacon='{"rayId":"84453c8fac3bb78e","b":1,"version":"2023.10.0","token":"d5f49e4e21684977a6be2ac49670f7b1"}' crossorigin="anonymous"></script>
</body>
		</html>

		