<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>User:Yiming/LANPR GP New Solutions - Blender Developer Wiki</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"User","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":2,"wgPageName":"User:Yiming/LANPR_GP_New_Solutions","wgTitle":"Yiming/LANPR GP New Solutions","wgCurRevisionId":19104,"wgRevisionId":19104,"wgArticleId":5112,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"User:Yiming/LANPR_GP_New_Solutions","wgRelevantArticleId":5112,"wgRequestId":"87e0203a31dc09a9261c2f66","wgIsProbablyEditable":false,"wgRelevantPageIsProbablyEditable":false,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgRelevantUserName":"Yiming","wgWikiEditorEnabledModules":[]});mw.loader.state({"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","site":"ready","user.options":"ready","user.tokens":"loading","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","skins.bootstrap":"ready"});mw.loader.implement("user.tokens@1lo3932",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});mw.loader.load(["mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.toc","mediawiki.searchSuggest","skins.bootstrap.js"]);});</script>
<link rel="stylesheet" href="../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint,shared|mediawiki.sectionAnchor|skins.bootstrap&amp;only=styles&amp;skin=bootstrap.css"/>
<script async="" src="../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=bootstrap"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="../../w/load.php%3Fdebug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=bootstrap.css"/>
<meta name="generator" content="MediaWiki 1.31.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
<link rel="shortcut icon" href="../../favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="https://wiki.blender.org/w/opensearch_desc.php" title="Blender Developer Wiki (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="https://wiki.blender.org/w/api.php?action=rsd"/>
<link rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"/>
<link rel="alternate" type="application/atom+xml" title="Blender Developer Wiki Atom feed" href="https://wiki.blender.org/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<script defer data-domain="wiki.blender.org" src="https://analytics.blender.org/js/script.js"></script>
<!--[if lt IE 9]><script src="/w/load.php?debug=false&amp;lang=en&amp;modules=html5shiv&amp;only=scripts&amp;skin=bootstrap&amp;sync=1"></script><![endif]-->
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-2 ns-subject page-User_Yiming_LANPR_GP_New_Solutions rootpage-User_Yiming skin-bootstrap action-view"><style>
   @font-face {
      font-family: "Heebo";
      src: url("https://www.blender.org/wp-content/themes/bthree/assets_shared/font/Heebo/Heebo-VariableFont_wght.ttf") format("truetype-variations");
      font-weight: normal;
      font-variation-settings: "wght" var(--font-weight);
      font-style: normal
    }
</style>

<style>
  /* This style block is copied across all sites using the developer navbar.
   * For custom styling on this website, add a <style> block after this one. */

  /* Variables. */
  .nav-global {
    -webkit-font-smoothing: antialiased;

    --nav-global-color-bg: hsl(213, 10%, 14%);
    --nav-global-color-text: hsl(213, 5%, 64%);
    --nav-global-color-text-secondary: hsl(213, 5%, 44%);
    --nav-global-color-text-highlight: hsl(213, 5%, 84%);
    --nav-global-color-text-hover: white;
    --nav-global-color-text-active: white;

    --nav-global-color-primary: hsl(204, 98%, 54%);
    --nav-global-color-primary-bg: hsla(204, 100%, 46%, .1);

    --nav-global-color-button-bg-hover: hsl(213, 10%, 24%);
    --nav-global-color-button-text: var(--nav-global-color-text);

    --nav-global-color-menu-bg: var(--nav-global-color-bg);
    --nav-global-color-menu-border: hsl(213, 10%, 18%);

    --nav-global-color-menu-zindex: 1040;

    --nav-global-box-shadow-menu: 0px 5px 15px -2px rgba(0, 0, 0, 0.33), 0px 5px 15px -5px rgba(0, 0, 0, 0.33);
    --nav-global-box-shadow-menu-item: 0px 1px 4px 0px rgba(0, 0, 0, 0.05), 0px 15px 20px -1px rgba(0, 0, 0, 0.025);

    --nav-global-navbar-height: var(--navbar-primary-height, 56px);

    --nav-global-spacer: 15px;
    --nav-global-spacer-sm: 10px;
    --nav-global-spacer-xs: 5px;

    --nav-global-border-radius: 6px;
    --nav-global-border-radius-lg: 10px;

    --nav-global-button-height: 35px;
    --nav-global-link-padding-x: var(--nav-global-spacer);
    --nav-global-link-padding-y: var(--nav-global-spacer-sm);

    --nav-global-font-size: 14px;
    --nav-global-transition-speed: 150ms;
  }

  /* Reset. */
  @namespace svg "http://www.w3.org/2000/svg";

  .nav-global :not(svg|*),
  .nav-global *::before,
  .nav-global *::after {
    -webkit-box-sizing: border-box;

    all: unset;
    display: revert;
    box-sizing: border-box;
  }

  .nav-global [default-styles] {
    all: revert;
  }

  .nav-global * {
    -webkit-text-size-adjust: 100%;

    font-family: 'Heebo', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    font-variation-settings: 'wght' 400;
    font-weight: normal;
  }

  .nav-global {
    background-color: var(--nav-global-color-bg);
    color: var(--nav-global-color-text);
    display: flex;
    position: relative;
    z-index: var(--zindex-fixed);
  }

  .nav-global h3,
  .nav-global h4,
  .nav-global strong {
    font-variation-settings: 'wght' 500;
  }

  .nav-global figure,
  .nav-global section {
    display: block;
  }

  .nav-global svg:not(:root) {
    overflow: hidden;
    vertical-align: middle;
  }

  .nav-global .nav-global-container {
    flex: 1;
    margin: 0 auto;
  }

  /* Navigation. */
  .nav-global nav {
    align-items: center;
    display: flex;
    line-height: var(--nav-global-font-size);
    font-size: var(--nav-global-font-size);
    height: var(--nav-global-navbar-height);
    margin: 0 auto;
    padding: 0 var(--nav-global-spacer);
    position: relative;
  }

  /* Links. */
  .nav-global a:not(.dropdown-item) {
    color: inherit;
    cursor: pointer;
    text-decoration: none;
    transition: background-color var(--nav-global-transition-speed) ease-out, color var(--nav-global-transition-speed) ease-out;
  }

  .nav-global a:not(.dropdown-item):hover {
    color: var(--nav-global-color-text-hover);
  }

  /* Navigation items. */
  .nav-global nav > ul {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  .nav-global nav > ul,
  .nav-global nav > ul > li,
  .nav-global nav > ul > li > a,
  .nav-global-apps-dropdown-container {
    align-items: center;
    display: inline-flex;
    height: 100%;
  }

  .nav-global-apps-dropdown-container {
    position: relative;
  }

  .nav-global nav > ul > li > a {
    padding: var(--nav-global-link-padding-y) var(--nav-global-link-padding-x);
  }

  .nav-global nav > a.is-active,
  .nav-global nav > a.is-active svg,
  .nav-global nav > ul > li > a.is-active,
  .nav-global .nav-global-link-active,
  .nav-global .nav-global-link-active svg {
    color: var(--nav-global-color-text-active) !important;
    fill: var(--nav-global-color-text-active);
    font-variation-settings: 'wght' 500;
  }

  .nav-global .nav-global-links-right {
    margin-left: auto;
  }

  /* Logo. */
  .nav-global a.nav-global-logo {
    margin-right: var(--nav-global-spacer);
    position: relative;
    top: 2px;
  }

  .nav-global a.nav-global-logo strong {
    margin-inline: var(--nav-global-spacer-sm);
    font-size: 18px;
  }

  .nav-global .nav-global-logo svg {
    height: 21px;
  }

  .nav-global a.nav-global-logo svg {
    position: relative;
    top: -4px;
  }

  .nav-global svg {
    fill: var(--nav-global-color-text);
    transition: fill var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-logo:hover svg {
    fill: white;
  }

  /* Apps button. */
  .nav-global button,
  .nav-global .nav-global-btn {
    -webkit-appearance: button;

    align-items: center;
    background-color: transparent;
    border-radius: var(--nav-global-border-radius);
    border: 0;
    color: var(--nav-global-color-button-text);
    cursor: pointer;
    display: inline-flex;
    font: inherit;
    height: var(--nav-global-button-height);
    margin: 0;
    outline: 0;
    overflow: visible;
    padding: var(--nav-global-spacer-xs) var(--nav-global-spacer);
    text-transform: none;
    transition: background-color var(--nav-global-transition-speed) ease-out, color var(--nav-global-transition-speed) ease-out, transform var(--nav-global-transition-speed) ease-out;
    white-space: nowrap;
  }

  .nav-global button span,
  .nav-global .nav-global-btn span {
    white-space: nowrap;
  }

  .nav-global button:hover,
  .nav-global .nav-global-btn:hover {
    background-color: var(--nav-global-color-button-bg-hover);
    color: var(--nav-global-color-text-hover);
    cursor: pointer;
  }

  .nav-global button.nav-global-btn-active,
  .nav-global .nav-global-btn.nav-global-btn-active {
    background-color: var(--nav-global-color-primary-bg);
    color: var(--nav-global-color-primary);
  }

  .nav-global button.nav-global-btn-active svg,
  .nav-global .nav-global-btn.nav-global-btn-active svg {
    fill: var(--nav-global-color-primary);
  }

  .nav-global .nav-global-icon {
    height: 20px;
    pointer-events: none;
    width: 20px;
  }

  .nav-global-icon-dropdown-toggle {
    margin-left: var(--nav-global-spacer-xs);
  }

  .nav-global button:hover svg,
  .nav-global .nav-global-btn:hover svg {
    fill: white;
  }

  /* Apps dropdown menu. */
  .nav-global .nav-global-apps-menu {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: var(--nav-global-border-radius-lg);
    border: thin solid var(--nav-global-color-menu-border);
    box-shadow: var(--nav-global-box-shadow-menu);
    display: none;
    padding: var(--nav-global-spacer-sm);
    position: absolute;
    right: 0;
    top: calc(100% + 15px);
    visibility: hidden;
    width: 640px;
    z-index: var(--nav-global-color-menu-zindex);
  }

  .nav-global .nav-global-dropdown.is-visible {
    display: block;
    visibility: visible;
  }

  /* Tiny triangle in the corner. */
  .nav-global .nav-global-apps-menu::before {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: 3px;
    border: 2px var(--nav-global-color-menu-bg) solid;
    content: '';
    display: block;
    height: .85rem;
    position: absolute;
    right: .85rem;
    top: -0.25rem;
    transform: rotate(45deg);
    width: 1rem;
    z-index: -1;
  }

  .nav-global .nav-global-apps-menu ul {
    border-bottom: 2px solid rgba(255, 255, 255, .05);
    display: grid;
    gap: var(--nav-global-spacer-sm);
    grid-template-columns: repeat(2, 1fr);
    list-style: none;
    margin: 0 0 var(--nav-global-spacer-xs) 0;
    padding: var(--nav-global-spacer-xs) 0 var(--nav-global-spacer-sm) 0;
  }

  .nav-global .nav-global-apps-menu ul>li>a {
    border-radius: var(--nav-global-border-radius-lg);
    display: flex;
    flex: 1;
    height: 100%;
  }

  .nav-global .nav-global-apps-menu ul>li>a:hover {
    background-color: rgba(255, 255, 255, .05);
    color: var(--nav-global-color-text-active);
    box-shadow: var(--nav-global-box-shadow-menu-item);
  }

  .nav-global .nav-global-apps-menu ul>li>a:hover h4,
  .nav-global .nav-global-apps-menu ul>li>a:hover svg {
    color: var(--nav-global-color-primary);
    fill: var(--nav-global-color-primary);
  }

  .nav-global .nav-global-apps-menu h3 {
    color: white;
    display: inline-block;
    font-size: 13px;
    line-height: 18px;
    margin: 0;
    opacity: .3;
    padding-left: var(--nav-global-spacer);
  }

  .nav-global .nav-global-apps-menu h4 {
    color: var(--nav-global-color-text-highlight);
    font-size: 17px;
    line-height: 18px;
    margin: var(--nav-global-spacer-xs) 0 0;
    padding: var(--nav-global-spacer-sm) var(--nav-global-spacer) 0;
    transition: color var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-apps-menu p {
    font-size: 15px;
    line-height: 20px;
    margin: 0;
    opacity: .8;
    padding: var(--nav-global-spacer-xs) var(--nav-global-spacer) var(--nav-global-spacer-sm);
  }

  .nav-global .nav-global-apps-menu figure {
    margin: var(--nav-global-spacer) 0 0 var(--nav-global-spacer);
  }

  .nav-global .nav-global-apps-menu ul>li>a svg {
    position: relative;
    top: -2px;
  }

  /* Donate section of the menu. */
  .nav-global .nav-global-apps-menu-section-donate ul {
    border: none;
    margin-bottom: 0;
    padding-bottom: 0;
  }

  .nav-global .nav-global-apps-menu-section-donate a svg {
    fill: hsl(352, 90%, 62%) !important;
    transition: transform var(--nav-global-transition-speed) ease-out;
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a {
    background-color: hsla(352deg, 90%, 42%, .2);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover {
    background-color: hsla(352deg, 90%, 42%, .5);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover svg {
    fill: hsl(352, 90%, 72%) !important;
    transform: scale(1.2);
  }

  .nav-global .nav-global-apps-menu-section-donate ul>li:first-child>a:hover h4 {
    color: white;
  }

/* Mobile. */
.nav-global button.nav-global-logo {
  display: none;
  visibility: hidden;
}

@media (max-width: 767px) {

  .nav-global-apps-dropdown-container,
  .nav-global a.nav-global-logo {
    display: none;
  }

  .nav-global button.nav-global-logo {
    display: block;
    visibility: visible;
  }

  .nav-global .nav-global-nav-links {
    align-items: flex-start;
    background-color: var(--nav-global-color-menu-bg);
    border-radius: var(--nav-global-border-radius-lg);
    display: none;
    flex-direction: column;
    left: 1rem;
    padding: 0 var(--nav-global-spacer-sm);
    position: absolute;
    top: calc(100% + .5rem);
    visibility: visible;
    width: 10rem;
    z-index: var(--nav-global-color-menu-zindex);
  }

  .nav-global .nav-global-nav-links.is-visible {
    display: flex;
  }

  .nav-global .nav-global-nav-links::before {
    background-color: var(--nav-global-color-menu-bg);
    border-radius: 3px;
    border: 2px var(--nav-global-color-menu-bg) solid;
    content: '';
    display: block;
    height: 0.8rem;
    position: absolute;
    left: 1.5rem;
    top: -0.133rem;
    transform: rotate(45deg);
    width: 1rem;
    z-index: -1;
  }

  .nav-global nav>ul {
    height: initial;
  }

  .nav-global .nav-global-nav-links>li {
    border-bottom: 2px solid rgba(255, 255, 255, .05);
    width: 100%;
  }

  .nav-global .nav-global-nav-links>li:last-child {
    border: none;
  }

  .nav-global .nav-global-nav-links>li>a {
    padding-inline: 0;
    width: 100%;
  }
}
</style>

<style>
  /* Custom styling for code.blender.org */
  /* Make sure to start every line with ".nav-global"
   * so changes affect the developer navbar only. */

  /* Limit navbar width on large screens. */
  @media (min-width: 1200px) {
    .nav-global .nav-global-container {
      max-width: 1170px;
    }
  }
</style>

<div class="nav-global">
  <div class="nav-global-container">
    <nav>
      <a href="https://developer.blender.org/" class="nav-global-logo">
        <svg fill-rule="nonzero" viewBox="0 0 200 162.05">
          <path
            d="M61.1 104.56c.05 2.6.88 7.66 2.12 11.61a61.27 61.27 0 0 0 13.24 22.92 68.39 68.39 0 0 0 23.17 16.64 74.46 74.46 0 0 0 30.42 6.32 74.52 74.52 0 0 0 30.4-6.42 68.87 68.87 0 0 0 23.15-16.7 61.79 61.79 0 0 0 13.23-22.97 58.06 58.06 0 0 0 2.07-25.55 59.18 59.18 0 0 0-8.44-23.1 64.45 64.45 0 0 0-15.4-16.98h.02L112.76 2.46l-.16-.12c-4.09-3.14-10.96-3.13-15.46.02-4.55 3.18-5.07 8.44-1.02 11.75l-.02.02 26 21.14-79.23.08h-.1c-6.55.01-12.85 4.3-14.1 9.74-1.27 5.53 3.17 10.11 9.98 10.14v.02l40.15-.07-71.66 55-.27.2c-6.76 5.18-8.94 13.78-4.69 19.23 4.32 5.54 13.51 5.55 20.34.03l39.1-32s-.56 4.32-.52 6.91zm100.49 14.47c-8.06 8.2-19.34 12.86-31.54 12.89-12.23.02-23.5-4.6-31.57-12.79-3.93-4-6.83-8.59-8.61-13.48a35.57 35.57 0 0 1 2.34-29.25 39.1 39.1 0 0 1 9.58-11.4 44.68 44.68 0 0 1 28.24-9.85 44.59 44.59 0 0 1 28.24 9.77 38.94 38.94 0 0 1 9.58 11.36 35.58 35.58 0 0 1 4.33 14.18 35.1 35.1 0 0 1-1.98 15.05 37.7 37.7 0 0 1-8.61 13.52zm-57.6-27.91a23.55 23.55 0 0 1 8.55-16.68 28.45 28.45 0 0 1 18.39-6.57 28.5 28.5 0 0 1 18.38 6.57 23.57 23.57 0 0 1 8.55 16.67c.37 6.83-2.37 13.19-7.2 17.9a28.18 28.18 0 0 1-19.73 7.79c-7.83 0-14.84-3-19.75-7.8a23.13 23.13 0 0 1-7.19-17.88z" />
          <strong>Developer</strong>
        </svg>
      </a>

      <button class="nav-global-logo js-dropdown-toggle" data-toggle-menu-id="nav-global-nav-links">
        <svg fill-rule="nonzero" viewBox="0 0 850.2 162.05">
          <path d="M61.1 104.56c.05 2.6.88 7.66 2.12 11.61a61.27 61.27 0 0 0 13.24 22.92 68.39 68.39 0 0 0 23.17 16.64 74.46 74.46 0 0 0 30.42 6.32 74.52 74.52 0 0 0 30.4-6.42 68.87 68.87 0 0 0 23.15-16.7 61.79 61.79 0 0 0 13.23-22.97 58.06 58.06 0 0 0 2.07-25.55 59.18 59.18 0 0 0-8.44-23.1 64.45 64.45 0 0 0-15.4-16.98h.02L112.76 2.46l-.16-.12c-4.09-3.14-10.96-3.13-15.46.02-4.55 3.18-5.07 8.44-1.02 11.75l-.02.02 26 21.14-79.23.08h-.1c-6.55.01-12.85 4.3-14.1 9.74-1.27 5.53 3.17 10.11 9.98 10.14v.02l40.15-.07-71.66 55-.27.2c-6.76 5.18-8.94 13.78-4.69 19.23 4.32 5.54 13.51 5.55 20.34.03l39.1-32s-.56 4.32-.52 6.91zm100.49 14.47c-8.06 8.2-19.34 12.86-31.54 12.89-12.23.02-23.5-4.6-31.57-12.79-3.93-4-6.83-8.59-8.61-13.48a35.57 35.57 0 0 1 2.34-29.25 39.1 39.1 0 0 1 9.58-11.4 44.68 44.68 0 0 1 28.24-9.85 44.59 44.59 0 0 1 28.24 9.77 38.94 38.94 0 0 1 9.58 11.36 35.58 35.58 0 0 1 4.33 14.18 35.1 35.1 0 0 1-1.98 15.05 37.7 37.7 0 0 1-8.61 13.52zm-57.6-27.91a23.55 23.55 0 0 1 8.55-16.68 28.45 28.45 0 0 1 18.39-6.57 28.5 28.5 0 0 1 18.38 6.57 23.57 23.57 0 0 1 8.55 16.67c.37 6.83-2.37 13.19-7.2 17.9a28.18 28.18 0 0 1-19.73 7.79c-7.83 0-14.84-3-19.75-7.8a23.13 23.13 0 0 1-7.19-17.88z" />
          <path d="M829.17 133.76h-15.9V64.39h15.13l.77 13.59zM850.07 79q-1.47-.25-3.14-.38-1.6-.13-3.2-.13-5.26 0-8.8 1.92-3.45 1.86-5.25 5.39-1.8 3.46-2.11 8.2l-3.66.07q0-8.78 2.31-15.77 2.3-6.99 6.92-11.1 4.62-4.1 11.54-4.1 1.35 0 3.02.26 1.66.26 2.5.58zm-76.55 56.04q-10.32 0-17.82-4.42-7.5-4.5-11.55-12.06-4.03-7.63-4.03-17.05v-2.63q0-10.84 4.1-18.85 4.1-8.08 11.22-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.6 4.3 9.88 12 3.27 7.62 3.27 17.69V104h-53.67V92.53h37.96v-1.22q-.13-4.04-1.54-7.56-1.4-3.53-4.49-5.7-3.01-2.19-8.07-2.19-5.07 0-8.53 2.89-3.46 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.19 10.58 2.18 4.68 6.34 7.43 4.17 2.7 9.94 2.7 5.58 0 9.87-2.18 4.36-2.18 7.5-6.29l8.34 8.34q-3.27 4.93-9.87 8.97-6.54 3.98-16.8 3.98zm-88.67 25.39h-15.9V64.39h14.68l1.22 13.33zm45-60.72q0 10.13-3.13 18.15-3.08 7.95-9.1 12.56-5.97 4.62-14.63 4.62-8.72 0-14.49-4.23-5.7-4.3-8.9-11.8-3.21-7.5-4.43-17.12v-4.55q1.22-10.26 4.42-17.89 3.2-7.7 8.91-11.99 5.71-4.36 14.3-4.36 8.79 0 14.81 4.43 6.03 4.42 9.1 12.37 3.15 7.95 3.15 18.47zm-15.9-1.34q0-6.22-1.6-11.29-1.53-5.06-5-8.01-3.4-2.95-8.9-2.95-3.98 0-6.87 1.35-2.88 1.28-4.87 3.65-1.92 2.37-3.01 5.64-1.1 3.2-1.54 7.05v11.6q.77 4.62 2.56 8.47 1.8 3.85 5.13 6.16 3.4 2.24 8.72 2.24 5.51 0 8.91-3.08 3.4-3.14 4.94-8.2 1.54-5.13 1.54-11.29zm-122.51.06q0-10.13 3.84-18.08 3.85-7.95 11.03-12.57 7.25-4.68 17.38-4.68 10.25 0 17.5 4.68 7.24 4.62 11.03 12.57 3.84 7.95 3.84 18.08v1.35q0 10.06-3.84 18.08-3.79 7.95-11.03 12.56-7.18 4.62-17.38 4.62-10.19 0-17.43-4.62-7.25-4.61-11.1-12.56-3.84-8.02-3.84-18.08zm15.9 1.35q0 6.15 1.73 11.28 1.73 5.07 5.32 8.14 3.65 3.08 9.42 3.08 5.71 0 9.3-3.08 3.65-3.07 5.32-8.14 1.73-5.13 1.73-11.28v-1.35q0-6.09-1.73-11.22-1.67-5.13-5.32-8.2-3.65-3.15-9.42-3.15-5.71 0-9.36 3.14-3.6 3.08-5.33 8.21-1.66 5.13-1.66 11.22zm-29.69 33.98h-15.9V35.28h15.9zm-56.67 1.28q-10.33 0-17.83-4.42-7.5-4.5-11.54-12.06-4.04-7.63-4.04-17.05v-2.63q0-10.84 4.1-18.85 4.11-8.08 11.23-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.6 4.3 9.88 12 3.27 7.62 3.27 17.69V104H495.2V92.53h37.96v-1.22q-.13-4.04-1.54-7.56-1.41-3.53-4.49-5.7-3.01-2.19-8.08-2.19-5.06 0-8.52 2.89-3.47 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.18 10.58t6.35 7.43q4.17 2.7 9.94 2.7 5.58 0 9.87-2.18 4.36-2.18 7.5-6.29l8.34 8.34q-3.27 4.93-9.88 8.97-6.54 3.98-16.8 3.98zM464.3 64.39h16.48l-23.98 69.37h-10.26l1.03-12.57zm-12.25 57 .77 12.37h-10.19l-24.17-69.37H435zm-65.88 13.65q-10.32 0-17.82-4.42-7.5-4.5-11.54-12.06-4.04-7.63-4.04-17.05v-2.63q0-10.84 4.1-18.85 4.1-8.08 11.22-12.5 7.18-4.43 16.22-4.43 10 0 16.6 4.36 6.61 4.3 9.88 12 3.27 7.62 3.27 17.69V104H360.4V92.53h37.95v-1.22q-.12-4.04-1.53-7.56-1.42-3.53-4.5-5.7-3-2.19-8.07-2.19t-8.53 2.89q-3.46 2.82-5.26 8.01-1.8 5.13-1.8 12.12v2.63q0 5.9 2.19 10.58 2.18 4.68 6.35 7.43 4.16 2.7 9.93 2.7 5.58 0 9.88-2.18 4.36-2.18 7.5-6.29l8.33 8.34q-3.27 4.93-9.87 8.97-6.54 3.98-16.8 3.98zm-107.64-1.28.12-13.27h19.75q8.6 0 14.36-3.72 5.77-3.72 8.72-10.65 2.95-6.98 2.95-16.67v-4.87q0-9.94-2.95-16.8-2.88-6.86-8.59-10.45-5.7-3.59-13.91-3.59h-20.84V40.41h20.84q12.5 0 21.93 5.51 9.48 5.52 14.8 15.45 5.33 9.94 5.33 23.34v4.74q0 13.47-5.32 23.4-5.33 9.94-14.94 15.46-9.56 5.45-22.38 5.45zm9.23 0h-16.54V40.4h16.54z" />
        </svg>
        <svg class="nav-global-icon nav-global-icon-dropdown-toggle" height="100px" width="100px" viewBox="0 0 1000 1000">
          <path d="m 206.53824,376.41174 a 42,42 0 0 1 71,-29 l 221,220 220,-220 a 42,42 0 1 1 59,59 l -250,250 a 42,42 0 0 1 -59,0 l -250,-250 a 42,42 0 0 1 -12,-30 z"/>
        </svg>
      </button>

      <ul class="nav-global-nav-links nav-global-dropdown js-dropdown-menu" id="nav-global-nav-links">
        <li>
          <a href="https://projects.blender.org">Projects</a>
        </li>
        <li>
          <a href="https://wiki.blender.org" class="nav-global-link-active">Docs</a>
        </li>
        <li>
          <a href="https://code.blender.org">Blog</a>
        </li>
        <li>
          <a href="https://devtalk.blender.org">Forum</a>
        </li>
        <li>
          <a href="https://builder.blender.org">Builds</a>
        </li>
      </ul>

      <ul class="nav-global-links-right">
        <li>
          <div class="nav-global-apps-dropdown-container">
            <button class="js-dropdown-toggle" data-toggle-menu-id="nav-global-apps-menu">
              <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                <path
                  d="m 150.5,899 a 50,50 0 0 1 -49,-50 V 749 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 749 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 749 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m -598,-299 a 50,50 0 0 1 -49,-50 V 450 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 450 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 450 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m -598,-299 a 50,50 0 0 1 -49,-50 V 151 a 50,50 0 0 1 49,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 151 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z m 299,0 a 50,50 0 0 1 -50,-50 V 151 a 50,50 0 0 1 50,-50 h 100 a 50,50 0 0 1 50,50 v 100 a 50,50 0 0 1 -50,50 z"/>
              </svg>
            </button>

            <div class="nav-global-apps-menu nav-global-dropdown js-dropdown-menu" id="nav-global-apps-menu">
              <h3>BLENDER.ORG</h3>
              <ul>
                <li>
                  <a href="https://www.blender.org/download/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 49.15424,599.52895 a 50.360431,50.360431 0 0 0 -49.16137168,50.36043 v 200.24266 c 0,81.53594 68.34629768,149.88226 149.88223168,149.88226 h 700.2498 c 81.53593,0 149.8822,-68.34632 149.8822,-149.88226 V 649.88938 a 50.360431,50.360431 0 1 0 -100.72083,0 v 200.24266 c 0,27.57834 -21.58304,49.16138 -49.16137,49.16138 H 149.8751 c -27.57833,0 -49.16137,-21.58304 -49.16137,-49.16138 V 649.88938 A 50.360431,50.360431 0 0 0 49.15424,599.52895 Z M 249.3969,350.12491 a 50.360431,50.360431 0 0 0 -34.77267,85.13311 l 250.60309,249.40404 a 50.360431,50.360431 0 0 0 70.74442,0 L 785.37577,435.25802 A 50.360431,50.360431 0 1 0 714.63136,364.51361 L 500,579.14497 285.36864,364.51361 A 50.360431,50.360431 0 0 0 249.3969,350.12491 Z M 498.80094,0 A 50.360431,50.360431 0 0 0 449.63957,50.360432 V 649.88938 a 50.360431,50.360431 0 1 0 100.72086,0 V 50.360432 A 50.360431,50.360431 0 0 0 498.80094,0 Z"
                          style="stroke-width:1.19906" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Download</h4>
                      <p>Get the latest Blender, older versions, or experimental builds.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://www.blender.org/download/releases/" target="_blank">
                    <div>
                      <h4>What's New</h4>
                      <p>Stay up-to-date with the new features in the latest Blender releases.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <h3>RESOURCES</h3>
              <ul>
                <li>
                  <a href="https://studio.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 146.70939,1.6802353 c -78.362959,0 -143.678322,64.2057377 -143.6783209,143.6570547 -7.2533835,268.45385 0,463.93349 0,709.63356 0,79.45132 65.3153619,143.65705 143.6783209,143.65705 266.17757,0.51388 460.32009,0 709.61228,0 79.45134,0 143.67832,-64.20573 143.67832,-143.65705 0.37471,-118.45983 0,-235.03162 0,-353.72203 0.017,-0.72264 0.017,-1.4456 0,-2.16825 0.43351,-118.60776 0,-235.80643 0,-353.74328 0,-79.451317 -64.22698,-143.6570547 -143.67832,-143.6570547 -241.21275,-1.18614431 -498.91438,-0.041532 -709.61228,0 z m 0,90.3436617 h 82.71228 V 228.07083 H 93.374735 v -82.73354 c 0,-30.47448 22.860165,-53.313393 53.334655,-53.313393 z m 173.05594,0 h 363.5004 c -5.81542,127.740813 0,236.658243 0,362.416273 h -363.5004 c 0.39671,-121.62159 0,-241.06277 0,-362.416273 z m 453.84406,0 h 82.71228 c 30.4745,0 53.33466,22.838913 53.33466,53.313393 v 82.73354 H 773.60939 Z M 93.374735,318.39324 H 229.42167 V 454.44017 H 93.374735 Z m 680.234655,0 H 909.65633 V 454.44017 H 773.60939 Z M 93.374735,545.86796 H 229.42167 V 681.91489 H 93.374735 Z m 226.390595,0 h 363.5004 c -5.81534,127.74773 0,236.67164 0,362.43753 h -363.5004 c 0.3967,-121.62867 0,-241.07685 0,-362.43753 z m 453.84406,0 H 909.65633 V 681.91489 H 773.60939 Z M 93.374735,772.25856 H 229.42167 v 136.04693 h -82.71228 c -30.47449,0 -53.334655,-22.86016 -53.334655,-53.33464 z m 680.234655,0 h 136.04694 v 82.71229 c 0,30.47448 -22.86016,53.33464 -53.33466,53.33464 h -82.71228 z"
                          style="stroke-width:1.08838" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Blender Studio</h4>
                      <p>Access production assets and knowledge from the open movies.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://docs.blender.org/manual/en/latest/" target="_blank">
                    <div>
                      <h4>Manual</h4>
                      <p>Documentation on the usage and features in Blender.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <h3>DEVELOPMENT</h3>
              <ul>
                <li>
                  <a href="https://code.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="m 683.36434,818.19976 a 45.841084,45.841084 0 0 1 -33.83509,-13.09745 45.841084,45.841084 0 0 1 0,-64.39581 L 890.74067,499.49508 649.52925,259.37512 a 45.841084,45.841084 0 0 1 0,-64.39582 45.841084,45.841084 0 0 1 64.39581,0 l 272.8636,272.8636 a 45.841084,45.841084 0 0 1 0,64.39581 l -272.8636,272.8636 a 45.841084,45.841084 0 0 1 -30.56072,13.09745 z m -363.45431,0 A 45.841084,45.841084 0 0 1 286.07494,805.10231 L 13.211339,532.23871 a 45.841084,45.841084 0 0 1 0,-64.39581 L 286.07494,194.9793 a 45.841084,45.841084 0 0 1 64.39581,0 45.841084,45.841084 0 0 1 0,64.39582 L 109.25933,499.49508 350.47075,740.7065 a 45.841084,45.841084 0 0 1 0,64.39581 45.841084,45.841084 0 0 1 -30.56072,13.09745 z"
                          style="stroke-width:1.09145" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Developers Blog</h4>
                      <p>Latest development updates, by Blender developers.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://wiki.blender.org/" target="_blank">
                    <div>
                      <h4>Documentation</h4>
                      <p>Guidelines, release notes and development docs.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <ul>
                <li>
                  <a href="https://opendata.blender.org/" target="_blank">
                    <figure>
                      <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                        <path
                          d="M 499.99424,0 A 55.30474,55.30474 0 0 0 444.6895,55.30474 V 944.69526 A 55.30474,55.30474 0 0 0 499.99424,1000 55.30474,55.30474 0 0 0 555.29898,944.69526 V 55.30474 A 55.30474,55.30474 0 0 0 499.99424,0 Z m 332.95711,332.95711 a 55.30474,55.30474 0 0 0 -55.30474,56.43341 V 944.69526 A 55.30474,55.30474 0 0 0 832.95135,1000 55.30474,55.30474 0 0 0 888.25609,944.69526 V 389.39052 A 55.30474,55.30474 0 0 0 832.95135,332.95711 Z M 167.03713,555.30474 a 55.30474,55.30474 0 0 0 -55.30474,55.30474 V 944.69526 A 55.30474,55.30474 0 0 0 167.03713,1000 55.30474,55.30474 0 0 0 222.34187,944.69526 V 610.60948 a 55.30474,55.30474 0 0 0 -55.30474,-55.30474 z"
                          style="stroke-width:1.12867" />
                      </svg>
                    </figure>
                    <div>
                      <h4>Benchmark</h4>
                      <p>A platform to collect and share results of the Blender Benchmark.</p>
                    </div>
                  </a>
                </li>
                <li>
                  <a href="https://conference.blender.org/" target="_blank">
                    <div>
                      <h4>Blender Conference</h4>
                      <p>The yearly event that brings the community together.</p>
                    </div>
                  </a>
                </li>
              </ul>

              <div class="nav-global-apps-menu-section-donate">
                <h3>DONATE</h3>
                <ul>
                  <li>
                    <a href="https://fund.blender.org/" target="_blank">
                      <figure>
                        <svg class="nav-global-icon" height="100px" width="100px" viewBox="0 0 1000 1000">
                          <path
                            d="M 273.67169,58.416076 C 201.59785,62.59427 135.79129,94.975269 86.697523,145.11359 37.603742,194.20736 4.1781939,260.01391 0,332.08775 -4.1781926,403.11704 22.980065,480.41362 86.697523,545.17562 l 45.960127,45.96013 339.47823,338.43367 a 43.871033,43.871033 0 0 0 61.62835,0 L 872.1979,591.13575 918.15804,545.17562 c 109.67766,-110.72213 109.67766,-290.38445 0,-400.06203 -110.72213,-110.722127 -290.38445,-110.722127 -400.06204,0 l -15.66822,14.62368 -15.66822,-14.62368 C 423.04211,80.351592 345.74553,53.193334 273.67169,58.416076 Z m 5.22274,86.697514 c 48.04922,-3.13365 98.18754,12.53458 146.23677,60.5838 l 47.00468,47.00468 a 43.871033,43.871033 0 0 0 61.62835,0 l 45.96013,-47.00468 c 76.25204,-76.25203 199.50874,-76.25203 276.80532,0 77.29658,77.29658 77.29658,200.5533 0,277.84988 L 810.56956,529.50739 502.42778,837.64917 194.286,529.50739 148.32588,483.54727 C 100.27665,434.45349 84.608431,384.31516 86.697523,336.26594 c 3.133646,-47.00467 26.113717,-95.0539 61.628357,-130.56855 35.51464,-35.51464 82.51932,-58.49471 130.56855,-60.5838 z"
                            style="stroke-width:1.04455" />
                        </svg>
                      </figure>
                      <div>
                        <h4>Development Fund</h4>
                        <p>Support core development with a monthly contribution.</p>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="https://www.blender.org/about/donations/" target="_blank">
                      <div>
                        <h4>One-time Donations</h4>
                        <p>Perform a single donation with more payment options available.</p>
                      </div>
                    </a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</div>

<script>
  const dropdownToggles = document.getElementsByClassName("js-dropdown-toggle");
  const btnActiveClass = 'nav-global-btn-active';
  const isVisibleClass = 'is-visible';

  /* Hide all dropdowns. */
  function dropdownHideAll() {
    const dropdownMenus = document.getElementsByClassName("js-dropdown-menu");

    if (dropdownMenus) {
      for (let i = 0; i < dropdownMenus.length; i++) {
        dropdownMenus[i].classList.remove(isVisibleClass);
      }
    }

    /* Remove styling from all dropdown toggles. */
    for (let i = 0; i < dropdownToggles.length; i++) {
      dropdownToggles[i].classList.remove(btnActiveClass);
    }
  }

  for (let i = 0; i < dropdownToggles.length; i++) {
    dropdownToggles[i].addEventListener("click", function (e) {
      e.stopPropagation();

      const dropdownId = this.getAttribute('data-toggle-menu-id');
      const el = document.getElementById(dropdownId);

      if (el) {
        /* If the button is already active, remove styling. */
        if (el.classList.contains(isVisibleClass)) {
          dropdownHideAll();
        } else {
          /* Style button as active and show menu. */
          this.classList.add(btnActiveClass);
          el.classList.add(isVisibleClass);
        }
      }
    });
  }

  /* Hide all dropdowns when clicking anywhere except menus. */
  document.body.addEventListener("click", function (e) {
    if (!e.target.classList.contains("js-dropdown-menu")) {
      dropdownHideAll();
    }
  });

  /* Hide all dropdowns when pressing Esc. */
  window.addEventListener('keydown', function (event) {
    if (event.key === 'Escape') {
      dropdownHideAll();
    }
  });
</script>

		<nav class="navbar navbar-expand flex-column flex-md-row bd-navbar">
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"><a class="nav-link" href="https://wiki.blender.org/">Developer Documentation</a></li>
				</ul>
				<div>
<ul class="navbar-nav"><li id="ca-view" class="nav-item"><a href="LANPR_GP_New_Solutions.html" redundant="1" class="nav-link">View</a></li><li id="ca-viewsource" class="nav-item"><a href="https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;action=edit" title="This page is protected.&#10;You can view its source [e]" accesskey="e" class="nav-link">View source</a></li><li id="ca-history" class="nav-item"><a href="https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;action=history" title="Past revisions of this page [h]" accesskey="h" class="nav-link">History</a></li><li class="nav-item"><li class="nav-item dropdown" id="p-personal"><a class="nav-link dropdown-toggle" role="button" data-toggle="dropdown">Personal tools</a><div class="dropdown-menu dropdown-menu-right"><span id="pt-login"><a href="https://wiki.blender.org/w/index.php?title=Special:UserLogin&amp;returnto=User%3AYiming%2FLANPR+GP+New+Solutions" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o" class="dropdown-item">Log in</a></span></div></li></li></ul>				</div>
			</div>
		</nav>



		<div id="mw-wrapper" class="container-fluid">
			<div class="row flex-xl-nowrap">
				<div class="col-12 col-md-3 col-xl-2 bd-sidebar">
					<form action="https://wiki.blender.org/w/index.php" role="search" class="bd-search d-flex align-items-center" id="p-search"><input type="hidden" value="Special:Search" name="title"/><input type="search" name="search" placeholder="Search..." title="Search Blender Developer Wiki [f]" accesskey="f" id="searchInput" class="form-control ds-input" autocomplete="off"/></form>										<div id="p-Building_Blender">
						<h5>Building Blender</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Windows"><a href="../Building_Blender/Windows.html">Windows</a></li><li id="n-macOS"><a href="../Building_Blender/Mac.html">macOS</a></li><li id="n-Linux"><a href="../Building_Blender/Linux.html">Linux</a></li>						</ul>
										</div>
										<div id="p-Develop">
						<h5>Develop</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Getting-Started"><a href="../Developer_Intro.html">Getting Started</a></li><li id="n-Code-Documentation"><a href="../Source.html">Code Documentation</a></li><li id="n-Style-Guide"><a href="../Style_Guide.html">Style Guide</a></li><li id="n-Release-Notes"><a href="../Reference/Release_Notes.html">Release Notes</a></li>						</ul>
										</div>
										<div id="p-Process">
						<h5>Process</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Communication"><a href="../Contact.html">Communication</a></li><li id="n-Modules"><a href="../Modules.html">Modules</a></li><li id="n-Bug-Tracker"><a href="../Process/Bug_Reports.html">Bug Tracker</a></li><li id="n-Code-Review"><a href="../Process/Contributing_Code.html">Code Review</a></li>						</ul>
										</div>
										<div id="p-More">
						<h5>More</h5>
						 <!-- If you do not want the words "Navigation" or "Tools" to appear, you can safely remove the line above. -->

											<ul>
					<li id="n-Google-Summer-of-Code"><a href="../GSoC.html">Google Summer of Code</a></li><li id="n-Python"><a href="../Special:RandomRootpage.html">Python</a></li><li id="n-FAQ"><a href="../FAQ.html">FAQ</a></li>						</ul>
										</div>
									</div>

								<div class="d-none d-xl-block col-xl-2 bd-toc">
					<div id="toc" class="toc"><div class="toctitle" lang="en" dir="ltr"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="LANPR_GP_New_Solutions.html#LANPR_GP_New_Solutions"><span class="tocnumber">1</span> <span class="toctext">LANPR GP New Solutions</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="LANPR_GP_New_Solutions.html#Mechanism"><span class="tocnumber">1.1</span> <span class="toctext">Mechanism</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="LANPR_GP_New_Solutions.html#Problems"><span class="tocnumber">1.2</span> <span class="toctext">Problems</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="LANPR_GP_New_Solutions.html#Updates"><span class="tocnumber">1.3</span> <span class="toctext">Updates</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="LANPR_GP_New_Solutions.html#0605"><span class="tocnumber">1.3.1</span> <span class="toctext">0605</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="LANPR_GP_New_Solutions.html#0607"><span class="tocnumber">1.3.2</span> <span class="toctext">0607</span></a></li>
<li class="toclevel-3 tocsection-7"><a href="LANPR_GP_New_Solutions.html#0608"><span class="tocnumber">1.3.3</span> <span class="toctext">0608</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="LANPR_GP_New_Solutions.html#0610"><span class="tocnumber">1.3.4</span> <span class="toctext">0610</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="LANPR_GP_New_Solutions.html#0611"><span class="tocnumber">1.3.5</span> <span class="toctext">0611</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="LANPR_GP_New_Solutions.html#0625"><span class="tocnumber">1.3.6</span> <span class="toctext">0625</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="LANPR_GP_New_Solutions.html#0627"><span class="tocnumber">1.3.7</span> <span class="toctext">0627</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="LANPR_GP_New_Solutions.html#0628"><span class="tocnumber">1.3.8</span> <span class="toctext">0628</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="LANPR_GP_New_Solutions.html#0629"><span class="tocnumber">1.3.9</span> <span class="toctext">0629</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="LANPR_GP_New_Solutions.html#0703"><span class="tocnumber">1.3.10</span> <span class="toctext">0703</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="LANPR_GP_New_Solutions.html#0704"><span class="tocnumber">1.3.11</span> <span class="toctext">0704</span></a></li>
<li class="toclevel-3 tocsection-16"><a href="LANPR_GP_New_Solutions.html#0705"><span class="tocnumber">1.3.12</span> <span class="toctext">0705</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="LANPR_GP_New_Solutions.html#0707"><span class="tocnumber">1.3.13</span> <span class="toctext">0707</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="LANPR_GP_New_Solutions.html#0714"><span class="tocnumber">1.3.14</span> <span class="toctext">0714</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="LANPR_GP_New_Solutions.html#0715"><span class="tocnumber">1.3.15</span> <span class="toctext">0715</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="LANPR_GP_New_Solutions.html#0716"><span class="tocnumber">1.3.16</span> <span class="toctext">0716</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="LANPR_GP_New_Solutions.html#0717_0718"><span class="tocnumber">1.3.17</span> <span class="toctext">0717 0718</span></a></li>
<li class="toclevel-3 tocsection-22"><a href="LANPR_GP_New_Solutions.html#0721"><span class="tocnumber">1.3.18</span> <span class="toctext">0721</span></a></li>
<li class="toclevel-3 tocsection-23"><a href="LANPR_GP_New_Solutions.html#0722"><span class="tocnumber">1.3.19</span> <span class="toctext">0722</span></a></li>
<li class="toclevel-3 tocsection-24"><a href="LANPR_GP_New_Solutions.html#0724"><span class="tocnumber">1.3.20</span> <span class="toctext">0724</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-25"><a href="LANPR_GP_New_Solutions.html#Remaining_tasks_for_this_stage_of_development"><span class="tocnumber">1.4</span> <span class="toctext">Remaining tasks for this stage of development</span></a>
<ul>
<li class="toclevel-3 tocsection-26"><a href="LANPR_GP_New_Solutions.html#0725"><span class="tocnumber">1.4.1</span> <span class="toctext">0725</span></a></li>
<li class="toclevel-3 tocsection-27"><a href="LANPR_GP_New_Solutions.html#0726"><span class="tocnumber">1.4.2</span> <span class="toctext">0726</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="LANPR_GP_New_Solutions.html#0727"><span class="tocnumber">1.4.3</span> <span class="toctext">0727</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="LANPR_GP_New_Solutions.html#0728"><span class="tocnumber">1.4.4</span> <span class="toctext">0728</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="LANPR_GP_New_Solutions.html#0729"><span class="tocnumber">1.4.5</span> <span class="toctext">0729</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="LANPR_GP_New_Solutions.html#0803"><span class="tocnumber">1.4.6</span> <span class="toctext">0803</span></a></li>
<li class="toclevel-3 tocsection-32"><a href="LANPR_GP_New_Solutions.html#0804_-_0809"><span class="tocnumber">1.4.7</span> <span class="toctext">0804 - 0809</span></a></li>
<li class="toclevel-3 tocsection-33"><a href="LANPR_GP_New_Solutions.html#0813"><span class="tocnumber">1.4.8</span> <span class="toctext">0813</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="LANPR_GP_New_Solutions.html#0814"><span class="tocnumber">1.4.9</span> <span class="toctext">0814</span></a></li>
<li class="toclevel-3 tocsection-35"><a href="LANPR_GP_New_Solutions.html#0816"><span class="tocnumber">1.4.10</span> <span class="toctext">0816</span></a></li>
<li class="toclevel-3 tocsection-36"><a href="LANPR_GP_New_Solutions.html#0820"><span class="tocnumber">1.4.11</span> <span class="toctext">0820</span></a></li>
<li class="toclevel-3 tocsection-37"><a href="LANPR_GP_New_Solutions.html#0821"><span class="tocnumber">1.4.12</span> <span class="toctext">0821</span></a></li>
<li class="toclevel-3 tocsection-38"><a href="LANPR_GP_New_Solutions.html#0826"><span class="tocnumber">1.4.13</span> <span class="toctext">0826</span></a></li>
<li class="toclevel-3 tocsection-39"><a href="LANPR_GP_New_Solutions.html#0827"><span class="tocnumber">1.4.14</span> <span class="toctext">0827</span></a></li>
<li class="toclevel-3 tocsection-40"><a href="LANPR_GP_New_Solutions.html#0828"><span class="tocnumber">1.4.15</span> <span class="toctext">0828</span></a></li>
<li class="toclevel-3 tocsection-41"><a href="LANPR_GP_New_Solutions.html#0829"><span class="tocnumber">1.4.16</span> <span class="toctext">0829</span></a></li>
<li class="toclevel-3 tocsection-42"><a href="LANPR_GP_New_Solutions.html#0831"><span class="tocnumber">1.4.17</span> <span class="toctext">0831</span></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>				</div>
				
								<div class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 bd-content" role="main">
					<div class="mw-indicators mw-body-content">
</div>
<h1 class="firstHeading">User:Yiming/LANPR GP New Solutions</h1>
					<div class="mw-body-content">
						<div id="contentSub"><p><span class="subpages">&lt; <a href="../User:Yiming.html" title="User:Yiming">User:Yiming</a></span></p><p></p></div><div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="mw-parser-output">

<h1><span class="mw-headline" id="LANPR_GP_New_Solutions">LANPR GP New Solutions</span></h1>
<p>After some discussions on the current status on LANPR, here's what we are gonna do with it:
</p>
<h2><span class="mw-headline" id="Mechanism">Mechanism</span></h2>
<p><b>LANPR will now mainly act as data provider to Grease Pencil Object instead of a separate engine</b>. This way we can benefit from the style functionality that Grease Pencil provides, and don't need to maintain a separate line style module within LANPR. Also, this allows any composition with existing engines like EEVEE or cycles.
</p><p>Here is how the simplest way it's gonna work:
</p>
<ol><li>The user activates LANPR. They select GP stroke targets for desired collections and objects.</li>
<li>Bake the stroke. LANPR will calculate the strokes and send the data to selected GP targets.</li></ol>
<p>As a lot of things are broken in LANPR when the recent merge happens, so above functionality will be the first priority to achieve.
</p><p><b>The next step is to restore real-time preview function.</b>
</p><p>Currently the plan for this is to hack some GP drawing function to directly accept LANPR data, contrary to drawing using actual GP objects in the scene for strokes. Then we lay the "fake" strokes over the viewport. This way the performance impact will be less significant.
</p><p>The GP team will try to arrange a meeting with Clement to discuss how go about this live preview GP API at a later date.
</p>
<h2><span class="mw-headline" id="Problems">Problems</span></h2>
<ol><li>We need tagging for GP object when viewport rotates. The way to do it in the depsgraph is still not settled. I'm not familiar with it. Whether to use a notifier or deps tag? Is there any precautions on using copied data from depsgraph?
<ul><li>Sebastian suggested that we need to have protected time interval to prevent too many tagging that slow down the UI. This is good practice.</li></ul></li>
<li>Hacking the GP draw engine to accept LANPR data might not be the best idea. Needed more discussion.</li></ol>
<h2><span class="mw-headline" id="Updates">Updates</span></h2>
<h3><span class="mw-headline" id="0605">0605</span></h3>
<p>LANPR is running again in a new branch <code>lanpr-under-gp</code>(not synced yet), Engine is removed, associated memory operations now moved into Editor's init() and deinit().
</p>
<h3><span class="mw-headline" id="0607">0607</span></h3>
<p>（汉语用户可以在<a rel="nofollow" class="external text" href="http://www.wellobserve.com/index.php?page=./NPR/Tasks">这里</a>和<a rel="nofollow" class="external text" href="http://www.wellobserve.com/index.php?page=NPR/index.md">这里</a>查看进度描述）
</p><p>Now working on those bugs:
</p>
<ul><li>Scene should recalculate after modification rather than each frame.</li>
<li>[Done] <s>Chaining should always be enabled for GP. Remove "disable" option.</s></li>
<li>[Done] <s>Duplicated points in generated GP strokes. This might be a bit hard due to the nature of how LANPR runs.</s> Maybe more efficient way exist but not it's fast enough that this doesn't have any notable impact to performance.
<ul><li>Might induced some "small segment lost" problem.</li></ul></li>
<li>[Done in 0610] <s>Ctrl-Z Problematic.</s></li>
<li>[Done] <s>Grease pencil object data should tag for update.</s></li>
<li>[Done] <s>Normal will invert on the geometry if do a calculation. weird.</s></li></ul>
<h3><span class="mw-headline" id="0608">0608</span></h3>
<ul><li>[Done] <s>merging errors in <code>readfile.c</code>.</s></li>
<li>[Done] <s>Occasional crashes in duplicate points detection during chain connection stage.</s></li>
<li>Line layer should have another solution, maybe should put into <code>CollectionLANPR</code> and <code>ObjectLANPR</code>. Pending research.
<ul><li>And current "Add Line Layer" code produce errors.</li></ul></li>
<li>Because we are using GP and it's 3D, so we can just not do occlusion calculation in viewport editing, just use depth occlusion.
<ul><li>Provide an option for toggling occlusion calculation (for viewport speed).</li>
<li>Don't allow geometry count greater than certain amount being processed in the viewport, value should be configurable.</li></ul></li>
<li>[Done 0610] <s>Deleting GP object but keeping Collection Target selected will result in crash.</s></li>
<li>[Done 0610] <s>Baking isn't working properly.</s>
<ul><li>[? See 0625] Also, for baked strokes, need 2 updates to get rid of the wrong ones. Please investigate.</li></ul></li></ul>
<p><b>Things to throw into Grease Pencil: (Which means LANPR no longer care about it)</b>
</p>
<ul><li>Depth controlled style (With nodes)</li>
<li>Taper (Thickness modifier improvements)</li>
<li>Dot dash presents (again, nodes)</li></ul>
<h3><span class="mw-headline" id="0610">0610</span></h3>
<ul><li>[Done] <s>Ctrl-Z Behavior.</s></li>
<li>[Done] <s>Task pool freeing has problem.</s></li>
<li>[Duplicated] <s>Deleting Grease Pencil Object who has already been an selected target cause UI to crash.</s>
<ul><li>When above is fixed, use pointer for GP target material and layers as well.</li></ul></li>
<li>[See 0611] Baking function is not threaded, and is interfering with viewport update rendering status.</li></ul>
<h3><span class="mw-headline" id="0611">0611</span></h3>
<p>Me and Antonioya/Sebastian/Mattias are talking about UI and workflow stuff.
/
</p>
<ul><li>[Done?] <s>Baking finished flag not set.</s>
<ul><li>[? See 0625] Possible rendering status flag missing somewhere else, after current fix should no longer cause "unable to quit" behaviour, but keep testing.</li></ul></li></ul>
<h3><span class="mw-headline" id="0625">0625</span></h3>
<p>I'm up again today and let me see if I can sort something out.
</p><p>We have a pretty decent proposal on GP Modifier design for LANPR. Appears to be easy to port with current structure. Please note that after GP-NPR-modifier change, the old LANPR test files you have will not work under new mechanism. I'm not implementing a transfer.
</p><p>Regarding remaining tasks listed above:
</p>
<ul><li>Strokes not deleting may resulted from either the misuse of dg or simply a misplaced stroke flag, but when using modifier, this problem may or may not exist anymore. Will see after implementation.</li>
<li>Rendering status flag is messy at the moment, I need to remove "canceling" flag, and implement later when cleaned up code path.</li></ul>
<p>Tasks today:
</p>
<ul><li>[Done] <s>Hard surface model with boolean operations appears to have wrong line segments. Looking now.</s>
<ul><li>[Done] <s>Appears to have been solved, but <code>max_occlusion</code> value seems incorrect from GP settings.</s></li></ul></li>
<li>[Done 0627] <s>Make GP modifier and move line layer and selection stuff there.</s>
<ul><li>[Done 0627] <s>With correct file RW.</s></li>
<li>[Done 0627] <s>Pointer RNA for SRC.</s></li></ul></li>
<li>[Done] <s>Crease threshold should not go to value less than zero.</s></li></ul>
<h3><span class="mw-headline" id="0627">0627</span></h3>
<ul><li>[Done] <s>LANPR rename to LineArt, marcos will be using <code>LRT</code>, function names change to <code>lineart</code>, struct will be using <code>LineArt</code>, compiler option will be using <code>WITH_LINEART</code>.</s></li>
<li>[Done] <s><code>readfile.c</code> API changes.</s></li>
<li>Remove target settings in <code>CollectionLineart</code> and <code>ObjectLineart</code>, and preserve only <code>usage</code> flag for now.</li>
<li>[Done] <s>Panel display logic and name error.</s></li>
<li>Occlusion level 1/2/3... will have few wrong chain segments here and there, probably due to chain splitting or reduction.</li></ul>
<p>Please note, since LANPR was never in Master, so there won't be a legacy compatible loader for this DNA struct name change. <b>your old LANPR file would need to be reconfigured</b>. (<code>SceneLANPR</code> is now <code>SceneLineArt</code>)
</p><p>Solution for auto update:
</p>
<ol><li>When enable auto update, a special <code>needs_update</code> flag is set in <code>SceneLineart</code>.</li>
<li>When doing frame update, function checks <code>needs_update</code> and do the calculations, and use depsgraph to tag all the GP objects that has Lineart modifier, then reset <code>needs_update</code>.</li>
<li>The GP Object gets tagged will fetch line data from now complete LANPR buffer, and update themselves, cause another scene update event, but due to lack of <code>needs_update</code>, when again into frame update function, LANPR will not trigger again to prevent the endless loop.</li>
<li>Add relationship between GP objects that has Lineart modifiers between visible objects in scene, then once the object changes, the modifier's <code>depsgraphUpdate()</code> callback will be called, and in this callback we only set <code>needs_update</code> flag in scene so when the next frame update happens, LANPR is running again, providing updated result for those GP objects.</li></ol>
<h3><span class="mw-headline" id="0628">0628</span></h3>
<ul><li>[Done] <s>Functional Modifier-driven stroke generation.</s>
<ul><li>[Done] <s>Auto update using a separate flag and DG.</s></li></ul></li>
<li>[Done 0715] <s>Instance collection still not working, might be related to object iterator.</s></li>
<li>Freestyle edge mark is not working again.(If mesh is using modifier)</li>
<li>[Done?] <s>Can't append anything.</s> Probably shouldn't use <code>BLO_expand() lineart-&gt;target</code>, need to know how <code>BLO_expand()</code> works.</li>
<li>[Done] <s>Old file with same procedure can't produce line, probably due to line filter process.</s> Caused by line-&gt;picked flag not cleared after chaining.</li>
<li>[Done] <s>Modifier apply doesn't work.</s></li>
<li>Code naming style fixes.
<ul><li>[Done] <s>RNA properties.</s></li>
<li>Function name classification.</li></ul></li>
<li>[Done 0703] Modifier value change should update view.</li></ul>
<p>By using modifier, and due to the way modifiers are evaluated, currently you are not able to first pick lines from an object and then pick it's parent collection's without picking lines from this object <b>twice</b>. We may come up with another solution in the future, but this could also lead to some interesting results. Maybe a switch to enable/disable double picking, such mechanism would be something like LANPR calculator marking object-sourced lines before allowing DG to update the modifier.
</p>
<h3><span class="mw-headline" id="0629">0629</span></h3>
<p>Not very likely to do much today... We'll see.
</p>
<ul><li>[Done 0703] <s>Collection usage mark reportedly not working.</s></li></ul>
<h3><span class="mw-headline" id="0703">0703</span></h3>
<ul><li>[Done] <s>Modifier value change triggers view updates.</s></li>
<li>[Done] <s>Depsgraph tagging for updates when scene changes.</s></li>
<li>[Done] <s>Background calculation should notify the UI about it's completion.</s></li>
<li>[Done] <s>Collection usage mark reportedly not working.</s></li></ul>
<p>Discovered that <code>id</code> and <code>orig_id</code> can't be used in a mix. Should be fixed in the future.
</p><p>Occasional crashes observed during adjusting occlusion level. Later found out that it was caused by a wrong usage flag.
</p><p>Very few memory leaks when opened a lot of files before closing, but not always occurring, might be related to Line Art internal state.
</p>
<h3><span class="mw-headline" id="0704">0704</span></h3>
<ul><li>[Done] <s>F12 should re-evaluate related objects and also strokes (blocking, not background updates).</s></li>
<li>[Done] <s>Remove redundant UI.</s></li>
<li>[Done] <s>Master thickness and strength in LineArt panel.</s></li></ul>
<p>Should change modifier depsgraph relationship to all visible objects instead of scene parameter. Some scene property would cause re-evaluation, do Line Art tagging there.
</p>
<h3><span class="mw-headline" id="0705">0705</span></h3>
<p>Just cleaned up some function names.
</p>
<h3><span class="mw-headline" id="0707">0707</span></h3>
<ul><li>[Done] <s>Line Art panel should show up in all engines.</s></li>
<li>[Done] <s>Don't add frames in GP modifiers.</s></li>
<li>[Done] <s>Process reporting</s>
<ul><li>Cursor process: use <code>WM_cursor_time()</code> to do cursor number, and <code>WM_progress_set()</code> to set task bar progress in Windows.</li>
<li>Use <code>WM_cursor_set()</code> to set cursor icon but <b>it said there's a reset function but there doesn't seem to have any?</b></li></ul></li>
<li>[Done] <s>Use <code>LISTBASE_FOREACH</code> to do the loop.</s></li>
<li>[Done] <s>Stroke baking panel and functionality.</s></li></ul>
<h3><span class="mw-headline" id="0714">0714</span></h3>
<ul><li>[Done] <s>Bake/Applying reportedly not working.</s> Caused by misuse of <code>id</code> and <code>orig_id</code> in source reference. Now we all use <code>orig_id</code> for consistency.</li></ul>
<h3><span class="mw-headline" id="0715">0715</span></h3>
<ul><li>[Done] <s>Baking should return original state.</s></li>
<li>[Need some work] When the source collection is hidden, some calculation is still going on.
<ul><li>Currently, I made Line Art calculation return early when no actual geometry is loaded. Maybe a prescan is needed to determine whether run the calculation or not.</li></ul></li>
<li>[Done] <s>Refreshing when properties in the main panel changes.</s></li>
<li>[Done] <s>Overwrite flag isn't effective at the moment.</s></li>
<li>[Done] <s>Exact global back-transform.</s>
<ul><li>Alternative method without extensive matrix calculation made it fast enough so this doesn't impact the performance.</li></ul></li>
<li>[Done?] Clicking "Apply" in Line Art modifier will cause lock up when Auto Update isn't turned on. Need investigation.
<ul><li>Currently we just skip applying when Auto Update isn't turned on, unless better solution comes up.</li></ul></li>
<li>[Done] <s>Move thickness and strength value into the modifier, and combine the rest few global properties into one panel.</s></li>
<li>[Done] <s>Debug log cleanup.</s></li>
<li>[Done] <s>Remove <code>LRT_ENABLED</code> flag.</s></li>
<li>[Done] <s>View layer flag is not working.</s>
<ul><li>This is also related to instanced collection. After using <code>DEG_OBJECT_ITER_FOR_RENDER_ENGINE_BEGIN</code>, this problem seems to have been resolved.</li></ul></li>
<li>[Done] <s>Only one modifier gets to show the result when baking strokes.</s>
<ul><li>This was caused by multiple cleaning of a single frame.</li></ul></li></ul>
<p>Idea: Set occlusion Only mode implicitly for all non-referred source objects to speed up calculation.
</p><p>Baking button design not clear yet, three modes may be considered:
</p>
<ol><li>All physics/simulations/line art at once.</li>
<li>All line art modifiers (current, but the modifier was not removed when finished)</li>
<li>Bake single line art modifier (for all frames instead of "Applying to" existing frames).</li></ol>
<h3><span class="mw-headline" id="0716">0716</span></h3>
<p>Some discussions has been made with users from a few studios, there are some requirements they brought to the table, some features are easy to achieve:
</p>
<ol><li>Smooth group border.</li>
<li>Configurable material separation lines.</li>
<li>Make an mesh object to only produce intersection lines on other objects but not show up in the rendering.</li>
<li>Smoother lines.</li>
<li>Some sort of semi-automatic LOD for distant objects.</li></ol>
<p>Some features are hard to achieve:
</p>
<ol><li>Texture alpha or other channel's border. (If not style-wise demanding, do a masked filtering in composition stage can give a "line", but if to generate strokes, this is more problematic)</li>
<li>Animating the stroke deformation between two frames on a geometry. (Maybe doing a dynamic boolean and use the intersection line would be OK.)</li></ol>
<p>Other reports including:
</p>
<ul><li>Chaining doesn't really produce lines that smooth, especially for intersection lines on characters. (Smooth contour modifier by Sebastian would be a lot helpful!)
<ul><li>After some tests, I found it's likely due to overlapping threshold in Line Art internal settings, need to find an optimal value to match the numeric feature of the calculated result.</li></ul></li>
<li>F12 and viewport preview has different line thickness. (Which is weird...)</li></ul>
<h3><span class="mw-headline" id="0717_0718">0717 0718</span></h3>
<p>Literally pulling teeth
</p>
<h3><span class="mw-headline" id="0721">0721</span></h3>
<p>Creating an document to clarify the code in line art module. Also cleaning up the code. <a href="../Line_Art_Code_Structure.html" class="mw-redirect" title="Line Art Code Structure">Line Art Code Structure</a>
</p>
<ul><li>[Done] <s>Function names clean-up.</s> Now in <code>_lineart_category_operation()</code> format.</li>
<li>[Done] <s>Completely remove legacy LineLayer structure.</s>.</li>
<li>By testing the Bi-plane file, found some very weird bug, like the operator doesn't update intersection checkbox...
<ul><li>Turns out it's a layer configuration problem. Suggestion would be in Dope sheet, Grease Pencil mode, make the "+", "-" icons into "layer +", "layer -" to distinguish "add new frame" operation which is basically insert keyframe. In this context it's easy to confuse "add a layer" with "add a frame", because in dopesheet, frame information is probably more dominant.</li>
<li>Intersection checkbox not responding is baked strokes being shown with the moving object.</li></ul></li>
<li>Received some request that require Grease Pencil should have its own compositor pass.</li></ul>
<p>Sebastian suggested we keep a "list of desired functionality" here on the wiki so here it is: <a href="../Line_Art_Desired_Functionality.html" class="mw-redirect" title="Line Art Desired Functionality">Desired Functionality</a>
</p><p>We also discussed how smooth contour algorithm could help achieve better chaining quality. Currently the problem is contour quality and line type switches along a seemingly smooth feature (Line Art explicitly split strokes at these points so that you can select the line types you would like to display).
</p>
<ul><li>[Done 0722] <s>Providing a switch to allow "chaining intersection lines and contour lines together" would solve some of the problems here.</s>
<ul><li>0722: Experiment found that fuzzy chaining is doable, and it produces quite nice effect over organic models. The problem of fuzzy chaining is that you potentially can not select specifically those "fuzzed" line types, if we allow all types to chain together, you may not be able to select any line types, and intersection line would stay in the object that is first chained in sequence (which is not predictable, but if using the same line style, should be hard to notice).</li></ul></li>
<li>Also: Breaking chains at sharp points should be done at Line Art stage not at the modifier for speed. (Can provide a threshold to select).</li></ul>
<h3><span class="mw-headline" id="0722">0722</span></h3>
<p>Specifically investigated chaining artefacts and its cause. Looks like 32bit floating point data as chained data is just lack a little bit of precision that caused some problems in short segment separation stage. Currently using a increased threshold (1e-5, hard-coded) for detecting overlapped vertex in image space, log didn't make much sense, but will have to now.
</p>
<ul><li>[Done] <s>Fuzzy chaining options.</s>
<ul><li>Also: re-categorize intersection lines. Please note that if there's a floating intersection line which has not being chained onto other contour lines, it can only be selected by collection, because there's no object reference.</li>
<li>Some segments are chained wrongly. Overall good enough. Need to print log for specific points to see if the wrong connection is due to missing link in the bounding area.</li>
<li>Chaining is accelerated using bounding area method, but no near-area comparator implemented. So two end points could result in very closely visually but be linked to 2 bounding areas thus resulted in not chaining. may optimize this later, but so far it's good enough.</li></ul></li>
<li>[Done] <s>Remove that "Use" text in modifier UI.</s></li></ul>
<h3><span class="mw-headline" id="0724">0724</span></h3>
<ul><li>[Done 0725] <s>After merging with 2.91 the collection tab is gone (used to select collection line art configurations). Need to bring back.</s>
<ul><li>[Done 0725] <s>Object one just put it inside the object tab.</s></li>
<li>The usage flag should actually be associated with View Layer rather than Collection/Object. Do this in the futrure.</li></ul></li>
<li>Cursor callback would (very rarely) trigger a X Window Bad Cursor error, not sure the situation on Windows, the API may have some problems (probably is because the process updating being called from another thread).</li>
<li>[Done 0725] <s>Chaining bug: Current implementation does not necessarily pick up the nearest point pair when connecting chains.</s> The mechanism is that I didn't check both end-points for nearest connection to other chains.
<ul><li>Used a hack to stop chains from propagating once the other end point is closer to the testing line.</li></ul></li></ul>
<h2><span class="mw-headline" id="Remaining_tasks_for_this_stage_of_development">Remaining tasks for this stage of development</span></h2>
<ul><li>[Done 0728] <s>Limitations on big mesh when allocating memory.</s></li>
<li>[Done 0726] <s>Sampling before outputting stroke data into GPencil modifier to lighten the load on the modifiers.</s></li>
<li>[Done 0729] <s>Angle splitting after chaining, Thus avoid using the modifier.</s></li>
<li>Code style clean-ups and removing obsolete stuff.</li>
<li>[Done 0729] <s><i>Non-standard near clipping still produce some problems. But plan save this for later stages of development as it doesn't really occur that frequently if not specifically triggered.</i></s></li>
<li>(I'll add when it occurs to me)</li></ul>
<hr />
<h3><span class="mw-headline" id="0725">0725</span></h3>
<ul><li>[Done] <s>Chaining loop bug.</s> (For some cases yes, some cases no. Use algorithm below to eliminate the bug)
<ul><li>[Implemented] Need a new chain-connection algorithm at the moment, should get closest point pair instead of propagating.</li>
<li>[Done] Dual stage chaining should not remove <code>cre</code> node from bounding areas.</li></ul></li>
<li>[Done 0726] <s>Should provide a main line type flag when fuzzy chaining option is on, so we can still select line types.</s></li>
<li>[Done 0726] <s>Re-mark line type as contour when the chain is fuzzy.</s></li></ul>
<h3><span class="mw-headline" id="0726">0726</span></h3>
<ul><li>[Done] <s>Pre-sample strokes before finishing the modifier.</s></li></ul>
<p>Did some performance optimizations: (Thanks to Sebastian's hint of using Hotspot program)
</p>
<ol><li>Intersection line calculation use geometry bound box instead of image space bound box, quicker and save more memory than BVH.</li>
<li>Per thread occlusion task line count set to 1000 instead of 10000, in the future there will be further optimizations for automatic count set. (This works like cycles tile size, it's just Line Art works with a list of line). This made a lot more scenes utilize multi-thread with visible performance gain. (But the major performance drag is still in the intersection generation process，takes like 40-60% of the time)</li></ol>
<p>The LANPR core is already pretty much performance tuned back when it was a stand-alone program using VS's profiler. There are sure still some things I can improve upon.
</p>
<h3><span class="mw-headline" id="0727">0727</span></h3>
<p>Idea: For a lot of times we want contour to be thicker than inner feature lines, maybe I can provide an option to adjust the ratio directly so the user don't have to add two modifiers to slow down the calculation.
</p><p>Discussed about code review plans for this stage of development, at the moment, no new major features would go into Line Art module other than usability and workflow optimizations. Any functional implementations would happen <b>after</b> current code getting reviewed and made into <code>master</code>. 
</p>
<h3><span class="mw-headline" id="0728">0728</span></h3>
<ul><li>[Done] <s>Strokes are retained when Line Art master switch (<code>auto_update</code>) is disabled.</s></li>
<li>[Done] <s>Memory allocation now allows large mesh (as large as client memory can take).</s></li>
<li>[Done] <s>Quick menu to create line art configurations in one click.</s></li>
<li>[Done Also see 0729] <s>NDC to viewport bug.</s>
<ul><li>So this problem is that I have not applied NDC to viewport transformation for Z buffer, hence mapping z from (-1,1) to (0,1). If not having done so, when a result line crosses NDC Z=0 plane, the image to global back transformation formula isn't correct, thus creating crazy exploding lines at NDC Z=0 plane. This problem doesn't exist anymore, but near clipping pre-processing might have some bugs, which are producing erroneous clipped triangles.</li></ul></li></ul>
<h3><span class="mw-headline" id="0729">0729</span></h3>
<ul><li>[Done] <s>NDC to viewport more bug.</s></li></ul>
<p>More about back transform bug: after re-mapping Z, the problem still exists, that's because (0-1) Z buffer is non-linear, or at least not the same linear ratio as NDC. So I used W instead of Z as distance reference for 2D to 3D back-transform, This time is correct, and won't produce errors observed yesterday. But near clipping still has some slight issues, with lines poking out right on the near plane. Need to take a closer look.
</p><p>Also Did some code clean-ups.
</p>
<ul><li>[Not really done] <s>Intersection lines appear on near clipping plane position.</s></li></ul>
<p>Found out the reason why that wrong intersection line appearing at the near clipping plane (as adjacent triangle line) is that when clipping, each adjacent triangle gets duplicated shared edge and vertex. but <code>rl-&gt;tr， rl-&gt;tl</code> is correct adjacent data. Using this hack can get rid of the rouge intersection, but the topology is in-fact incorrect. In the future we should have another algorithm that handles this kind of situation.
</p>
<ul><li><ul><li>So I found out that my current method of clipping triangles simply can't keep correct adjacent data. This function needs to be re-written. Currently a hack is used to dicard rouge lines on clipped triangle pairs.</li></ul></li></ul>
<ul><li>[Done] <s>Long line sometimes not registering in occlusion tasks.</s>
<ul><li>This is due to a wrong bounding area priority edge detection method.</li></ul></li>
<li>[Done] <s>Angle splitting before give line results.</s></li>
<li>[Done] <s>Applying modifier doesn't show the calculated result.</s></li></ul>
<p>Did some memory optimizations:
</p>
<ul><li>Saved 32 bytes per triangle.</li>
<li>Saved 16 bytes per vertex.</li>
<li>Saved 4 bytes per edge.</li>
<li>Saved 2 bytes per occlusion cut on one edge. (1 byte might be added back for future "transparent window" functionality)</li></ul>
<p>These should have some visible gain on Line Art memory usage.
</p>
<h3><span class="mw-headline" id="0803">0803</span></h3>
<p>Did some code clean-ups, updated on <a rel="nofollow" class="external free" href="https://developer.blender.org/D5442">https://developer.blender.org/D5442</a>, but this old diff is already filled up with comments and history. I may need to create a new diff. Also, <code>arc</code> doesn't seem to work very well with <code>proxychains</code>.
</p>
<h3><span class="mw-headline" id="0804_-_0809">0804 - 0809</span></h3>
<p>Mainly code clean-ups.
</p><p>Let intersection line "belong" to one of the two objects it came from, so that you can select intersection lines that are fully contained within a collection, inter-collection selection is not reliable, we will have this as a future function.
</p><p>Very short segments in linked mesh may be under-cut (erroneous occlusion data), producing visual artfacts. Now fixed.
</p><p>When using EEVEE engine, it's scene update code path may interfere with Line Art internal sync state, when rendering animation without baking, it will cause some crashes. Now the problem is fixed.
</p><p>Memory sync flag used to have small problems, solved now.
</p>
<h3><span class="mw-headline" id="0813">0813</span></h3>
<p>Selection of linked collection now fully supported as I implemented a new "instanced" function for finding child objects in link placeholders.
</p>
<h3><span class="mw-headline" id="0814">0814</span></h3>
<ul><li>[Done]<s>File r/w pointer error.</s></li>
<li>[Done]<s>Garbage lines within the text object.</s></li></ul>
<p>Added an option to enable/disable duplicated object instances in Line Art, which includes face/vert duplication and particle instances. Toggle this switch if viewport performance is of concern.
</p><p>Added curve type object support. Now Curves/Surfaces/Text Objects/Metaballs can be rendered in Line Art without converting to mesh.
</p>
<h3><span class="mw-headline" id="0816">0816</span></h3>
<p>Added transparency material functions, now you can use up to combination of 8 bits to create transparency masks in Line Art, and select different parts to assign different material/styles. This is particularly useful for "behind the glass" kind of scene, where you can render the glass surface, and at the same time show what's inside.
</p><p>Fixed some compiler warnings.
</p>
<h3><span class="mw-headline" id="0820">0820</span></h3>
<ul><li>[Done]<s>Camera shifting would result in wrong image border.</s>
<ul><li>This is caused by wrong FOV, shift values also take account of aspect ratio.</li></ul></li></ul>
<p>Added edge-split capability. Now overlapping edges won't cause flicker or undefined result. This is espetially useful for models that comes from <code>step</code> format, where the converter may not take the overlapping edge into account.
</p><p>Code cleanups.
</p>
<h3><span class="mw-headline" id="0821">0821</span></h3>
<p>Added an "intersection only" flag in collection and object, so that you can use them to only generate occlusion lines and it won't affect the final render.
</p>
<h3><span class="mw-headline" id="0826">0826</span></h3>
<p>Prevent crashes in linux (<code>XWindow bad cursor error</code>) by not showing cursor progress in bakcground thread when there's a g/s/r modal operator running.
</p><p>Disabled viewport selection of Line Art object by default. So this doesn't interfere with your viewport manipulation.
</p>
<h3><span class="mw-headline" id="0827">0827</span></h3>
<p>Prompt on baking finish. If confirm the message, the Line Art is turned off, because all the strokes are already genereated.
</p>
<ul><li>Should have a 2 option menu, one for "disable Line Art", one for "remove Line Art modifiers", so you can quickly move on to add other modifiers if you want.</li></ul>
<p>Prevent infinite tile splitting in dense triangle scenarios. This makes it good for calculating head-on views of industrial model, where a large amount of faces may align perfectly together.
</p>
<h3><span class="mw-headline" id="0828">0828</span></h3>
<p>Feature line compatible near-clipping. No artefacts and all the feature lines that are potentially cut by the near clipping plane is preserved perfectly.
</p><p>Improved quick canceling performance, now viewport manuverability is very good, and Line Art will always calculate based on latest state of the scene, thus there won't be ghost lines when you move stuff around.
</p>
<h3><span class="mw-headline" id="0829">0829</span></h3>
<p>Slope throwaway threshold increased to 1e-9, otherwise would cause K=inf error in line intersecting.
</p>
<h3><span class="mw-headline" id="0831">0831</span></h3>
<p>Problems reported from twitter <code>@AversionReality</code>, below are some stuff. Note that these are from version 2020-08-26, I just did an update on viewport task cancelling and that version may happened to be based on an unstable commit.
</p>
<ul><li>"Some crashes". May related to cursor progress reporting, but not very likely because my situation is an <code>XWindow Bad Cursor</code> error.</li>
<li>Duplicated GP object will stop everything from showing. (Not replicated today)</li>
<li>No lines from sub collections. (Not replicated today and using fresh file seems to have solved it)</li>
<li>Freestyle edge mark not available when there are mesh modifiers.</li>
<li>Possible memory leaks?</li></ul>
<p>Other preferred stuff, some of them are also mentioned in earlier "<a href="../Line_Art_Desired_Functionality.html" class="mw-redirect" title="Line Art Desired Functionality">future functions</a>" page.
</p>
<ul><li>Baking single frame.</li>
<li>Per-object crease.</li>
<li>External contour (see below).</li>
<li>Excluded object can be included by using the modifier alone so you don't have to create a collection just for that.</li>
<li>Material as source (not sure based on current algorithm, may add memory).</li>
<li>Vertex group stuff.</li></ul>
<p>Cleaned up some stuff and made a revision here on developer page: <a rel="nofollow" class="external free" href="https://developer.blender.org/D8758">https://developer.blender.org/D8758</a>
</p><p>New line intersection function based on <code>isect_v2_v2</code>, appears to be stable. Also fixed <code>ratiod()</code> usages.
</p><p>Development logs starting from September <a href="../LineArt_Development_Log_2020_09.html" class="mw-redirect" title="LineArt Development Log 2020 09">is continued in this new page</a>.
</p>
<!-- 
NewPP limit report
Cached time: 20240112121250
Cache expiry: 86400
Dynamic content: false
CPU time usage: 0.072 seconds
Real time usage: 0.071 seconds
Preprocessor visited node count: 166/1000000
Preprocessor generated node count: 172/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
Unstrip recursion depth: 0/20
Unstrip post‐expand size: 0/5000000 bytes
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%    0.000      1 -total
-->
</div>
<!-- Saved in parser cache with key mw_wiki-mediawiki_:pcache:idhash:5112-0!canonical and timestamp 20240112121250 and revision id 19104
 -->
</div><div class="clearfix"></div><div class="printfooter">Retrieved from "<a dir="ltr" href="https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;oldid=19104">https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;oldid=19104</a>"</div>					</div>
				</div>
			</div>
		</div>

		<!-- Footer -->
		<footer class="footer pt-4">

			<!-- Footer Links -->
			<div class="container-fluid text-md-left">

				<!-- Grid row -->
				<div class="row">
					<div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">info</h5><p id="footer-info-lastmod"> This page was last edited on 31 August 2020, at 14:07.</p><p id="footer-info-copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike</a> unless otherwise noted.</p></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">places</h5><ul id="footer-places" role="contentinfo"><li id="footer-places-privacy"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:Privacy_policy" title="Blender Developer Wiki:Privacy policy">Privacy policy</a></li><li id="footer-places-about"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:About" title="Blender Developer Wiki:About">About Blender Developer Wiki</a></li><li id="footer-places-disclaimer"><a href="https://wiki.blender.org/wiki/Blender_Developer_Wiki:General_disclaimer" title="Blender Developer Wiki:General disclaimer">Disclaimers</a></li></ul></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">Utilities</h5><ul id="p-tb"><li id="t-whatlinkshere"><a href="../Special:WhatLinksHere/User:Yiming/LANPR_GP_New_Solutions.html" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="https://wiki.blender.org/wiki/Special:RecentChangesLinked/User:Yiming/LANPR_GP_New_Solutions" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-contributions"><a href="../Special:Contributions/Yiming.html" title="A list of contributions by this user">User contributions</a></li><li id="t-log"><a href="../Special:Log/Yiming.html">Logs</a></li><li id="t-userrights"><a href="../Special:UserRights/Yiming.html">View user groups</a></li><li id="t-specialpages"><a href="../Special:SpecialPages.html" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;oldid=19104" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="https://wiki.blender.org/w/index.php?title=User:Yiming/LANPR_GP_New_Solutions&amp;action=info" title="More information about this page">Page information</a></li></ul></div><div class="col-md-3 mt-md-0 mt-3"><h5 class="text-uppercase">Navigation</h5><ul id="p-navigation"><li id="n-mainpage-description"><a href="../Main_Page.html" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-recentchanges"><a href="../Special:RecentChanges.html" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-randompage"><a href="../Special:Random.html" title="Load a random page [x]" accesskey="x">Random page</a></li><li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li></ul></div>
				</div>
				<!-- Grid row -->

				<!-- Grid row -->
				<div class="row pt-4 pb-4">
					<div class="col">
						<!-- Copyright -->
						<div class="text-center">Creative freedom starts with Blender – The Free and Open Source 3D Creation Suite
						</div>
						<!-- Copyright -->
					</div>
				</div>
				<!-- Grid row -->

			</div>
			<!-- Footer Links -->
		</footer>
		<!-- Footer -->


		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.072","walltime":"0.071","ppvisitednodes":{"value":166,"limit":1000000},"ppgeneratednodes":{"value":172,"limit":1000000},"postexpandincludesize":{"value":0,"limit":2097152},"templateargumentsize":{"value":0,"limit":2097152},"expansiondepth":{"value":2,"limit":40},"expensivefunctioncount":{"value":0,"limit":100},"unstrip-depth":{"value":0,"limit":20},"unstrip-size":{"value":0,"limit":5000000},"timingprofile":["100.00%    0.000      1 -total"]},"cachereport":{"timestamp":"20240112121250","ttl":86400,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":119});});</script>		<script defer src="https://static.cloudflareinsights.com/beacon.min.js/v84a3a4012de94ce1a686ba8c167c359c1696973893317" integrity="sha512-euoFGowhlaLqXsPWQ48qSkBSCFs3DPRyiwVu3FjR96cMPx+Fr+gpWRhIafcHwqwCqWS42RZhIudOvEI+Ckf6MA==" data-cf-beacon='{"rayId":"84454f5dd8970eb4","b":1,"version":"2023.10.0","token":"d5f49e4e21684977a6be2ac49670f7b1"}' crossorigin="anonymous"></script>
</body>
		</html>

		